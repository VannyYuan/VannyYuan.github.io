---
title: åŸºäºŽCgtwçš„æ‰“åŒ…å·¥å…·
tags: [MAYA, CgTeamwork]
category: cgtw
date: 2021-4-13 16:53:00
---

&emsp;&emsp;å› ä¸ºå…¬å¸åˆ¶ä½œèµ„äº§é¡¹ç›®æ—¶ï¼Œç»å¸¸éœ€è¦æŠŠæ–‡ä»¶å‘é€ç»™å¤–åŒ…æˆ–è€…å®¢æˆ·ï¼Œä½†æ˜¯ä¸€ä¸ªä¸ªæ–‡ä»¶æ•´ç†å‘é€ï¼Œç‰¹åˆ«æ˜¯ Maya æ–‡ä»¶ä½ç½®ç§»åŠ¨åŽï¼Œé‡Œé¢ä½¿ç”¨çš„è·¯å¾„ä¹Ÿéœ€è¦æ›´æ–°ï¼Œå¦‚æžœé€ä¸ªæ–‡ä»¶æ›´æ”¹è·¯å¾„æ˜¾ç„¶éžå¸¸éº»çƒ¦ã€‚å› æ­¤æ‰“åŒ…å·¥å…·çš„ä½œç”¨å°±æ˜¯å†æ‰“åŒ…åŽå®žçŽ°æ‰“å¼€å³å¯ç”¨ï¼Œç®€åŒ–æ‰“åŒ…æ–¹å’ŒæŽ¥æ”¶æ–¹çš„æ“ä½œã€‚

&emsp;&emsp;å…¶å®žæ—©åœ¨ä¹‹å‰å°±å·²ç»å¼€å‘è¿‡æ‰“åŒ…å·¥å…·ï¼Œä½†æ˜¯ç”±äºŽå½“æ—¶å¯¹ Qt è¿˜ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œæ²¡æœ‰æŽŒæ¡ MVC æ¡†æž¶çš„çŸ¥è¯†ï¼Œè€Œä¸”åˆšæŽ¥è§¦ Cgtwï¼Œå¯¹å®ƒçš„æŽ¥å£ä»¥åŠä½¿ç”¨æ–¹æ³•éƒ½æ²¡æœ‰æ·±å…¥ç ”ç©¶è¿‡ï¼Œå› æ­¤å¼€å‘å‡ºæ¥çš„å·¥å…·ååˆ†æ‹™åŠ£ï¼ŒåŸºæœ¬éƒ½æ˜¯å‚è€ƒ Cgtw åŽŸæœ‰çš„æ‰“åŒ…å·¥å…·è€Œä¿®æ”¹å¼€å‘å‡ºæ¥çš„ã€‚

## ä¸€ã€æ‰“åŒ…å·¥å…·çš„æ›´è¿­
1. ðŸ™„ Cgtw çš„æ‰“åŒ…å·¥å…·  
&emsp;&emsp;è¿™æ˜¯ Cgtw çš„è‡ªå¸¦çš„æ‰“åŒ…å·¥å…·ï¼Œåªæœ‰å•çº¯çš„å¤åˆ¶æ–‡ä»¶åŠŸèƒ½ã€‚  
![](åŸºäºŽCgtwçš„æ‰“åŒ…å·¥å…·/1.png)  

2. ðŸ˜² æ‰“åŒ…å·¥å…· 2  
&emsp;&emsp;è¿™æ˜¯æ¨¡ä»¿ Cgtw å¼€å‘å‡ºæ¥çš„æ‰“åŒ…å·¥å…·ï¼Œæ·»åŠ äº†å¯¹ Maya åœºæ™¯çš„å¤„ç†ã€‚åœ¨ Cgtw çš„ç•Œé¢åŸºç¡€ä¸Šï¼Œè¿˜æ·»åŠ äº†èµ„äº§/é•œå¤´ã€æ‰“åŒ…è·¯å¾„ã€é¡¹ç›®ã€å½“å‰é€‰æ‹©æ–‡ä»¶å¤¹è·¯å¾„ã€æ–‡ä»¶å¤¹æ˜¾ç¤ºæ–‡ä»¶åˆ—è¡¨çš„æ˜¾ç¤ºã€‚  
&emsp;&emsp;ç”±äºŽæ²¡æœ‰ä½¿ç”¨ MVC æ¡†æž¶ï¼Œåƒè§†å›¾ä½¿ç”¨çš„éƒ½æ˜¯ QListWidgetã€ QTreeWidgetï¼Œè€Œä¸æ˜¯ QListViewã€QTreeViewç­‰ï¼Œå› æ­¤å¦‚æžœæœ‰ä¿®æ”¹éœ€æ±‚ï¼Œåˆ™ä»£ç æ”¹åŠ¨ä¼šå¾ˆå¤§ï¼Œä»¥è‡³äºŽåŽé¢å·²ç»ä¸æƒ³å†ç»´æŠ¤è¿™ä¸ªå·¥å…·ï¼Œè€Œæ˜¯åŽ»å¼€å‘æ–°ä¸€ä»£çš„æ‰“åŒ…å·¥å…·ã€‚  
![](åŸºäºŽCgtwçš„æ‰“åŒ…å·¥å…·/2.png)  


1. ðŸ˜‡ æ‰“åŒ…å·¥å…· 3  
&emsp;&emsp;åŸºæœ¬ä¸Šæ‰“åŒ…å·¥å…· 3 å·²ç»æ˜¯æ•´ä¸ªç•Œé¢ã€å†…ç½®æ–¹æ³•å…¨éƒ½é‡å†™äº†ï¼Œç”±äºŽæ˜¯è‡ªå·±æ•´ç†ç¼–å†™çš„ï¼Œå› æ­¤å¯¹é‡Œé¢çš„æ–¹æ³•å’ŒåŽŸç†éƒ½æ¯”è¾ƒç†Ÿæ‚‰ï¼Œä¸‹é¢å°±é‡ç‚¹è®²ä¸€ä¸‹è¿™ä¸ªå·¥å…·å§ï¼  
![](åŸºäºŽCgtwçš„æ‰“åŒ…å·¥å…·/3.png)  

---

## äºŒã€åŠŸèƒ½æ¼”ç¤ºè¯´æ˜Ž
### ðŸ¥• å¯åŠ¨å·¥å…·
1. Cgtw ä¸­é€‰ä¸­éœ€è¦æ‰“åŒ…çš„ èµ„äº§/é•œå¤´ï¼Œå¯åŠ¨ â€œæ‰“åŒ…å·¥å…· 3.0â€ã€‚  
![](åŸºäºŽCgtwçš„æ‰“åŒ…å·¥å…·/g1.gif)

2. ç­‰å¾…è¯»å–æ‰“åŒ…ä¿¡æ¯ã€ç•Œé¢åŠ è½½ã€‚  
![](åŸºäºŽCgtwçš„æ‰“åŒ…å·¥å…·/g2.gif)

### ðŸ¥• è®¾ç½®æ‰“åŒ…ä¿¡æ¯
1. ä¿®æ”¹æ‰“åŒ…è·¯å¾„  
&emsp;&emsp;é»˜è®¤ä¸ºé¡¹ç›®è®¾å®šçš„æ‰“åŒ…è·¯å¾„ï¼Œå¦‚æžœæƒ³æ‰“åŒ…åˆ°å…¶ä»–æ–‡ä»¶å¤¹ä¹Ÿå¯ä»¥è‡ªè¡Œè®¾å®šã€‚  
![](åŸºäºŽCgtwçš„æ‰“åŒ…å·¥å…·/g3.gif)

1. èµ„äº§æ•´åˆ  
&emsp;&emsp;å¯¹äºŽèµ„äº§æ‰“åŒ…é˜¶æ®µï¼Œå‹¾é€‰â€œèµ„äº§æ•´åˆâ€ä¼šå¯¹èµ„äº§åˆ—è¡¨ä¸­çš„æ‰€æœ‰èµ„äº§åˆ†åˆ«æ•´åˆï¼Œå¯¹ç»‘å®šã€è´´å›¾ã€æ¯›å‘é˜¶æ®µèµ„äº§æ•´åˆåˆ°ä¸€ä¸ªæ–‡ä»¶é‡Œï¼Œå¹¶ä¸”è¾“å‡ºæ•´åˆä¿¡æ¯ã€‚  
![](åŸºäºŽCgtwçš„æ‰“åŒ…å·¥å…·/5.png)

1. ä½¿ç”¨æ‰“åŒ…æ¨¡ç‰ˆ  
&emsp;&emsp;å¯ä»¥é€šè¿‡é€‰æ‹©é¢„è®¾çš„æ‰“åŒ…æ¨¡ç‰ˆå¿«é€Ÿé€‰æ‹©éœ€è¦æ‰“åŒ…çš„æ–‡ä»¶å¤¹ã€‚  
![](åŸºäºŽCgtwçš„æ‰“åŒ…å·¥å…·/g4.gif)

1. é¡¹ç›®è·¯å¾„æ›´æ”¹  
&emsp;&emsp;å‡å¦‚é¡¹ç›®ç»è¿‡ç§»åŠ¨ï¼Œè€Œmayaåœºæ™¯æ–‡ä»¶æ²¡æœ‰ä¿®æ”¹å¯¹åº”å¼•ç”¨è·¯å¾„ï¼Œåˆ™éœ€è¦é€šè¿‡å‹¾é€‰â€œé¡¹ç›®è·¯å¾„æ›´æ”¹â€ï¼Œå¡«å†™æ–°æ—§é¡¹ç›®è·¯å¾„è¿›è¡Œæ‰“åŒ…ã€‚  
![](åŸºäºŽCgtwçš„æ‰“åŒ…å·¥å…·/7.png)

1. æ‰¹é‡é€‰æ‹©  
&emsp;&emsp;åœ¨èµ„äº§ä¸­é€‰æ‹© ALLï¼Œä¹‹åŽåœ¨æ–‡ä»¶æ¡†ä¸­å‹¾é€‰æ–‡ä»¶å¤¹ä¼šå¯¹æ‰€æœ‰èµ„äº§çš„æ–‡ä»¶å¤¹è¿›è¡Œç»Ÿä¸€å‹¾é€‰ã€‚  
![](åŸºäºŽCgtwçš„æ‰“åŒ…å·¥å…·/8.png)

1. å‹¾é€‰æ–‡ä»¶å¤¹  
&emsp;&emsp;åœ¨é€‰å¥½èµ„äº§åŽï¼Œç‚¹å‡»æ–‡ä»¶å¤¹ï¼Œä¼šåœ¨å³è¾¹æ˜¾ç¤ºæ–‡ä»¶å¤¹è·¯å¾„ï¼Œå‹¾é€‰æ–‡ä»¶å¤¹åˆ™è¡¨ç¤ºè¯¥æ–‡ä»¶å¤¹çš„å†…å®¹ä¼šè¢«æ‰“åŒ…ã€‚å‹¾é€‰é˜¶æ®µä¼šæŠŠé˜¶æ®µä»¥ä¸‹çš„æ–‡ä»¶å¤¹å…¨éƒ¨å‹¾é€‰ã€‚  
![](åŸºäºŽCgtwçš„æ‰“åŒ…å·¥å…·/g5.gif)

1. ç¼–è¾‘æ–‡ä»¶å¤¹å†…æ‰“åŒ…çš„æ–‡ä»¶  
&emsp;&emsp;åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œè¯¥å·¥å…·ä»…ä¼šæ‰“åŒ… Cgtw æ–‡ä»¶æ¡†å†…ç¬¦åˆæ˜¾ç¤ºè§„åˆ™çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼Œå¦‚æžœéœ€è¦æ‰“åŒ…æ–‡ä»¶æ¡†çš„å…¶ä»–æ–‡ä»¶ï¼Œåˆ™å¯ä»¥åœ¨é€‰æ‹©èµ„äº§ã€æ–‡ä»¶æ¡†åŽï¼Œå‹¾é€‰â€œç¼–è¾‘æ–‡ä»¶å¤¹æ‰“åŒ…å†…å®¹â€ï¼Œå†å‹¾é€‰éœ€è¦æ‰“åŒ…çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ã€‚  
![](åŸºäºŽCgtwçš„æ‰“åŒ…å·¥å…·/9.png)

1. ç”Ÿæˆæ‰“åŒ…èµ„äº§è¡¨  
&emsp;&emsp;å‹¾é€‰â€œç”Ÿæˆæ‰“åŒ…èµ„äº§è¡¨â€ï¼Œåœ¨æ‰“åŒ…ç»“æŸåŽä¼šåœ¨æ‰“åŒ…è·¯å¾„ä¸‹ç”Ÿæˆä¸€ä¸ªâ€œé¡¹ç›®æ‰“åŒ…è®°å½•è¡¨.xlsxâ€çš„æ–‡ä»¶ï¼Œæè¿°æœ¬æ¬¡èµ„äº§æ•´åˆçš„æƒ…å†µã€‚  
![](åŸºäºŽCgtwçš„æ‰“åŒ…å·¥å…·/10.png)  
![](åŸºäºŽCgtwçš„æ‰“åŒ…å·¥å…·/11.png)

### ðŸ¥• æ‰“åŒ…æ–¹å¼
&emsp;&emsp;æ‰“åŒ…æ–¹å¼æœ‰ä¸‰ç§ï¼šå‰å°æ‰“åŒ…ã€åŽå°æ‰“åŒ…å’Œæäº¤Deadlineã€‚  
1. å‰å°æ‰“åŒ…ï¼šæ‰“åŒ… maya æ–‡ä»¶æ—¶å‰å°æ‰“å¼€æ–‡ä»¶è¿›è¡Œæ‰“åŒ…ã€‚
2. åŽå°æ‰“åŒ…ï¼šæ‰“åŒ… maya æ–‡ä»¶æ—¶åŽå°æ‰“å¼€æ–‡ä»¶è¿›è¡Œæ‰“åŒ…ã€‚
3. æäº¤Deadlineï¼šæŠŠæ‰“åŒ…ä»»åŠ¡æäº¤åˆ° Deadlineï¼Œç”±æ¸²æŸ“å†œåœºåˆ†é…æœºå™¨è¿›è¡Œæ‰“åŒ…ã€‚

### ðŸ¥• æ‰“åŒ…è¿›åº¦
&emsp;&emsp;å¦‚æžœä½¿ç”¨å‰å°æ‰“åŒ…æˆ–åŽå°æ‰“åŒ…ï¼Œå¼€å§‹æ‰“åŒ…åŽä¼šå¼¹å‡ºè¿›åº¦æ¡ä»¥åŠæ‰“åŒ…ä¿¡æ¯çª—å£ã€‚  
![](åŸºäºŽCgtwçš„æ‰“åŒ…å·¥å…·/12.png)

### ðŸ¥• æ‰“åŒ…æ–‡ä»¶å­˜æ”¾
&emsp;&emsp;æ‰€æœ‰å‹¾é€‰éœ€è¦æ‰“åŒ…çš„æ–‡ä»¶éƒ½ä¼šæ‰“åŒ…åˆ°æ‰“åŒ…è·¯å¾„ä¸‹ï¼Œè€Œä¸”ä¼šç»§æ‰¿åŽŸè·¯å¾„ï¼ˆæ•´åˆèµ„äº§é™¤å¤–ï¼Œå…·ä½“è§„åˆ™åœ¨â€œé¡¹ç›®æ‰“åŒ…è®°å½•è¡¨â€ä¸­ï¼‰ã€‚
&emsp;&emsp;Maya æ–‡ä»¶å†…å¼•ç”¨çš„æ–‡ä»¶ä¼šæ”¾åœ¨ s: ç›˜ç¬¦ä¸‹ï¼Œå½“å¤–åŒ…å’Œå®¢æˆ·æ˜ å°„ä¸€ä¸ª s: ç›˜å¹¶æŠŠæ‰“åŒ…æ–‡ä»¶æ”¾åœ¨è¯¥ç›˜ä¸‹ï¼Œæ‰“å¼€ maya æ–‡ä»¶åŽèƒ½å¤Ÿè¯»å–åˆ°å¯¹åº”çš„å¼•ç”¨æ–‡ä»¶ã€‚
![](åŸºäºŽCgtwçš„æ‰“åŒ…å·¥å…·/13.png)

---

## ä¸‰ã€Cgtw æŽ¥å£
&emsp;&emsp;ç”±äºŽæ˜¯åœ¨ Cgtw ä¸­è¿›è¡Œå·¥å…·çš„è°ƒç”¨ï¼Œé‚£ä¹ˆåœ¨è°ƒç”¨æ—¶è‚¯å®šè¦é€šè¿‡ Cgtw èŽ·å–æ‰“åŒ…å†…å®¹ä¿¡æ¯çš„ï¼Œå› æ­¤éœ€è¦è¿™äº›ä¿¡æ¯èŽ·å–çš„æŽ¥å£ã€‚å½“åœ¨ Cgtw ä¸­æ‰§è¡Œæ“ä½œæ—¶ï¼ˆå¦‚é€‰æ‹©åˆ¶ä½œé˜¶æ®µæ‰“å¼€å·¥å…·ã€æ‰“å¼€æ–‡ä»¶ç­‰ï¼‰ï¼ŒCgtw ä¼šè®°å½•ä½ ä¸Šä¸€ä¸ªæ“ä½œï¼Œå¯ä»¥é€šè¿‡æŽ¥å£èŽ·å–å¯¹åº”ä¿¡æ¯ã€‚

### èŽ·å–åŸºæœ¬æ•°æ®

&emsp;&emsp;ä¸€èˆ¬æ•°æ®åº“ã€æ¨¡å—ã€æ¨¡å—ç±»åž‹ç­‰åŸºæœ¬ä¿¡æ¯ï¼Œéƒ½æ˜¯é€šè¿‡ ```cgtw2.tw().client``` èŽ·å–ã€‚
```Python
import cgtw2
self.m_tw          = cgtw2.tw()
self.m_database    = self.m_tw.client.get_database()
self.m_module      = self.m_tw.client.get_module()
self.m_module_type = self.m_tw.client.get_module_type()
self.m_id_list     = self.m_tw.client.get_id()
```

&emsp;&emsp;å…¶ä¸­ï¼š  
1. m_database ä¸ºæ•°æ®åº“
2. m_module ä¸ºæ¨¡å—ï¼ˆasset/shotï¼‰
3. m_module_type ä¸ºæ¨¡å—ç±»åž‹
4. m_id_list ä¸ºå½“å‰é€‰ä¸­çš„é¡¹idåˆ—è¡¨ï¼Œå¦‚é€‰ä¸­ä¸¤é¡¹åˆ™è¯¥åˆ—è¡¨æ•°æœ‰ä¸¤ä¸ªã€‚  
    ![](åŸºäºŽCgtwçš„æ‰“åŒ…å·¥å…·/4.png)

### èŽ·å–å…·ä½“ä¿¡æ¯

&emsp;&emsp;é€šè¿‡åŸºæœ¬æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥èŽ·å–æ›´å¤šä¿¡æ¯ã€‚
```Python
def get_proj_name(self):
    """èŽ·å–é¡¹ç›®å

    Returns:
        proj_name[str]: é¡¹ç›®å
    """
    proj_name = self.m_tw.task.get(self.m_database,self.m_module,self.m_id_list,['eps.project_code'])[0]['eps.project_code']
    return proj_name

def get_module_type_id(self, m_id):
    """èŽ·å–task id

    Returns:
        task_id[str]: task id
    """
    task_id = self.m_tw.task.get(self.m_database,self.m_module,[m_id],[self.m_module_type+'.id'])[0][self.m_module_type+'.id']
    return task_id

def get_module_id(self, m_id):
    """èŽ·å–module id

    Returns:
        module_id[str]: module id
    """
    module_id = self.m_tw.task.get(self.m_database,self.m_module,[m_id],[self.m_module+'.id'])[0][self.m_module+'.id']
    return module_id

def get_module_entity(self, m_id):
    """èŽ·å–å½“å‰èµ„äº§å/é•œå¤´å·

    Returns:
        module_entity[str]: module_entity
    """
    module_entity = self.m_tw.task.get(self.m_database,self.m_module,[m_id],[self.m_module+'.entity'])[0][self.m_module+'.entity']
    return module_entity

def get_module_cn_name(self, m_id): 
    """èŽ·å–èµ„äº§ä¸­æ–‡å

    Returns:
        module_cn_name[str]: module_cn_name
    """
    if self.m_module == 'asset':
        module_cn_name = self.m_tw.task.get(self.m_database,self.m_module,[m_id],[self.m_module+'.cn_name'])[0][self.m_module+'.cn_name']
    else:
        module_cn_name = ''
    return module_cn_name

def get_module_link_eps(self, m_id):
    """èŽ·å–é•œå¤´çš„å…³è”é›†æ•°

    Returns:
        module_link_eps[str]: module_link_eps
    """
    if self.m_module == 'shot':
        module_link_eps = self.m_tw.task.get(self.m_database,self.m_module,[m_id],[self.m_module+'.link_eps'])[0][self.m_module+'.link_eps']
    else:
        module_link_eps = ''
    return module_link_eps

def get_module_beizhu(self, m_id):
    """èŽ·å–é•œå¤´çš„å¤‡æ³¨

    Returns:
        module_beizhu[str]: module_beizhu
    """
    if self.m_module == 'shot':
        module_beizhu = self.m_tw.task.get(self.m_database,self.m_module,[m_id],[self.m_module+'.beizhu'])[0][self.m_module+'.beizhu']
    else:
        module_beizhu = ''
    return module_beizhu

def get_module_image(self, m_id):
    """èŽ·å–èµ„äº§/é•œå¤´çš„ç¼©ç•¥å›¾

    Returns:
        img_path[str]: img_path
    """
    module_image = self.m_tw.task.get(self.m_database,self.m_module,[m_id],[self.m_module+'.image'])[0][self.m_module+'.image']
    img_path = ""
    if module_image:
        img_path = eval(module_image)[0]['min']
        img_path = os.path.join(CGTW_DISK, img_path.lstrip('/')).replace('\\','/')
    return img_path
```


&emsp;&emsp;é€šè¿‡ m_tw.task èŽ·å– asset task idã€‚é€‰æ‹©çš„é¡¹ä¸­å«æœ‰å¤šå°‘ä¸ªèµ„äº§åˆ™ asset_task_ids åˆ—è¡¨å°±æœ‰å¤šå°‘ä¸ªã€‚  
```python
asset_task_ids = self.m_tw.task.get_id(self.m_database, self.m_module, [[self.m_module+'.id','=',asset_id]])
```

&emsp;&emsp;é€šè¿‡ asset task id èŽ·å– pipeline ä¿¡æ¯ã€‚  
```python
pipeline_id_info = self.m_tw.task.get(self.m_database,self.m_module,[asset_task_id],['pipeline.id',self.m_module_type+'.pipeline'])
```

&emsp;&emsp;é€šè¿‡ pipeline ä¿¡æ¯èŽ·å–è¯¥é˜¶æ®µåˆ›å»ºçš„æ–‡ä»¶æ¡†ä¿¡æ¯ã€‚  
```python
pipeline_id = info['pipeline.id']
filebox_info = self.m_tw.filebox.get(db=self.m_database, module=self.m_module, module_type=self.m_module_type, field_list=['sign','#id'], pipeline_id_list=[pipeline_id])
```

&emsp;&emsp;é€šè¿‡ filebox èŽ·å–æ–‡ä»¶å¤¹çš„åç§°ã€è·¯å¾„ã€æ˜¾ç¤ºç±»åž‹ã€æ˜¾ç¤ºè§„åˆ™ç­‰ä¿¡æ¯ã€‚
```python
filebox_id = info['#id']
self.m_tw.info.get_filebox(self.m_database,self.m_module,id=module_id,filebox_id=filebox_id)
```

---

## äºŒã€æ•°æ®ç»“æž„

&emsp;&emsp;å½“æˆ‘ä»¬èŽ·å–äº† cgtw çš„ä¿¡æ¯ä¹‹åŽï¼Œéœ€è¦å°†å…¶å‚¨å­˜èµ·æ¥ï¼Œåœ¨éœ€è¦æ—¶è¿›è¡ŒèŽ·å–ã€‚åœ¨è¯¥å·¥å…·ä¸­ï¼Œä½¿ç”¨äº†ç±»å’Œå¯¹è±¡æ¥å­˜å‚¨æ•°æ®ã€‚

&emsp;&emsp;é¦–å…ˆï¼Œæˆ‘ä»¬è¦æ¸…æ¥šè¦å®žçŽ°ä»€ä¹ˆæ ·çš„åŠŸèƒ½ï¼šæˆ‘ä»¬å…ˆåœ¨ cgtw çš„æŸä¸ªé¡¹ç›®ä¸­çš„ èµ„äº§ä»»åŠ¡/é•œå¤´ä»»åŠ¡ ä¸­ï¼Œé€‰æ‹©éœ€è¦æ‰“åŒ…çš„ èµ„äº§é˜¶æ®µ/é•œå¤´å· ã€‚å·¥å…·æ ¹æ®é€‰ä¸­çš„ä»»åŠ¡è¿›è¡Œåˆ†æžï¼Œåœ¨è®¾å®šçš„è§„åˆ™ä¸Šè®©ç”¨æˆ·é€‰æ‹©éœ€è¦æ‰“åŒ…çš„æ–‡ä»¶å¤¹ï¼Œæœ€åŽå¯¹ç”¨æˆ·é€‰æ‹©çš„å†…å®¹è¿›è¡Œæ‰“åŒ…ã€‚

&emsp;&emsp;æˆ‘ä»¬æ¢³ç†äº†å·¥å…·å·¥ä½œæµç¨‹åŽï¼Œå¯ä»¥å¼€å§‹åˆ†æžå“ªäº›ä¿¡æ¯æ˜¯éœ€è¦çš„ã€å…³è”çš„ã€‚å½“æ¨¡å—ä¸ºèµ„äº§æ—¶ï¼Œå…³è”æ•°æ®ä¸ºâ€œèµ„äº§ - é˜¶æ®µ - æ–‡ä»¶å¤¹ - æ–‡ä»¶å¤¹å†…å®¹â€ï¼›å½“æ¨¡å—ä¸ºé•œå¤´æ—¶ï¼Œå…³è”æ•°æ®ä¸ºâ€œé•œå¤´ - é˜¶æ®µ - æ–‡ä»¶å¤¹ - æ–‡ä»¶å¤¹å†…å®¹â€ã€‚ç”±äºŽå…³è”çš„ä¿¡æ¯æ˜¯å±‚å±‚é€’è¿›çš„å…³ç³»ï¼Œå› æ­¤åˆ©ç”¨äº†ç±»çš„ç»§æ‰¿æ¥ä¿å­˜è¿™äº›ä¿¡æ¯ã€‚

### èµ„äº§/é•œå¤´èŠ‚ç‚¹  
&emsp;&emsp;è¿™ä¸ªèŠ‚ç‚¹åŸºæœ¬å®šä¹‰äº†å¤§éƒ¨åˆ†çš„ä¿¡æ¯ï¼Œæ¯”å¦‚èŠ‚ç‚¹åç§°ã€å­èŠ‚ç‚¹ã€çˆ¶èŠ‚ç‚¹ã€æ–‡ä»¶å¤¹èŠ‚ç‚¹ã€å‹¾é€‰çŠ¶æ€ã€èŠ‚ç‚¹ä¸­æ–‡åã€èŠ‚ç‚¹ç¼©ç•¥å›¾ã€èŠ‚ç‚¹å¤‡æ³¨çš„ä¿¡æ¯ã€‚
```python
class Node(object):
    """èµ„äº§èŠ‚ç‚¹/é•œå¤´èŠ‚ç‚¹

    Args:
        object (class): ç»§æ‰¿objectç±»
    """
    def __init__(self, m_data, parent=None):
        """åˆå§‹åŒ–èŠ‚ç‚¹

        Args:
            m_data (str): èŠ‚ç‚¹åç§°
            parent : Defaults to None.
        """
        self.__name = m_data
        self.__children = []
        self.__parent = parent
        self.__folder_node_list = []
        self.__checkState = False
        self.__cn_name = ""
        self.__image = ""
        self.__beizhu = ""
```

### é˜¶æ®µèŠ‚ç‚¹  
&emsp;&emsp;è¿™ä¸ªèŠ‚ç‚¹æ¯”åŸºç¡€èŠ‚ç‚¹å¤šäº†ä¸€ä¸ªå±žæ€§ï¼šå±•å¼€æŠ˜å ã€‚è¯¥å±žæ€§è®°å½•é˜¶æ®µæ˜¯å¦å±•å¼€ã€‚
```python
class PipeNode(Node):
    """é˜¶æ®µèŠ‚ç‚¹

    Args:
        Node (class): ç»§æ‰¿ Node èŠ‚ç‚¹
    """
    def __init__(self, m_data, parent=None):
        """åˆå§‹åŒ–èŠ‚ç‚¹

        Args:
            m_data (str): èŠ‚ç‚¹åç§°
            parent : Defaults to None.
        """
        super(PipeNode, self).__init__(m_data, parent)
        self.__expand = True
```

### æ–‡ä»¶å¤¹èŠ‚ç‚¹  
&emsp;&emsp;æ–‡ä»¶å¤¹èŠ‚ç‚¹ç»§æ‰¿é˜¶æ®µèŠ‚ç‚¹ï¼ŒåŒæ—¶æ–°å¢žäº†ä¸€äº›å±žæ€§ï¼šæ–‡ä»¶å¤¹æ ‡è¯†ã€è·¯å¾„ã€ç¬¦åˆæ˜¾ç¤ºè§„åˆ™çš„æ–‡ä»¶åˆ—è¡¨ã€æ–‡ä»¶å¤¹æ‰€å±žèµ„äº§åã€æ˜¯å¦ç¼–è¾‘æ‰“åŒ…æ–‡ä»¶ä»¥åŠç¼–è¾‘çš„æ–‡ä»¶åˆ—è¡¨ã€‚

```python
class FolderNode(PipeNode):
    """æ–‡ä»¶å¤¹èŠ‚ç‚¹

    Args:
        PipeNode (class): ç»§æ‰¿é˜¶æ®µèŠ‚ç‚¹
    """
    def __init__(self, m_data, m_info, asset, parent=None):
        """åˆå§‹åŒ–èŠ‚ç‚¹

        Args:
            m_data (str): èŠ‚ç‚¹åç§°
            m_info (dict): èŠ‚ç‚¹è·¯å¾„ã€æ ‡è¯†ã€ç¬¦åˆæ˜¾ç¤ºè§„åˆ™çš„æ–‡ä»¶
            asset (asset): èŠ‚ç‚¹å…³è”çš„èµ„äº§
            parent : Defaults to None.
        """
        super(FolderNode, self).__init__(m_data, parent)
        self.__sign = m_info['sign']
        self.__path = m_info['path']
        self.__rule_paths = m_info['rule_paths']
        self.__asset = asset
        self.__edit_children = 0
        self.__files_children = []
```

## å››ã€Maya æ‰“åŒ…æµç¨‹
&emsp;&emsp;å½“å¤„ç† Maya æ–‡ä»¶æ‰“åŒ…æ—¶ï¼Œæˆ‘ä»¬ä¼šæ–°å¼€ä¸€ä¸ªè¿›ç¨‹ï¼Œç”¨äºŽå¯åŠ¨ Maya ä»¥åŠè¿è¡Œè„šæœ¬ã€‚

### åˆ›å»ºè¿›ç¨‹
&emsp;&emsp;Qt ä¸­çš„ QProcess ç±»å¯ç”¨äºŽå®Œæˆå¯åŠ¨å¤–éƒ¨ç¨‹åºï¼Œå¹¶ä¸Žä¹‹äº¤äº’é€šä¿¡ã€‚
```python
process = QtCore.QProcess()
```

### å¯åŠ¨è¿›ç¨‹
&emsp;&emsp;å¯åŠ¨ QProcess è¿›ç¨‹æœ‰ä¸¤ç§æ–¹å¼ï¼š
1. ä¼ é€’ç¨‹åºä»¥åŠå‘½ä»¤è¡Œå‚æ•°ç»™ start()  
```python
process.start("programm.exe", "echo>test.txt")
```

<!--  -->


---

## èŽ·å–æœ€å¤§ç‰ˆæœ¬å·çš„æ–‡ä»¶

&emsp;&emsp;ç”±äºŽåˆ¶ä½œæ–‡ä»¶çš„è¿‡ç¨‹ä¸€èˆ¬ä¼šæ›´æ–°å¾ˆå¤šä¸ªç‰ˆæœ¬ï¼Œå› æ­¤éœ€è¦ä¸€ä¸ªæ–¹æ³•æ¥èŽ·å–æœ€å¤§ç‰ˆæœ¬çš„æ–‡ä»¶ã€‚

```python
@staticmethod
def get_newset_files(fd_files):
    """èŽ·å–æœ€å¤§ç‰ˆæœ¬æ–‡ä»¶ 
    æ–‡ä»¶æ ¼å¼ï¼š"v" + "ç‰ˆæœ¬æ•°å­—" + "." + "åŽç¼€"

    Args:
        fd_files (list): éœ€è¦ç­›é€‰çš„æ–‡ä»¶åˆ—è¡¨

    Returns:
        max_ver_files[list]: æœ€å¤§ç‰ˆæœ¬æ–‡ä»¶åˆ—è¡¨
    """
    max_ver_files = []
    file_ver_dict = {}
    for fd_file in fd_files:
        split_info = re.split("v(?=\d)|\.", fd_file)
        if not len(split_info) == 3:
            continue
        file_start, file_ver, file_ext = split_info
        if not file_start in file_ver_dict.keys():
            file_ver_dict[file_start] = {'ver': file_ver, 'ext': file_ext}
        elif file_ver > file_ver_dict[file_start]['ver']:
            file_ver_dict[file_start]['ver'] = file_ver
    for start, info in file_ver_dict.items():
        file_path = start + 'v' + info['ver'] + '.' + info['ext']
        max_ver_files.append(file_path)
    return max_ver_files
```
