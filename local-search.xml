<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>UE4é«˜çº§ç¨‹åºå¼€å‘ç³»åˆ—æ•™ç¨‹ - 1_è™šå¹»4å¼•æ“å…³å¡è®¾è®¡</title>
    <link href="/2022/07/15/unreal/UE4%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/1_%E8%99%9A%E5%B9%BB4%E5%BC%95%E6%93%8E%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1/"/>
    <url>/2022/07/15/unreal/UE4%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/1_%E8%99%9A%E5%B9%BB4%E5%BC%95%E6%93%8E%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1/</url>
    
    <content type="html"><![CDATA[<p>&emsp;&emsp;ğŸ§ è¿™æ˜¯ä¸€å¥—æ¯”è¾ƒä¹…è¿œï¼ˆ2019å¹´ï¼‰çš„æ•™ç¨‹ï¼ŒåŸºæœ¬éƒ½æ˜¯ç›´æ¥æˆªå–çŸ¥è¯†ç‚¹ï¼Œä¸»è¦æ˜¯å…¥é—¨åŸºç¡€å­¦ä¹ æ€»ç»“ï¼Œæ–¹ä¾¿è‡ªå·±ä¹‹åç¿»é˜…å¤ä¹ _(:Ğ·ã€âˆ )_ã€‚</p><p><img src="/2022/07/15/unreal/UE4%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/1_%E8%99%9A%E5%B9%BB4%E5%BC%95%E6%93%8E%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1/1.jpg" alt="å†²é¸­"></p><h2 id="L1-è·å–Epic-Gameså¼•æ“æºç "><a href="#L1-è·å–Epic-Gameså¼•æ“æºç " class="headerlink" title="L1 è·å–Epic Gameså¼•æ“æºç "></a>L1 è·å–Epic Gameså¼•æ“æºç </h2><ol><li>æ³¨å†Œ Github è´¦å·ã€‚ï¼ˆç›¸ä¿¡å¤§å®¶éƒ½æœ‰å§ï¼ï¼‰</li><li>åœ¨ Unreal å¼•æ“ä¸­é€‰æ‹© â€œç®¡ç†è´¦æˆ·â€ã€‚<br><img src="/2022/07/15/unreal/UE4%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/1_%E8%99%9A%E5%B9%BB4%E5%BC%95%E6%93%8E%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1/2.png" alt="ç®¡ç†è´¦æˆ·"></li><li>è¿›å…¥è¿æ¥é¡µé¢ï¼Œè¿æ¥ Github è´¦å·ï¼Œç™»é™†åé€‰æ‹©åŠ å…¥ Epic ç»„ç»‡ã€‚<br><img src="/2022/07/15/unreal/UE4%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/1_%E8%99%9A%E5%B9%BB4%E5%BC%95%E6%93%8E%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1/3.png" alt="è¿æ¥"></li><li>åœ¨ Github ä¸­çš„ä¸ªäººä¸»é¡µä¸­å¯ä»¥çœ‹åˆ° Epic Games çš„å›¾æ ‡ï¼Œåˆ™æˆåŠŸåŠ å…¥ï¼<br><img src="/2022/07/15/unreal/UE4%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/1_%E8%99%9A%E5%B9%BB4%E5%BC%95%E6%93%8E%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1/4.png" alt="æˆåŠŸåŠ å…¥"></li></ol><h2 id="L2-å¼•æ“ä¸­çš„åæ ‡ç³»"><a href="#L2-å¼•æ“ä¸­çš„åæ ‡ç³»" class="headerlink" title="L2 å¼•æ“ä¸­çš„åæ ‡ç³»"></a>L2 å¼•æ“ä¸­çš„åæ ‡ç³»</h2><h3 id="å·¦æ‰‹åæ ‡ç³»"><a href="#å·¦æ‰‹åæ ‡ç³»" class="headerlink" title="å·¦æ‰‹åæ ‡ç³»"></a>å·¦æ‰‹åæ ‡ç³»</h3><p><img src="/2022/07/15/unreal/UE4%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/1_%E8%99%9A%E5%B9%BB4%E5%BC%95%E6%93%8E%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1/5.png" alt="å·¦æ‰‹åæ ‡ç³»"></p><h3 id="ä¸–ç•Œåæ ‡ç³»ä¸è‡ªèº«åæ ‡ç³»"><a href="#ä¸–ç•Œåæ ‡ç³»ä¸è‡ªèº«åæ ‡ç³»" class="headerlink" title="ä¸–ç•Œåæ ‡ç³»ä¸è‡ªèº«åæ ‡ç³»"></a>ä¸–ç•Œåæ ‡ç³»ä¸è‡ªèº«åæ ‡ç³»</h3><p><img src="/2022/07/15/unreal/UE4%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/1_%E8%99%9A%E5%B9%BB4%E5%BC%95%E6%93%8E%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1/6.png" alt="åæ ‡ç³»"></p><h2 id="L3-è™šå¹»ä¸­çš„å…‰ç…§"><a href="#L3-è™šå¹»ä¸­çš„å…‰ç…§" class="headerlink" title="L3 è™šå¹»ä¸­çš„å…‰ç…§"></a>L3 è™šå¹»ä¸­çš„å…‰ç…§</h2><h3 id="è™šå¹»ä¸­çš„å…‰ç…§åˆ†ç±»"><a href="#è™šå¹»ä¸­çš„å…‰ç…§åˆ†ç±»" class="headerlink" title="è™šå¹»ä¸­çš„å…‰ç…§åˆ†ç±»"></a>è™šå¹»ä¸­çš„å…‰ç…§åˆ†ç±»</h3><p><img src="/2022/07/15/unreal/UE4%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/1_%E8%99%9A%E5%B9%BB4%E5%BC%95%E6%93%8E%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1/7.png" alt="å…‰ç…§åˆ†ç±»"></p><h3 id="å…‰æºçš„ç§»åŠ¨ç‰¹æ€§"><a href="#å…‰æºçš„ç§»åŠ¨ç‰¹æ€§" class="headerlink" title="å…‰æºçš„ç§»åŠ¨ç‰¹æ€§"></a>å…‰æºçš„ç§»åŠ¨ç‰¹æ€§</h3><p><img src="/2022/07/15/unreal/UE4%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/1_%E8%99%9A%E5%B9%BB4%E5%BC%95%E6%93%8E%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1/8.png" alt="ç§»åŠ¨ç‰¹æ€§"></p><h3 id="å›ºå®šå…‰æº"><a href="#å›ºå®šå…‰æº" class="headerlink" title="å›ºå®šå…‰æº"></a>å›ºå®šå…‰æº</h3><p><img src="/2022/07/15/unreal/UE4%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/1_%E8%99%9A%E5%B9%BB4%E5%BC%95%E6%93%8E%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1/9.png" alt="å›ºå®šå…‰æº"></p><h3 id="å…‰ç…§æ¨¡å¼"><a href="#å…‰ç…§æ¨¡å¼" class="headerlink" title="å…‰ç…§æ¨¡å¼"></a>å…‰ç…§æ¨¡å¼</h3><p><img src="/2022/07/15/unreal/UE4%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/1_%E8%99%9A%E5%B9%BB4%E5%BC%95%E6%93%8E%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1/10.png" alt="å…‰ç…§æ¨¡å¼"></p><h3 id="é—´æ¥å…‰ç…§ç¼“å­˜"><a href="#é—´æ¥å…‰ç…§ç¼“å­˜" class="headerlink" title="é—´æ¥å…‰ç…§ç¼“å­˜"></a>é—´æ¥å…‰ç…§ç¼“å­˜</h3><p><img src="/2022/07/15/unreal/UE4%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/1_%E8%99%9A%E5%B9%BB4%E5%BC%95%E6%93%8E%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1/11.png" alt="é—´æ¥å…‰ç…§ç¼“å­˜"></p><h3 id="é‡è¦å…‰ç…§ä½“ç§¯"><a href="#é‡è¦å…‰ç…§ä½“ç§¯" class="headerlink" title="é‡è¦å…‰ç…§ä½“ç§¯"></a>é‡è¦å…‰ç…§ä½“ç§¯</h3><p><img src="/2022/07/15/unreal/UE4%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/1_%E8%99%9A%E5%B9%BB4%E5%BC%95%E6%93%8E%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1/12.png" alt="é‡è¦å…‰ç…§ä½“ç§¯"></p><h2 id="L4-è“å›¾è®¤çŸ¥"><a href="#L4-è“å›¾è®¤çŸ¥" class="headerlink" title="L4 è“å›¾è®¤çŸ¥"></a>L4 è“å›¾è®¤çŸ¥</h2><p>&emsp;&emsp;è“å›¾æ˜¯è™šå¹»ä¸­çš„ä¸€ç§å¯è§†åŒ–ç¼–ç¨‹è¯­è¨€ã€‚</p><h3 id="è“å›¾ç§ç±»"><a href="#è“å›¾ç§ç±»" class="headerlink" title="è“å›¾ç§ç±»"></a>è“å›¾ç§ç±»</h3><p><img src="/2022/07/15/unreal/UE4%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/1_%E8%99%9A%E5%B9%BB4%E5%BC%95%E6%93%8E%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1/13.png" alt="è“å›¾ç§ç±»"></p><h3 id="Actor"><a href="#Actor" class="headerlink" title="Actor"></a>Actor</h3><p><img src="/2022/07/15/unreal/UE4%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/1_%E8%99%9A%E5%B9%BB4%E5%BC%95%E6%93%8E%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1/14.png" alt="Actor"></p><h3 id="è“å›¾ç¼–è¾‘å™¨"><a href="#è“å›¾ç¼–è¾‘å™¨" class="headerlink" title="è“å›¾ç¼–è¾‘å™¨"></a>è“å›¾ç¼–è¾‘å™¨</h3><p>&emsp;&emsp;å¯ä»¥åœ¨ â€œå†…å®¹æµè§ˆå™¨â€ ä¸­å³é”®æ·»åŠ è“å›¾ã€‚</p><p><img src="/2022/07/15/unreal/UE4%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/1_%E8%99%9A%E5%B9%BB4%E5%BC%95%E6%93%8E%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1/15.png" alt="è“å›¾ç¼–è¾‘å™¨"></p><p>&emsp;&emsp;é€‰æ‹©çˆ¶ç±»ï¼Œå³åˆ›å»ºçš„è“å›¾éœ€è¦ç»§æ‰¿çš„ç±»ã€‚</p><p><img src="/2022/07/15/unreal/UE4%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/1_%E8%99%9A%E5%B9%BB4%E5%BC%95%E6%93%8E%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1/16.png" alt="çˆ¶ç±»"></p><p>&emsp;&emsp;ç»„ä»¶ä¼˜å…ˆäºç»§æ‰¿ï¼Œç»„ä»¶å¯ä»¥é¿å…ç»§æ‰¿çš„è‡ƒè‚¿ï¼Œæ—¢å¯ä»¥å®Œæˆç»§æ‰¿æ‹“å±•çš„åŠŸèƒ½ç‰¹æ€§ï¼Œåˆå¯ä»¥ä¿è¯ç»§æ‰¿é˜Ÿåˆ—çš„æ¸…æ™°å’Œå¹²å‡€ã€‚</p><p>&emsp;&emsp;åœºæ™¯ä¸­å¯æ¸²æŸ“ç‰©ä½“åªæœ‰é™æ€ç½‘æ ¼å’Œéª¨éª¼ç½‘æ ¼ï¼ˆmeshï¼‰åœ¨è“å›¾Actorç¼–è¾‘å™¨ä¸­é€‰æ‹©æ·»åŠ meshç»„ä»¶ï¼Œåœ¨ç»„ä»¶å±æ€§ä¸­çš„â€œè§†å£é€‰é¡¹â€é€‰æ‹©â€œæ˜¾ç¤ºå¼•æ“å†…å®¹â€ã€‚</p><p>&emsp;&emsp;å¯¹äºå·²ç»åˆ›å»ºè“å›¾Actorå¯¹è±¡ï¼Œä¿®æ”¹è“å›¾æ¨¡æ¿ä¸ä¼šå½±å“å·²åˆ›å»ºå¯¹è±¡ï¼Œåªèƒ½é‡æ–°ç”Ÿæˆã€‚</p><h3 id="è“å›¾æ—¥å¿—è¾“å‡º"><a href="#è“å›¾æ—¥å¿—è¾“å‡º" class="headerlink" title="è“å›¾æ—¥å¿—è¾“å‡º"></a>è“å›¾æ—¥å¿—è¾“å‡º</h3><p>&emsp;&emsp;Print StringèŠ‚ç‚¹ - æ—¥å¿—è¾“å‡ºèŠ‚ç‚¹</p><p><img src="/2022/07/15/unreal/UE4%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/1_%E8%99%9A%E5%B9%BB4%E5%BC%95%E6%93%8E%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1/17.png" alt="è¾“å‡ºæ—¥å¿—"></p><p>&emsp;&emsp;è“å›¾èŠ‚ç‚¹åè¯</p><p><img src="/2022/07/15/unreal/UE4%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/1_%E8%99%9A%E5%B9%BB4%E5%BC%95%E6%93%8E%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1/18.png" alt="åè¯"></p><p>&emsp;&emsp;Print èŠ‚ç‚¹</p><p><img src="/2022/07/15/unreal/UE4%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/1_%E8%99%9A%E5%B9%BB4%E5%BC%95%E6%93%8E%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1/19.png" alt="print"></p><h3 id="è“å›¾è¿æ¥"><a href="#è“å›¾è¿æ¥" class="headerlink" title="è“å›¾è¿æ¥"></a>è“å›¾è¿æ¥</h3><p>&emsp;&emsp;æ–­å¼€æ‰§è¡Œçº¿ï¼šAlt + å·¦é”® é’ˆè„š</p><p>&emsp;&emsp;ç§»åŠ¨æ‰§è¡Œçº¿ï¼šctrl + å·¦é”®æ‹–æ‹½ é’ˆè„š</p><h3 id="è“å›¾æ·»åŠ æ³¨é‡Š"><a href="#è“å›¾æ·»åŠ æ³¨é‡Š" class="headerlink" title="è“å›¾æ·»åŠ æ³¨é‡Š"></a>è“å›¾æ·»åŠ æ³¨é‡Š</h3><ol><li>æ¡†é€‰éœ€è¦æ³¨é‡Šçš„èŠ‚ç‚¹ï¼ŒæŒ‰é”®C</li></ol><p><img src="/2022/07/15/unreal/UE4%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/1_%E8%99%9A%E5%B9%BB4%E5%BC%95%E6%93%8E%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1/20.png" alt="è“å›¾æ·»åŠ æ³¨é‡Š"></p><ol><li><p>é€‰ä¸­æ³¨é‡Šï¼ŒæŒ‰é”® Delete åˆ é™¤æ³¨é‡Š</p></li><li><p>ç‚¹é€‰éœ€è¦æ·»åŠ æ³¨é‡Šçš„èŠ‚ç‚¹ï¼Œç‚¹å‡»èŠ‚ç‚¹ä¸Šæ–¹çš„â€œâ€¦â€</p></li></ol><p><img src="/2022/07/15/unreal/UE4%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/1_%E8%99%9A%E5%B9%BB4%E5%BC%95%E6%93%8E%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1/21.png" alt="è“å›¾æ·»åŠ æ³¨é‡Š"></p><h3 id="Actor-è“å›¾æ„å»ºèŠ‚ç‚¹ï¼ˆæ„é€ å‡½æ•°ï¼‰"><a href="#Actor-è“å›¾æ„å»ºèŠ‚ç‚¹ï¼ˆæ„é€ å‡½æ•°ï¼‰" class="headerlink" title="Actor è“å›¾æ„å»ºèŠ‚ç‚¹ï¼ˆæ„é€ å‡½æ•°ï¼‰"></a>Actor è“å›¾æ„å»ºèŠ‚ç‚¹ï¼ˆæ„é€ å‡½æ•°ï¼‰</h3><p>&emsp;&emsp;Constructionï¼šåœ¨Actoræ„é€ å®Œæ•´åè°ƒç”¨çš„ç¬¬ä¸€å‡½æ•°ï¼ˆè°ƒæ•´å‡½æ•°ï¼‰ï¼Œåœ¨ç‰©ä½“è¢«æ‹–åŠ¨æ—¶ä¹Ÿç›¸å½“äºé‡æ–°æ„å»ºã€‚</p><p><img src="/2022/07/15/unreal/UE4%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/1_%E8%99%9A%E5%B9%BB4%E5%BC%95%E6%93%8E%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1/22.png" alt="æ„é€ å‡½æ•°"></p><p>&emsp;&emsp;å¯ä»¥å–æ¶ˆå‹¾é€‰ â€œæ‹–æ‹½æ—¶è¿è¡Œâ€ å–æ¶ˆæ‹–åŠ¨è°ƒç”¨æ„é€ å‡½æ•°ã€‚</p><p><img src="/2022/07/15/unreal/UE4%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/1_%E8%99%9A%E5%B9%BB4%E5%BC%95%E6%93%8E%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1/23.png" alt="æ‹–åŠ¨"></p><h3 id="è“å›¾äº‹ä»¶"><a href="#è“å›¾äº‹ä»¶" class="headerlink" title="è“å›¾äº‹ä»¶"></a>è“å›¾äº‹ä»¶</h3><ol><li>äº‹ä»¶BeginPlayèŠ‚ç‚¹åªè°ƒç”¨ä¸€æ¬¡ã€‚Actoræ„é€ å®Œåå…ˆè°ƒç”¨constructionï¼Œå†è°ƒç”¨beginplay</li><li>äº‹ä»¶ActorBeginOverlapï¼šä¸å¦ä¸€ä¸ªActoré‡å æ—¶è°ƒç”¨ã€‚ä¸€èˆ¬ç¦ç”¨ï¼Œé€šè¿‡æ·»åŠ ç»„ä»¶å¯ä»¥å®ç°è¯¥åŠŸèƒ½ã€‚</li><li>äº‹ä»¶Tickï¼šå®šæ—¶è°ƒç”¨å‡½æ•°ã€‚é»˜è®¤ä¸ºæ¯å¸§è°ƒç”¨ä¸€æ¬¡ã€‚BeginPlayå…ˆäºTickã€‚</li></ol><p><img src="/2022/07/15/unreal/UE4%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/1_%E8%99%9A%E5%B9%BB4%E5%BC%95%E6%93%8E%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1/24.png" alt="äº‹ä»¶"></p><h3 id="ä½ç§»èŠ‚ç‚¹"><a href="#ä½ç§»èŠ‚ç‚¹" class="headerlink" title="ä½ç§»èŠ‚ç‚¹"></a>ä½ç§»èŠ‚ç‚¹</h3><ol><li>å·®é‡ä½ç§»èŠ‚ç‚¹ï¼šAddActorWorldOffset ï¼ŒåŸºäºåŸæœ‰ä½ç½®å†è¿›è¡Œåç§»</li></ol><p><img src="/2022/07/15/unreal/UE4%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/1_%E8%99%9A%E5%B9%BB4%E5%BC%95%E6%93%8E%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1/25.png" alt="25"></p><ol start="2"><li>ç›´æ¥ä½ç§»èŠ‚ç‚¹ï¼šSetActorLocation ï¼Œæ ¹æ®ä¸–ç•Œåæ ‡ç§»åŠ¨åˆ°æŒ‡å®šä½ç½®</li></ol><p><img src="/2022/07/15/unreal/UE4%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/1_%E8%99%9A%E5%B9%BB4%E5%BC%95%E6%93%8E%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1/26.png" alt="26"></p><h2 id="L5-3Dæ•°å­¦ï¼ˆå‘é‡ï¼‰"><a href="#L5-3Dæ•°å­¦ï¼ˆå‘é‡ï¼‰" class="headerlink" title="L5 3Dæ•°å­¦ï¼ˆå‘é‡ï¼‰"></a>L5 3Dæ•°å­¦ï¼ˆå‘é‡ï¼‰</h2><ul><li>å‘é‡<ul><li>æœ‰é•¿åº¦æœ‰æ–¹å‘</li><li>UEé‡Œç”¨ç©ºé—´ç›´è§’åæ ‡ç³»è¡¨ç¤ºæ³•</li><li>ä¸‰ç»´ç©ºé—´å‘é‡ç”±ä¸‰åˆ†é‡æ„æˆï¼Œè™šå¹»é‡Œç”¨xyzè¡¨ç¤º</li><li>åæ ‡æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å‘é‡</li></ul></li></ul><h3 id="å‘é‡ç±»å‹"><a href="#å‘é‡ç±»å‹" class="headerlink" title="å‘é‡ç±»å‹"></a>å‘é‡ç±»å‹</h3><p><img src="/2022/07/15/unreal/UE4%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/1_%E8%99%9A%E5%B9%BB4%E5%BC%95%E6%93%8E%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1/27.png" alt="å‘é‡"></p><h3 id="ä½ç½®å‘é‡è¿ç®—"><a href="#ä½ç½®å‘é‡è¿ç®—" class="headerlink" title="ä½ç½®å‘é‡è¿ç®—"></a>ä½ç½®å‘é‡è¿ç®—</h3><p><img src="/2022/07/15/unreal/UE4%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/1_%E8%99%9A%E5%B9%BB4%E5%BC%95%E6%93%8E%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1/28.png" alt="28"></p><ul><li>è®¡ç®—å‘é‡çš„æ¨¡ï¼ˆé•¿åº¦ï¼‰<ul><li>å…ˆè®¡ç®—ä¸¤ä¸ªåæ ‡å‘é‡çš„å·®å‘é‡ï¼Œå†è®¡ç®—å‘é‡çš„é•¿åº¦ã€‚</li><li>ä½¿ç”¨VectorLengthèŠ‚ç‚¹æ±‚æ¨¡</li></ul></li><li>è®¡ç®—å•ä½å‘é‡<ul><li>ä½¿ç”¨NormalizeèŠ‚ç‚¹æ ‡é‡åŒ–</li></ul></li><li>ç‚¹ä¹˜<ul><li>aÂ·b = |a||b|cosÎ¸</li><li>å•ä½å‘é‡çš„ç‚¹ä¹˜å¯ä»¥æ±‚æ–¹å‘</li><li>èŠ‚ç‚¹ï¼šdot</li></ul></li><li>å‰ä¹˜<ul><li>å¾—åˆ°çš„æ˜¯ä¸€ä¸ªå‚ç›´äºå‘é‡abå¹³é¢çš„å‘é‡</li><li>èŠ‚ç‚¹ï¼šcross</li></ul></li><li>è·å–æ­£æ–¹å‘<ul><li>èŠ‚ç‚¹ï¼šGet Actor Forword Vectorï¼ˆè¿”å›çš„æ˜¯å•ä½å‘é‡ï¼‰</li></ul></li></ul><h2 id="L6-è“å›¾æ•°æ®ç±»å‹"><a href="#L6-è“å›¾æ•°æ®ç±»å‹" class="headerlink" title="L6 è“å›¾æ•°æ®ç±»å‹"></a>L6 è“å›¾æ•°æ®ç±»å‹</h2><p><img src="/2022/07/15/unreal/UE4%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/1_%E8%99%9A%E5%B9%BB4%E5%BC%95%E6%93%8E%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1/31.png" alt="31"></p><h3 id="å¼ºç±»å‹ä¸å¼±ç±»å‹"><a href="#å¼ºç±»å‹ä¸å¼±ç±»å‹" class="headerlink" title="å¼ºç±»å‹ä¸å¼±ç±»å‹"></a>å¼ºç±»å‹ä¸å¼±ç±»å‹</h3><p><img src="/2022/07/15/unreal/UE4%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/1_%E8%99%9A%E5%B9%BB4%E5%BC%95%E6%93%8E%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1/29.png" alt="29"></p><p><img src="/2022/07/15/unreal/UE4%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/1_%E8%99%9A%E5%B9%BB4%E5%BC%95%E6%93%8E%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1/30.png" alt="30"></p><h3 id="åŸºæœ¬æ•°æ®ç±»å‹"><a href="#åŸºæœ¬æ•°æ®ç±»å‹" class="headerlink" title="åŸºæœ¬æ•°æ®ç±»å‹"></a>åŸºæœ¬æ•°æ®ç±»å‹</h3><p><img src="/2022/07/15/unreal/UE4%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/1_%E8%99%9A%E5%B9%BB4%E5%BC%95%E6%93%8E%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1/32.png" alt="32"></p><h3 id="å£°æ˜å’Œåˆå§‹åŒ–"><a href="#å£°æ˜å’Œåˆå§‹åŒ–" class="headerlink" title="å£°æ˜å’Œåˆå§‹åŒ–"></a>å£°æ˜å’Œåˆå§‹åŒ–</h3><p><img src="/2022/07/15/unreal/UE4%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/1_%E8%99%9A%E5%B9%BB4%E5%BC%95%E6%93%8E%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1/33.png" alt="33"></p><h3 id="å‘½åæ³•åˆ™"><a href="#å‘½åæ³•åˆ™" class="headerlink" title="å‘½åæ³•åˆ™"></a>å‘½åæ³•åˆ™</h3><p><img src="/2022/07/15/unreal/UE4%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/1_%E8%99%9A%E5%B9%BB4%E5%BC%95%E6%93%8E%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1/34.png" alt="34"></p><h2 id="L7-è“å›¾åŸºæœ¬è¿ç®—"><a href="#L7-è“å›¾åŸºæœ¬è¿ç®—" class="headerlink" title="L7 è“å›¾åŸºæœ¬è¿ç®—"></a>L7 è“å›¾åŸºæœ¬è¿ç®—</h2><p><img src="/2022/07/15/unreal/UE4%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/1_%E8%99%9A%E5%B9%BB4%E5%BC%95%E6%93%8E%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1/35.png" alt="35"></p><h3 id="èµ‹å€¼å’Œè·å–"><a href="#èµ‹å€¼å’Œè·å–" class="headerlink" title="èµ‹å€¼å’Œè·å–"></a>èµ‹å€¼å’Œè·å–</h3><p><img src="/2022/07/15/unreal/UE4%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/1_%E8%99%9A%E5%B9%BB4%E5%BC%95%E6%93%8E%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1/36.png" alt="36"></p><h3 id="æ•´å½¢çš„è‡ªå¢å’Œè‡ªå‡"><a href="#æ•´å½¢çš„è‡ªå¢å’Œè‡ªå‡" class="headerlink" title="æ•´å½¢çš„è‡ªå¢å’Œè‡ªå‡"></a>æ•´å½¢çš„è‡ªå¢å’Œè‡ªå‡</h3><p><img src="/2022/07/15/unreal/UE4%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/1_%E8%99%9A%E5%B9%BB4%E5%BC%95%E6%93%8E%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1/37.png" alt="37"></p><h3 id="å–ä½™è¿ç®—"><a href="#å–ä½™è¿ç®—" class="headerlink" title="å–ä½™è¿ç®—"></a>å–ä½™è¿ç®—</h3><p><img src="/2022/07/15/unreal/UE4%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/1_%E8%99%9A%E5%B9%BB4%E5%BC%95%E6%93%8E%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1/38.png" alt="38"></p><h2 id="L8-è“å›¾æµç¨‹æ§åˆ¶"><a href="#L8-è“å›¾æµç¨‹æ§åˆ¶" class="headerlink" title="L8 è“å›¾æµç¨‹æ§åˆ¶"></a>L8 è“å›¾æµç¨‹æ§åˆ¶</h2><p><img src="/2022/07/15/unreal/UE4%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/1_%E8%99%9A%E5%B9%BB4%E5%BC%95%E6%93%8E%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1/39.png" alt="39"></p><h3 id="åˆ†æ”¯"><a href="#åˆ†æ”¯" class="headerlink" title="åˆ†æ”¯"></a>åˆ†æ”¯</h3><p><img src="/2022/07/15/unreal/UE4%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/1_%E8%99%9A%E5%B9%BB4%E5%BC%95%E6%93%8E%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1/40.png" alt="40"></p><h3 id="å…³ç³»è¿ç®—ç¬¦"><a href="#å…³ç³»è¿ç®—ç¬¦" class="headerlink" title="å…³ç³»è¿ç®—ç¬¦"></a>å…³ç³»è¿ç®—ç¬¦</h3><p><img src="/2022/07/15/unreal/UE4%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/1_%E8%99%9A%E5%B9%BB4%E5%BC%95%E6%93%8E%E5%85%B3%E5%8D%A1%E8%AE%BE%E8%AE%A1/41.png" alt="41"></p><!-- ## L9 æ·è‰²å­æ¡ˆä¾‹æ¼”ç¤º -->]]></content>
    
    
    <categories>
      
      <category>Unreal</category>
      
      <category>UE4é«˜çº§ç¨‹åºå¼€å‘ç³»åˆ—æ•™ç¨‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>UE</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŸºäºCgtwçš„æ‰“åŒ…å·¥å…·</title>
    <link href="/2021/04/13/cgtw/%E5%9F%BA%E4%BA%8ECgtw%E7%9A%84%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7/"/>
    <url>/2021/04/13/cgtw/%E5%9F%BA%E4%BA%8ECgtw%E7%9A%84%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7/</url>
    
    <content type="html"><![CDATA[<p>&emsp;&emsp;å› ä¸ºå…¬å¸åˆ¶ä½œèµ„äº§é¡¹ç›®æ—¶ï¼Œç»å¸¸éœ€è¦æŠŠæ–‡ä»¶å‘é€ç»™å¤–åŒ…æˆ–è€…å®¢æˆ·ï¼Œä½†æ˜¯ä¸€ä¸ªä¸ªæ–‡ä»¶æ•´ç†å‘é€ï¼Œç‰¹åˆ«æ˜¯ Maya æ–‡ä»¶ä½ç½®ç§»åŠ¨åï¼Œé‡Œé¢ä½¿ç”¨çš„è·¯å¾„ä¹Ÿéœ€è¦æ›´æ–°ï¼Œå¦‚æœé€ä¸ªæ–‡ä»¶æ›´æ”¹è·¯å¾„æ˜¾ç„¶éå¸¸éº»çƒ¦ã€‚å› æ­¤æ‰“åŒ…å·¥å…·çš„ä½œç”¨å°±æ˜¯å†æ‰“åŒ…åå®ç°æ‰“å¼€å³å¯ç”¨ï¼Œç®€åŒ–æ‰“åŒ…æ–¹å’Œæ¥æ”¶æ–¹çš„æ“ä½œã€‚</p><p>&emsp;&emsp;å…¶å®æ—©åœ¨ä¹‹å‰å°±å·²ç»å¼€å‘è¿‡æ‰“åŒ…å·¥å…·ï¼Œä½†æ˜¯ç”±äºå½“æ—¶å¯¹ Qt è¿˜ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œæ²¡æœ‰æŒæ¡ MVC æ¡†æ¶çš„çŸ¥è¯†ï¼Œè€Œä¸”åˆšæ¥è§¦ Cgtwï¼Œå¯¹å®ƒçš„æ¥å£ä»¥åŠä½¿ç”¨æ–¹æ³•éƒ½æ²¡æœ‰æ·±å…¥ç ”ç©¶è¿‡ï¼Œå› æ­¤å¼€å‘å‡ºæ¥çš„å·¥å…·ååˆ†æ‹™åŠ£ï¼ŒåŸºæœ¬éƒ½æ˜¯å‚è€ƒ Cgtw åŸæœ‰çš„æ‰“åŒ…å·¥å…·è€Œä¿®æ”¹å¼€å‘å‡ºæ¥çš„ã€‚</p><h2 id="ä¸€ã€æ‰“åŒ…å·¥å…·çš„æ›´è¿­"><a href="#ä¸€ã€æ‰“åŒ…å·¥å…·çš„æ›´è¿­" class="headerlink" title="ä¸€ã€æ‰“åŒ…å·¥å…·çš„æ›´è¿­"></a>ä¸€ã€æ‰“åŒ…å·¥å…·çš„æ›´è¿­</h2><ol><li><p>ğŸ™„ Cgtw çš„æ‰“åŒ…å·¥å…·<br>&emsp;&emsp;è¿™æ˜¯ Cgtw çš„è‡ªå¸¦çš„æ‰“åŒ…å·¥å…·ï¼Œåªæœ‰å•çº¯çš„å¤åˆ¶æ–‡ä»¶åŠŸèƒ½ã€‚<br><img src="/2021/04/13/cgtw/%E5%9F%BA%E4%BA%8ECgtw%E7%9A%84%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7/1.png">  </p></li><li><p>ğŸ˜² æ‰“åŒ…å·¥å…· 2<br>&emsp;&emsp;è¿™æ˜¯æ¨¡ä»¿ Cgtw å¼€å‘å‡ºæ¥çš„æ‰“åŒ…å·¥å…·ï¼Œæ·»åŠ äº†å¯¹ Maya åœºæ™¯çš„å¤„ç†ã€‚åœ¨ Cgtw çš„ç•Œé¢åŸºç¡€ä¸Šï¼Œè¿˜æ·»åŠ äº†èµ„äº§/é•œå¤´ã€æ‰“åŒ…è·¯å¾„ã€é¡¹ç›®ã€å½“å‰é€‰æ‹©æ–‡ä»¶å¤¹è·¯å¾„ã€æ–‡ä»¶å¤¹æ˜¾ç¤ºæ–‡ä»¶åˆ—è¡¨çš„æ˜¾ç¤ºã€‚<br>&emsp;&emsp;ç”±äºæ²¡æœ‰ä½¿ç”¨ MVC æ¡†æ¶ï¼Œåƒè§†å›¾ä½¿ç”¨çš„éƒ½æ˜¯ QListWidgetã€ QTreeWidgetï¼Œè€Œä¸æ˜¯ QListViewã€QTreeViewç­‰ï¼Œå› æ­¤å¦‚æœæœ‰ä¿®æ”¹éœ€æ±‚ï¼Œåˆ™ä»£ç æ”¹åŠ¨ä¼šå¾ˆå¤§ï¼Œä»¥è‡³äºåé¢å·²ç»ä¸æƒ³å†ç»´æŠ¤è¿™ä¸ªå·¥å…·ï¼Œè€Œæ˜¯å»å¼€å‘æ–°ä¸€ä»£çš„æ‰“åŒ…å·¥å…·ã€‚<br><img src="/2021/04/13/cgtw/%E5%9F%BA%E4%BA%8ECgtw%E7%9A%84%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7/2.png">  </p></li></ol><ol><li>ğŸ˜‡ æ‰“åŒ…å·¥å…· 3<br>&emsp;&emsp;åŸºæœ¬ä¸Šæ‰“åŒ…å·¥å…· 3 å·²ç»æ˜¯æ•´ä¸ªç•Œé¢ã€å†…ç½®æ–¹æ³•å…¨éƒ½é‡å†™äº†ï¼Œç”±äºæ˜¯è‡ªå·±æ•´ç†ç¼–å†™çš„ï¼Œå› æ­¤å¯¹é‡Œé¢çš„æ–¹æ³•å’ŒåŸç†éƒ½æ¯”è¾ƒç†Ÿæ‚‰ï¼Œä¸‹é¢å°±é‡ç‚¹è®²ä¸€ä¸‹è¿™ä¸ªå·¥å…·å§ï¼<br><img src="/2021/04/13/cgtw/%E5%9F%BA%E4%BA%8ECgtw%E7%9A%84%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7/3.png">  </li></ol><hr><h2 id="äºŒã€åŠŸèƒ½æ¼”ç¤ºè¯´æ˜"><a href="#äºŒã€åŠŸèƒ½æ¼”ç¤ºè¯´æ˜" class="headerlink" title="äºŒã€åŠŸèƒ½æ¼”ç¤ºè¯´æ˜"></a>äºŒã€åŠŸèƒ½æ¼”ç¤ºè¯´æ˜</h2><h3 id="ğŸ¥•-å¯åŠ¨å·¥å…·"><a href="#ğŸ¥•-å¯åŠ¨å·¥å…·" class="headerlink" title="ğŸ¥• å¯åŠ¨å·¥å…·"></a>ğŸ¥• å¯åŠ¨å·¥å…·</h3><ol><li><p>Cgtw ä¸­é€‰ä¸­éœ€è¦æ‰“åŒ…çš„ èµ„äº§/é•œå¤´ï¼Œå¯åŠ¨ â€œæ‰“åŒ…å·¥å…· 3.0â€ã€‚<br><img src="/2021/04/13/cgtw/%E5%9F%BA%E4%BA%8ECgtw%E7%9A%84%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7/g1.gif"></p></li><li><p>ç­‰å¾…è¯»å–æ‰“åŒ…ä¿¡æ¯ã€ç•Œé¢åŠ è½½ã€‚<br><img src="/2021/04/13/cgtw/%E5%9F%BA%E4%BA%8ECgtw%E7%9A%84%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7/g2.gif"></p></li></ol><h3 id="ğŸ¥•-è®¾ç½®æ‰“åŒ…ä¿¡æ¯"><a href="#ğŸ¥•-è®¾ç½®æ‰“åŒ…ä¿¡æ¯" class="headerlink" title="ğŸ¥• è®¾ç½®æ‰“åŒ…ä¿¡æ¯"></a>ğŸ¥• è®¾ç½®æ‰“åŒ…ä¿¡æ¯</h3><ol><li><p>ä¿®æ”¹æ‰“åŒ…è·¯å¾„<br>&emsp;&emsp;é»˜è®¤ä¸ºé¡¹ç›®è®¾å®šçš„æ‰“åŒ…è·¯å¾„ï¼Œå¦‚æœæƒ³æ‰“åŒ…åˆ°å…¶ä»–æ–‡ä»¶å¤¹ä¹Ÿå¯ä»¥è‡ªè¡Œè®¾å®šã€‚<br><img src="/2021/04/13/cgtw/%E5%9F%BA%E4%BA%8ECgtw%E7%9A%84%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7/g3.gif"></p></li><li><p>èµ„äº§æ•´åˆ<br>&emsp;&emsp;å¯¹äºèµ„äº§æ‰“åŒ…é˜¶æ®µï¼Œå‹¾é€‰â€œèµ„äº§æ•´åˆâ€ä¼šå¯¹èµ„äº§åˆ—è¡¨ä¸­çš„æ‰€æœ‰èµ„äº§åˆ†åˆ«æ•´åˆï¼Œå¯¹ç»‘å®šã€è´´å›¾ã€æ¯›å‘é˜¶æ®µèµ„äº§æ•´åˆåˆ°ä¸€ä¸ªæ–‡ä»¶é‡Œï¼Œå¹¶ä¸”è¾“å‡ºæ•´åˆä¿¡æ¯ã€‚<br><img src="/2021/04/13/cgtw/%E5%9F%BA%E4%BA%8ECgtw%E7%9A%84%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7/5.png"></p></li><li><p>ä½¿ç”¨æ‰“åŒ…æ¨¡ç‰ˆ<br>&emsp;&emsp;å¯ä»¥é€šè¿‡é€‰æ‹©é¢„è®¾çš„æ‰“åŒ…æ¨¡ç‰ˆå¿«é€Ÿé€‰æ‹©éœ€è¦æ‰“åŒ…çš„æ–‡ä»¶å¤¹ã€‚<br><img src="/2021/04/13/cgtw/%E5%9F%BA%E4%BA%8ECgtw%E7%9A%84%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7/g4.gif"></p></li><li><p>é¡¹ç›®è·¯å¾„æ›´æ”¹<br>&emsp;&emsp;å‡å¦‚é¡¹ç›®ç»è¿‡ç§»åŠ¨ï¼Œè€Œmayaåœºæ™¯æ–‡ä»¶æ²¡æœ‰ä¿®æ”¹å¯¹åº”å¼•ç”¨è·¯å¾„ï¼Œåˆ™éœ€è¦é€šè¿‡å‹¾é€‰â€œé¡¹ç›®è·¯å¾„æ›´æ”¹â€ï¼Œå¡«å†™æ–°æ—§é¡¹ç›®è·¯å¾„è¿›è¡Œæ‰“åŒ…ã€‚<br><img src="/2021/04/13/cgtw/%E5%9F%BA%E4%BA%8ECgtw%E7%9A%84%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7/7.png"></p></li><li><p>æ‰¹é‡é€‰æ‹©<br>&emsp;&emsp;åœ¨èµ„äº§ä¸­é€‰æ‹© ALLï¼Œä¹‹ååœ¨æ–‡ä»¶æ¡†ä¸­å‹¾é€‰æ–‡ä»¶å¤¹ä¼šå¯¹æ‰€æœ‰èµ„äº§çš„æ–‡ä»¶å¤¹è¿›è¡Œç»Ÿä¸€å‹¾é€‰ã€‚<br><img src="/2021/04/13/cgtw/%E5%9F%BA%E4%BA%8ECgtw%E7%9A%84%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7/8.png"></p></li><li><p>å‹¾é€‰æ–‡ä»¶å¤¹<br>&emsp;&emsp;åœ¨é€‰å¥½èµ„äº§åï¼Œç‚¹å‡»æ–‡ä»¶å¤¹ï¼Œä¼šåœ¨å³è¾¹æ˜¾ç¤ºæ–‡ä»¶å¤¹è·¯å¾„ï¼Œå‹¾é€‰æ–‡ä»¶å¤¹åˆ™è¡¨ç¤ºè¯¥æ–‡ä»¶å¤¹çš„å†…å®¹ä¼šè¢«æ‰“åŒ…ã€‚å‹¾é€‰é˜¶æ®µä¼šæŠŠé˜¶æ®µä»¥ä¸‹çš„æ–‡ä»¶å¤¹å…¨éƒ¨å‹¾é€‰ã€‚<br><img src="/2021/04/13/cgtw/%E5%9F%BA%E4%BA%8ECgtw%E7%9A%84%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7/g5.gif"></p></li><li><p>ç¼–è¾‘æ–‡ä»¶å¤¹å†…æ‰“åŒ…çš„æ–‡ä»¶<br>&emsp;&emsp;åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œè¯¥å·¥å…·ä»…ä¼šæ‰“åŒ… Cgtw æ–‡ä»¶æ¡†å†…ç¬¦åˆæ˜¾ç¤ºè§„åˆ™çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼Œå¦‚æœéœ€è¦æ‰“åŒ…æ–‡ä»¶æ¡†çš„å…¶ä»–æ–‡ä»¶ï¼Œåˆ™å¯ä»¥åœ¨é€‰æ‹©èµ„äº§ã€æ–‡ä»¶æ¡†åï¼Œå‹¾é€‰â€œç¼–è¾‘æ–‡ä»¶å¤¹æ‰“åŒ…å†…å®¹â€ï¼Œå†å‹¾é€‰éœ€è¦æ‰“åŒ…çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ã€‚<br><img src="/2021/04/13/cgtw/%E5%9F%BA%E4%BA%8ECgtw%E7%9A%84%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7/9.png"></p></li><li><p>ç”Ÿæˆæ‰“åŒ…èµ„äº§è¡¨<br>&emsp;&emsp;å‹¾é€‰â€œç”Ÿæˆæ‰“åŒ…èµ„äº§è¡¨â€ï¼Œåœ¨æ‰“åŒ…ç»“æŸåä¼šåœ¨æ‰“åŒ…è·¯å¾„ä¸‹ç”Ÿæˆä¸€ä¸ªâ€œé¡¹ç›®æ‰“åŒ…è®°å½•è¡¨.xlsxâ€çš„æ–‡ä»¶ï¼Œæè¿°æœ¬æ¬¡èµ„äº§æ•´åˆçš„æƒ…å†µã€‚<br><img src="/2021/04/13/cgtw/%E5%9F%BA%E4%BA%8ECgtw%E7%9A%84%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7/10.png"><br><img src="/2021/04/13/cgtw/%E5%9F%BA%E4%BA%8ECgtw%E7%9A%84%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7/11.png"></p></li></ol><h3 id="ğŸ¥•-æ‰“åŒ…æ–¹å¼"><a href="#ğŸ¥•-æ‰“åŒ…æ–¹å¼" class="headerlink" title="ğŸ¥• æ‰“åŒ…æ–¹å¼"></a>ğŸ¥• æ‰“åŒ…æ–¹å¼</h3><p>&emsp;&emsp;æ‰“åŒ…æ–¹å¼æœ‰ä¸‰ç§ï¼šå‰å°æ‰“åŒ…ã€åå°æ‰“åŒ…å’Œæäº¤Deadlineã€‚  </p><ol><li>å‰å°æ‰“åŒ…ï¼šæ‰“åŒ… maya æ–‡ä»¶æ—¶å‰å°æ‰“å¼€æ–‡ä»¶è¿›è¡Œæ‰“åŒ…ã€‚</li><li>åå°æ‰“åŒ…ï¼šæ‰“åŒ… maya æ–‡ä»¶æ—¶åå°æ‰“å¼€æ–‡ä»¶è¿›è¡Œæ‰“åŒ…ã€‚</li><li>æäº¤Deadlineï¼šæŠŠæ‰“åŒ…ä»»åŠ¡æäº¤åˆ° Deadlineï¼Œç”±æ¸²æŸ“å†œåœºåˆ†é…æœºå™¨è¿›è¡Œæ‰“åŒ…ã€‚</li></ol><h3 id="ğŸ¥•-æ‰“åŒ…è¿›åº¦"><a href="#ğŸ¥•-æ‰“åŒ…è¿›åº¦" class="headerlink" title="ğŸ¥• æ‰“åŒ…è¿›åº¦"></a>ğŸ¥• æ‰“åŒ…è¿›åº¦</h3><p>&emsp;&emsp;å¦‚æœä½¿ç”¨å‰å°æ‰“åŒ…æˆ–åå°æ‰“åŒ…ï¼Œå¼€å§‹æ‰“åŒ…åä¼šå¼¹å‡ºè¿›åº¦æ¡ä»¥åŠæ‰“åŒ…ä¿¡æ¯çª—å£ã€‚<br><img src="/2021/04/13/cgtw/%E5%9F%BA%E4%BA%8ECgtw%E7%9A%84%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7/12.png"></p><h3 id="ğŸ¥•-æ‰“åŒ…æ–‡ä»¶å­˜æ”¾"><a href="#ğŸ¥•-æ‰“åŒ…æ–‡ä»¶å­˜æ”¾" class="headerlink" title="ğŸ¥• æ‰“åŒ…æ–‡ä»¶å­˜æ”¾"></a>ğŸ¥• æ‰“åŒ…æ–‡ä»¶å­˜æ”¾</h3><p>&emsp;&emsp;æ‰€æœ‰å‹¾é€‰éœ€è¦æ‰“åŒ…çš„æ–‡ä»¶éƒ½ä¼šæ‰“åŒ…åˆ°æ‰“åŒ…è·¯å¾„ä¸‹ï¼Œè€Œä¸”ä¼šç»§æ‰¿åŸè·¯å¾„ï¼ˆæ•´åˆèµ„äº§é™¤å¤–ï¼Œå…·ä½“è§„åˆ™åœ¨â€œé¡¹ç›®æ‰“åŒ…è®°å½•è¡¨â€ä¸­ï¼‰ã€‚<br>&emsp;&emsp;Maya æ–‡ä»¶å†…å¼•ç”¨çš„æ–‡ä»¶ä¼šæ”¾åœ¨ s: ç›˜ç¬¦ä¸‹ï¼Œå½“å¤–åŒ…å’Œå®¢æˆ·æ˜ å°„ä¸€ä¸ª s: ç›˜å¹¶æŠŠæ‰“åŒ…æ–‡ä»¶æ”¾åœ¨è¯¥ç›˜ä¸‹ï¼Œæ‰“å¼€ maya æ–‡ä»¶åèƒ½å¤Ÿè¯»å–åˆ°å¯¹åº”çš„å¼•ç”¨æ–‡ä»¶ã€‚<br><img src="/2021/04/13/cgtw/%E5%9F%BA%E4%BA%8ECgtw%E7%9A%84%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7/13.png"></p><hr><h2 id="ä¸‰ã€Cgtw-æ¥å£"><a href="#ä¸‰ã€Cgtw-æ¥å£" class="headerlink" title="ä¸‰ã€Cgtw æ¥å£"></a>ä¸‰ã€Cgtw æ¥å£</h2><p>&emsp;&emsp;ç”±äºæ˜¯åœ¨ Cgtw ä¸­è¿›è¡Œå·¥å…·çš„è°ƒç”¨ï¼Œé‚£ä¹ˆåœ¨è°ƒç”¨æ—¶è‚¯å®šè¦é€šè¿‡ Cgtw è·å–æ‰“åŒ…å†…å®¹ä¿¡æ¯çš„ï¼Œå› æ­¤éœ€è¦è¿™äº›ä¿¡æ¯è·å–çš„æ¥å£ã€‚å½“åœ¨ Cgtw ä¸­æ‰§è¡Œæ“ä½œæ—¶ï¼ˆå¦‚é€‰æ‹©åˆ¶ä½œé˜¶æ®µæ‰“å¼€å·¥å…·ã€æ‰“å¼€æ–‡ä»¶ç­‰ï¼‰ï¼ŒCgtw ä¼šè®°å½•ä½ ä¸Šä¸€ä¸ªæ“ä½œï¼Œå¯ä»¥é€šè¿‡æ¥å£è·å–å¯¹åº”ä¿¡æ¯ã€‚</p><h3 id="è·å–åŸºæœ¬æ•°æ®"><a href="#è·å–åŸºæœ¬æ•°æ®" class="headerlink" title="è·å–åŸºæœ¬æ•°æ®"></a>è·å–åŸºæœ¬æ•°æ®</h3><p>&emsp;&emsp;ä¸€èˆ¬æ•°æ®åº“ã€æ¨¡å—ã€æ¨¡å—ç±»å‹ç­‰åŸºæœ¬ä¿¡æ¯ï¼Œéƒ½æ˜¯é€šè¿‡ <code>cgtw2.tw().client</code> è·å–ã€‚</p><pre><code class="hljs Python"><span class="hljs-keyword">import</span> cgtw2self.m_tw          = cgtw2.tw()self.m_database    = self.m_tw.client.get_database()self.m_module      = self.m_tw.client.get_module()self.m_module_type = self.m_tw.client.get_module_type()self.m_id_list     = self.m_tw.client.get_id()</code></pre><p>&emsp;&emsp;å…¶ä¸­ï¼š  </p><ol><li>m_database ä¸ºæ•°æ®åº“</li><li>m_module ä¸ºæ¨¡å—ï¼ˆasset/shotï¼‰</li><li>m_module_type ä¸ºæ¨¡å—ç±»å‹</li><li>m_id_list ä¸ºå½“å‰é€‰ä¸­çš„é¡¹idåˆ—è¡¨ï¼Œå¦‚é€‰ä¸­ä¸¤é¡¹åˆ™è¯¥åˆ—è¡¨æ•°æœ‰ä¸¤ä¸ªã€‚<br> <img src="/2021/04/13/cgtw/%E5%9F%BA%E4%BA%8ECgtw%E7%9A%84%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7/4.png"></li></ol><h3 id="è·å–å…·ä½“ä¿¡æ¯"><a href="#è·å–å…·ä½“ä¿¡æ¯" class="headerlink" title="è·å–å…·ä½“ä¿¡æ¯"></a>è·å–å…·ä½“ä¿¡æ¯</h3><p>&emsp;&emsp;é€šè¿‡åŸºæœ¬æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥è·å–æ›´å¤šä¿¡æ¯ã€‚</p><pre><code class="hljs Python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_proj_name</span>(<span class="hljs-params">self</span>):</span>    <span class="hljs-string">&quot;&quot;&quot;è·å–é¡¹ç›®å</span><span class="hljs-string"></span><span class="hljs-string">    Returns:</span><span class="hljs-string">        proj_name[str]: é¡¹ç›®å</span><span class="hljs-string">    &quot;&quot;&quot;</span>    proj_name = self.m_tw.task.get(self.m_database,self.m_module,self.m_id_list,[<span class="hljs-string">&#x27;eps.project_code&#x27;</span>])[<span class="hljs-number">0</span>][<span class="hljs-string">&#x27;eps.project_code&#x27;</span>]    <span class="hljs-keyword">return</span> proj_name<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_module_type_id</span>(<span class="hljs-params">self, m_id</span>):</span>    <span class="hljs-string">&quot;&quot;&quot;è·å–task id</span><span class="hljs-string"></span><span class="hljs-string">    Returns:</span><span class="hljs-string">        task_id[str]: task id</span><span class="hljs-string">    &quot;&quot;&quot;</span>    task_id = self.m_tw.task.get(self.m_database,self.m_module,[m_id],[self.m_module_type+<span class="hljs-string">&#x27;.id&#x27;</span>])[<span class="hljs-number">0</span>][self.m_module_type+<span class="hljs-string">&#x27;.id&#x27;</span>]    <span class="hljs-keyword">return</span> task_id<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_module_id</span>(<span class="hljs-params">self, m_id</span>):</span>    <span class="hljs-string">&quot;&quot;&quot;è·å–module id</span><span class="hljs-string"></span><span class="hljs-string">    Returns:</span><span class="hljs-string">        module_id[str]: module id</span><span class="hljs-string">    &quot;&quot;&quot;</span>    module_id = self.m_tw.task.get(self.m_database,self.m_module,[m_id],[self.m_module+<span class="hljs-string">&#x27;.id&#x27;</span>])[<span class="hljs-number">0</span>][self.m_module+<span class="hljs-string">&#x27;.id&#x27;</span>]    <span class="hljs-keyword">return</span> module_id<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_module_entity</span>(<span class="hljs-params">self, m_id</span>):</span>    <span class="hljs-string">&quot;&quot;&quot;è·å–å½“å‰èµ„äº§å/é•œå¤´å·</span><span class="hljs-string"></span><span class="hljs-string">    Returns:</span><span class="hljs-string">        module_entity[str]: module_entity</span><span class="hljs-string">    &quot;&quot;&quot;</span>    module_entity = self.m_tw.task.get(self.m_database,self.m_module,[m_id],[self.m_module+<span class="hljs-string">&#x27;.entity&#x27;</span>])[<span class="hljs-number">0</span>][self.m_module+<span class="hljs-string">&#x27;.entity&#x27;</span>]    <span class="hljs-keyword">return</span> module_entity<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_module_cn_name</span>(<span class="hljs-params">self, m_id</span>):</span>     <span class="hljs-string">&quot;&quot;&quot;è·å–èµ„äº§ä¸­æ–‡å</span><span class="hljs-string"></span><span class="hljs-string">    Returns:</span><span class="hljs-string">        module_cn_name[str]: module_cn_name</span><span class="hljs-string">    &quot;&quot;&quot;</span>    <span class="hljs-keyword">if</span> self.m_module == <span class="hljs-string">&#x27;asset&#x27;</span>:        module_cn_name = self.m_tw.task.get(self.m_database,self.m_module,[m_id],[self.m_module+<span class="hljs-string">&#x27;.cn_name&#x27;</span>])[<span class="hljs-number">0</span>][self.m_module+<span class="hljs-string">&#x27;.cn_name&#x27;</span>]    <span class="hljs-keyword">else</span>:        module_cn_name = <span class="hljs-string">&#x27;&#x27;</span>    <span class="hljs-keyword">return</span> module_cn_name<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_module_link_eps</span>(<span class="hljs-params">self, m_id</span>):</span>    <span class="hljs-string">&quot;&quot;&quot;è·å–é•œå¤´çš„å…³è”é›†æ•°</span><span class="hljs-string"></span><span class="hljs-string">    Returns:</span><span class="hljs-string">        module_link_eps[str]: module_link_eps</span><span class="hljs-string">    &quot;&quot;&quot;</span>    <span class="hljs-keyword">if</span> self.m_module == <span class="hljs-string">&#x27;shot&#x27;</span>:        module_link_eps = self.m_tw.task.get(self.m_database,self.m_module,[m_id],[self.m_module+<span class="hljs-string">&#x27;.link_eps&#x27;</span>])[<span class="hljs-number">0</span>][self.m_module+<span class="hljs-string">&#x27;.link_eps&#x27;</span>]    <span class="hljs-keyword">else</span>:        module_link_eps = <span class="hljs-string">&#x27;&#x27;</span>    <span class="hljs-keyword">return</span> module_link_eps<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_module_beizhu</span>(<span class="hljs-params">self, m_id</span>):</span>    <span class="hljs-string">&quot;&quot;&quot;è·å–é•œå¤´çš„å¤‡æ³¨</span><span class="hljs-string"></span><span class="hljs-string">    Returns:</span><span class="hljs-string">        module_beizhu[str]: module_beizhu</span><span class="hljs-string">    &quot;&quot;&quot;</span>    <span class="hljs-keyword">if</span> self.m_module == <span class="hljs-string">&#x27;shot&#x27;</span>:        module_beizhu = self.m_tw.task.get(self.m_database,self.m_module,[m_id],[self.m_module+<span class="hljs-string">&#x27;.beizhu&#x27;</span>])[<span class="hljs-number">0</span>][self.m_module+<span class="hljs-string">&#x27;.beizhu&#x27;</span>]    <span class="hljs-keyword">else</span>:        module_beizhu = <span class="hljs-string">&#x27;&#x27;</span>    <span class="hljs-keyword">return</span> module_beizhu<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_module_image</span>(<span class="hljs-params">self, m_id</span>):</span>    <span class="hljs-string">&quot;&quot;&quot;è·å–èµ„äº§/é•œå¤´çš„ç¼©ç•¥å›¾</span><span class="hljs-string"></span><span class="hljs-string">    Returns:</span><span class="hljs-string">        img_path[str]: img_path</span><span class="hljs-string">    &quot;&quot;&quot;</span>    module_image = self.m_tw.task.get(self.m_database,self.m_module,[m_id],[self.m_module+<span class="hljs-string">&#x27;.image&#x27;</span>])[<span class="hljs-number">0</span>][self.m_module+<span class="hljs-string">&#x27;.image&#x27;</span>]    img_path = <span class="hljs-string">&quot;&quot;</span>    <span class="hljs-keyword">if</span> module_image:        img_path = eval(module_image)[<span class="hljs-number">0</span>][<span class="hljs-string">&#x27;min&#x27;</span>]        img_path = os.path.join(CGTW_DISK, img_path.lstrip(<span class="hljs-string">&#x27;/&#x27;</span>)).replace(<span class="hljs-string">&#x27;\\&#x27;</span>,<span class="hljs-string">&#x27;/&#x27;</span>)    <span class="hljs-keyword">return</span> img_path</code></pre><p>&emsp;&emsp;é€šè¿‡ m_tw.task è·å– asset task idã€‚é€‰æ‹©çš„é¡¹ä¸­å«æœ‰å¤šå°‘ä¸ªèµ„äº§åˆ™ asset_task_ids åˆ—è¡¨å°±æœ‰å¤šå°‘ä¸ªã€‚  </p><pre><code class="hljs python">asset_task_ids = self.m_tw.task.get_id(self.m_database, self.m_module, [[self.m_module+<span class="hljs-string">&#x27;.id&#x27;</span>,<span class="hljs-string">&#x27;=&#x27;</span>,asset_id]])</code></pre><p>&emsp;&emsp;é€šè¿‡ asset task id è·å– pipeline ä¿¡æ¯ã€‚  </p><pre><code class="hljs python">pipeline_id_info = self.m_tw.task.get(self.m_database,self.m_module,[asset_task_id],[<span class="hljs-string">&#x27;pipeline.id&#x27;</span>,self.m_module_type+<span class="hljs-string">&#x27;.pipeline&#x27;</span>])</code></pre><p>&emsp;&emsp;é€šè¿‡ pipeline ä¿¡æ¯è·å–è¯¥é˜¶æ®µåˆ›å»ºçš„æ–‡ä»¶æ¡†ä¿¡æ¯ã€‚  </p><pre><code class="hljs python">pipeline_id = info[<span class="hljs-string">&#x27;pipeline.id&#x27;</span>]filebox_info = self.m_tw.filebox.get(db=self.m_database, module=self.m_module, module_type=self.m_module_type, field_list=[<span class="hljs-string">&#x27;sign&#x27;</span>,<span class="hljs-string">&#x27;#id&#x27;</span>], pipeline_id_list=[pipeline_id])</code></pre><p>&emsp;&emsp;é€šè¿‡ filebox è·å–æ–‡ä»¶å¤¹çš„åç§°ã€è·¯å¾„ã€æ˜¾ç¤ºç±»å‹ã€æ˜¾ç¤ºè§„åˆ™ç­‰ä¿¡æ¯ã€‚</p><pre><code class="hljs python">filebox_id = info[<span class="hljs-string">&#x27;#id&#x27;</span>]self.m_tw.info.get_filebox(self.m_database,self.m_module,id=module_id,filebox_id=filebox_id)</code></pre><hr><h2 id="äºŒã€æ•°æ®ç»“æ„"><a href="#äºŒã€æ•°æ®ç»“æ„" class="headerlink" title="äºŒã€æ•°æ®ç»“æ„"></a>äºŒã€æ•°æ®ç»“æ„</h2><p>&emsp;&emsp;å½“æˆ‘ä»¬è·å–äº† cgtw çš„ä¿¡æ¯ä¹‹åï¼Œéœ€è¦å°†å…¶å‚¨å­˜èµ·æ¥ï¼Œåœ¨éœ€è¦æ—¶è¿›è¡Œè·å–ã€‚åœ¨è¯¥å·¥å…·ä¸­ï¼Œä½¿ç”¨äº†ç±»å’Œå¯¹è±¡æ¥å­˜å‚¨æ•°æ®ã€‚</p><p>&emsp;&emsp;é¦–å…ˆï¼Œæˆ‘ä»¬è¦æ¸…æ¥šè¦å®ç°ä»€ä¹ˆæ ·çš„åŠŸèƒ½ï¼šæˆ‘ä»¬å…ˆåœ¨ cgtw çš„æŸä¸ªé¡¹ç›®ä¸­çš„ èµ„äº§ä»»åŠ¡/é•œå¤´ä»»åŠ¡ ä¸­ï¼Œé€‰æ‹©éœ€è¦æ‰“åŒ…çš„ èµ„äº§é˜¶æ®µ/é•œå¤´å· ã€‚å·¥å…·æ ¹æ®é€‰ä¸­çš„ä»»åŠ¡è¿›è¡Œåˆ†æï¼Œåœ¨è®¾å®šçš„è§„åˆ™ä¸Šè®©ç”¨æˆ·é€‰æ‹©éœ€è¦æ‰“åŒ…çš„æ–‡ä»¶å¤¹ï¼Œæœ€åå¯¹ç”¨æˆ·é€‰æ‹©çš„å†…å®¹è¿›è¡Œæ‰“åŒ…ã€‚</p><p>&emsp;&emsp;æˆ‘ä»¬æ¢³ç†äº†å·¥å…·å·¥ä½œæµç¨‹åï¼Œå¯ä»¥å¼€å§‹åˆ†æå“ªäº›ä¿¡æ¯æ˜¯éœ€è¦çš„ã€å…³è”çš„ã€‚å½“æ¨¡å—ä¸ºèµ„äº§æ—¶ï¼Œå…³è”æ•°æ®ä¸ºâ€œèµ„äº§ - é˜¶æ®µ - æ–‡ä»¶å¤¹ - æ–‡ä»¶å¤¹å†…å®¹â€ï¼›å½“æ¨¡å—ä¸ºé•œå¤´æ—¶ï¼Œå…³è”æ•°æ®ä¸ºâ€œé•œå¤´ - é˜¶æ®µ - æ–‡ä»¶å¤¹ - æ–‡ä»¶å¤¹å†…å®¹â€ã€‚ç”±äºå…³è”çš„ä¿¡æ¯æ˜¯å±‚å±‚é€’è¿›çš„å…³ç³»ï¼Œå› æ­¤åˆ©ç”¨äº†ç±»çš„ç»§æ‰¿æ¥ä¿å­˜è¿™äº›ä¿¡æ¯ã€‚</p><h3 id="èµ„äº§-é•œå¤´èŠ‚ç‚¹"><a href="#èµ„äº§-é•œå¤´èŠ‚ç‚¹" class="headerlink" title="èµ„äº§/é•œå¤´èŠ‚ç‚¹"></a>èµ„äº§/é•œå¤´èŠ‚ç‚¹</h3><p>&emsp;&emsp;è¿™ä¸ªèŠ‚ç‚¹åŸºæœ¬å®šä¹‰äº†å¤§éƒ¨åˆ†çš„ä¿¡æ¯ï¼Œæ¯”å¦‚èŠ‚ç‚¹åç§°ã€å­èŠ‚ç‚¹ã€çˆ¶èŠ‚ç‚¹ã€æ–‡ä»¶å¤¹èŠ‚ç‚¹ã€å‹¾é€‰çŠ¶æ€ã€èŠ‚ç‚¹ä¸­æ–‡åã€èŠ‚ç‚¹ç¼©ç•¥å›¾ã€èŠ‚ç‚¹å¤‡æ³¨çš„ä¿¡æ¯ã€‚</p><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Node</span>(<span class="hljs-params">object</span>):</span>    <span class="hljs-string">&quot;&quot;&quot;èµ„äº§èŠ‚ç‚¹/é•œå¤´èŠ‚ç‚¹</span><span class="hljs-string"></span><span class="hljs-string">    Args:</span><span class="hljs-string">        object (class): ç»§æ‰¿objectç±»</span><span class="hljs-string">    &quot;&quot;&quot;</span>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, m_data, parent=None</span>):</span>        <span class="hljs-string">&quot;&quot;&quot;åˆå§‹åŒ–èŠ‚ç‚¹</span><span class="hljs-string"></span><span class="hljs-string">        Args:</span><span class="hljs-string">            m_data (str): èŠ‚ç‚¹åç§°</span><span class="hljs-string">            parent : Defaults to None.</span><span class="hljs-string">        &quot;&quot;&quot;</span>        self.__name = m_data        self.__children = []        self.__parent = parent        self.__folder_node_list = []        self.__checkState = <span class="hljs-literal">False</span>        self.__cn_name = <span class="hljs-string">&quot;&quot;</span>        self.__image = <span class="hljs-string">&quot;&quot;</span>        self.__beizhu = <span class="hljs-string">&quot;&quot;</span></code></pre><h3 id="é˜¶æ®µèŠ‚ç‚¹"><a href="#é˜¶æ®µèŠ‚ç‚¹" class="headerlink" title="é˜¶æ®µèŠ‚ç‚¹"></a>é˜¶æ®µèŠ‚ç‚¹</h3><p>&emsp;&emsp;è¿™ä¸ªèŠ‚ç‚¹æ¯”åŸºç¡€èŠ‚ç‚¹å¤šäº†ä¸€ä¸ªå±æ€§ï¼šå±•å¼€æŠ˜å ã€‚è¯¥å±æ€§è®°å½•é˜¶æ®µæ˜¯å¦å±•å¼€ã€‚</p><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PipeNode</span>(<span class="hljs-params">Node</span>):</span>    <span class="hljs-string">&quot;&quot;&quot;é˜¶æ®µèŠ‚ç‚¹</span><span class="hljs-string"></span><span class="hljs-string">    Args:</span><span class="hljs-string">        Node (class): ç»§æ‰¿ Node èŠ‚ç‚¹</span><span class="hljs-string">    &quot;&quot;&quot;</span>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, m_data, parent=None</span>):</span>        <span class="hljs-string">&quot;&quot;&quot;åˆå§‹åŒ–èŠ‚ç‚¹</span><span class="hljs-string"></span><span class="hljs-string">        Args:</span><span class="hljs-string">            m_data (str): èŠ‚ç‚¹åç§°</span><span class="hljs-string">            parent : Defaults to None.</span><span class="hljs-string">        &quot;&quot;&quot;</span>        super(PipeNode, self).__init__(m_data, parent)        self.__expand = <span class="hljs-literal">True</span></code></pre><h3 id="æ–‡ä»¶å¤¹èŠ‚ç‚¹"><a href="#æ–‡ä»¶å¤¹èŠ‚ç‚¹" class="headerlink" title="æ–‡ä»¶å¤¹èŠ‚ç‚¹"></a>æ–‡ä»¶å¤¹èŠ‚ç‚¹</h3><p>&emsp;&emsp;æ–‡ä»¶å¤¹èŠ‚ç‚¹ç»§æ‰¿é˜¶æ®µèŠ‚ç‚¹ï¼ŒåŒæ—¶æ–°å¢äº†ä¸€äº›å±æ€§ï¼šæ–‡ä»¶å¤¹æ ‡è¯†ã€è·¯å¾„ã€ç¬¦åˆæ˜¾ç¤ºè§„åˆ™çš„æ–‡ä»¶åˆ—è¡¨ã€æ–‡ä»¶å¤¹æ‰€å±èµ„äº§åã€æ˜¯å¦ç¼–è¾‘æ‰“åŒ…æ–‡ä»¶ä»¥åŠç¼–è¾‘çš„æ–‡ä»¶åˆ—è¡¨ã€‚</p><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FolderNode</span>(<span class="hljs-params">PipeNode</span>):</span>    <span class="hljs-string">&quot;&quot;&quot;æ–‡ä»¶å¤¹èŠ‚ç‚¹</span><span class="hljs-string"></span><span class="hljs-string">    Args:</span><span class="hljs-string">        PipeNode (class): ç»§æ‰¿é˜¶æ®µèŠ‚ç‚¹</span><span class="hljs-string">    &quot;&quot;&quot;</span>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, m_data, m_info, asset, parent=None</span>):</span>        <span class="hljs-string">&quot;&quot;&quot;åˆå§‹åŒ–èŠ‚ç‚¹</span><span class="hljs-string"></span><span class="hljs-string">        Args:</span><span class="hljs-string">            m_data (str): èŠ‚ç‚¹åç§°</span><span class="hljs-string">            m_info (dict): èŠ‚ç‚¹è·¯å¾„ã€æ ‡è¯†ã€ç¬¦åˆæ˜¾ç¤ºè§„åˆ™çš„æ–‡ä»¶</span><span class="hljs-string">            asset (asset): èŠ‚ç‚¹å…³è”çš„èµ„äº§</span><span class="hljs-string">            parent : Defaults to None.</span><span class="hljs-string">        &quot;&quot;&quot;</span>        super(FolderNode, self).__init__(m_data, parent)        self.__sign = m_info[<span class="hljs-string">&#x27;sign&#x27;</span>]        self.__path = m_info[<span class="hljs-string">&#x27;path&#x27;</span>]        self.__rule_paths = m_info[<span class="hljs-string">&#x27;rule_paths&#x27;</span>]        self.__asset = asset        self.__edit_children = <span class="hljs-number">0</span>        self.__files_children = []</code></pre><h2 id="å››ã€Maya-æ‰“åŒ…æµç¨‹"><a href="#å››ã€Maya-æ‰“åŒ…æµç¨‹" class="headerlink" title="å››ã€Maya æ‰“åŒ…æµç¨‹"></a>å››ã€Maya æ‰“åŒ…æµç¨‹</h2><p>&emsp;&emsp;å½“å¤„ç† Maya æ–‡ä»¶æ‰“åŒ…æ—¶ï¼Œæˆ‘ä»¬ä¼šæ–°å¼€ä¸€ä¸ªè¿›ç¨‹ï¼Œç”¨äºå¯åŠ¨ Maya ä»¥åŠè¿è¡Œè„šæœ¬ã€‚</p><h3 id="åˆ›å»ºè¿›ç¨‹"><a href="#åˆ›å»ºè¿›ç¨‹" class="headerlink" title="åˆ›å»ºè¿›ç¨‹"></a>åˆ›å»ºè¿›ç¨‹</h3><p>&emsp;&emsp;Qt ä¸­çš„ QProcess ç±»å¯ç”¨äºå®Œæˆå¯åŠ¨å¤–éƒ¨ç¨‹åºï¼Œå¹¶ä¸ä¹‹äº¤äº’é€šä¿¡ã€‚</p><pre><code class="hljs python">process = QtCore.QProcess()</code></pre><h3 id="å¯åŠ¨è¿›ç¨‹"><a href="#å¯åŠ¨è¿›ç¨‹" class="headerlink" title="å¯åŠ¨è¿›ç¨‹"></a>å¯åŠ¨è¿›ç¨‹</h3><p>&emsp;&emsp;å¯åŠ¨ QProcess è¿›ç¨‹æœ‰ä¸¤ç§æ–¹å¼ï¼š</p><ol><li>ä¼ é€’ç¨‹åºä»¥åŠå‘½ä»¤è¡Œå‚æ•°ç»™ start()  <pre><code class="hljs python">process.start(<span class="hljs-string">&quot;programm.exe&quot;</span>, <span class="hljs-string">&quot;echo&gt;test.txt&quot;</span>)</code></pre></li></ol><!--  --><hr><h2 id="è·å–æœ€å¤§ç‰ˆæœ¬å·çš„æ–‡ä»¶"><a href="#è·å–æœ€å¤§ç‰ˆæœ¬å·çš„æ–‡ä»¶" class="headerlink" title="è·å–æœ€å¤§ç‰ˆæœ¬å·çš„æ–‡ä»¶"></a>è·å–æœ€å¤§ç‰ˆæœ¬å·çš„æ–‡ä»¶</h2><p>&emsp;&emsp;ç”±äºåˆ¶ä½œæ–‡ä»¶çš„è¿‡ç¨‹ä¸€èˆ¬ä¼šæ›´æ–°å¾ˆå¤šä¸ªç‰ˆæœ¬ï¼Œå› æ­¤éœ€è¦ä¸€ä¸ªæ–¹æ³•æ¥è·å–æœ€å¤§ç‰ˆæœ¬çš„æ–‡ä»¶ã€‚</p><pre><code class="hljs python"><span class="hljs-meta">@staticmethod</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_newset_files</span>(<span class="hljs-params">fd_files</span>):</span>    <span class="hljs-string">&quot;&quot;&quot;è·å–æœ€å¤§ç‰ˆæœ¬æ–‡ä»¶ </span><span class="hljs-string">    æ–‡ä»¶æ ¼å¼ï¼š&quot;v&quot; + &quot;ç‰ˆæœ¬æ•°å­—&quot; + &quot;.&quot; + &quot;åç¼€&quot;</span><span class="hljs-string"></span><span class="hljs-string">    Args:</span><span class="hljs-string">        fd_files (list): éœ€è¦ç­›é€‰çš„æ–‡ä»¶åˆ—è¡¨</span><span class="hljs-string"></span><span class="hljs-string">    Returns:</span><span class="hljs-string">        max_ver_files[list]: æœ€å¤§ç‰ˆæœ¬æ–‡ä»¶åˆ—è¡¨</span><span class="hljs-string">    &quot;&quot;&quot;</span>    max_ver_files = []    file_ver_dict = &#123;&#125;    <span class="hljs-keyword">for</span> fd_file <span class="hljs-keyword">in</span> fd_files:        split_info = re.split(<span class="hljs-string">&quot;v(?=\d)|\.&quot;</span>, fd_file)        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> len(split_info) == <span class="hljs-number">3</span>:            <span class="hljs-keyword">continue</span>        file_start, file_ver, file_ext = split_info        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> file_start <span class="hljs-keyword">in</span> file_ver_dict.keys():            file_ver_dict[file_start] = &#123;<span class="hljs-string">&#x27;ver&#x27;</span>: file_ver, <span class="hljs-string">&#x27;ext&#x27;</span>: file_ext&#125;        <span class="hljs-keyword">elif</span> file_ver &gt; file_ver_dict[file_start][<span class="hljs-string">&#x27;ver&#x27;</span>]:            file_ver_dict[file_start][<span class="hljs-string">&#x27;ver&#x27;</span>] = file_ver    <span class="hljs-keyword">for</span> start, info <span class="hljs-keyword">in</span> file_ver_dict.items():        file_path = start + <span class="hljs-string">&#x27;v&#x27;</span> + info[<span class="hljs-string">&#x27;ver&#x27;</span>] + <span class="hljs-string">&#x27;.&#x27;</span> + info[<span class="hljs-string">&#x27;ext&#x27;</span>]        max_ver_files.append(file_path)    <span class="hljs-keyword">return</span> max_ver_files</code></pre>]]></content>
    
    
    <categories>
      
      <category>cgtw</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MAYA</tag>
      
      <tag>CgTeamwork</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Melçš„ä½¿ç”¨</title>
    <link href="/2021/04/13/maya/mel%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <url>/2021/04/13/maya/mel%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<p>&emsp;&emsp;è™½ç„¶æ¥è§¦ Maya å¼€å‘å·²ç»å¿«æ¥è¿‘ä¸¤å¹´äº†ï¼Œä½†æ˜¯å‘ç°è‡ªå·±å…¶å®å¹¶ä¸ä¼š Mel è¯­è¨€ï¼å¾ˆå¤š Maya ä¸­çš„å‘½ä»¤ä¹Ÿä¸çŸ¥é“æ€ä¹ˆæŸ¥è¯¢ï¼Œæœ‰æ—¶å€™éœ€è¦ä¼˜åŒ– Maya è‡ªå¸¦åŠŸèƒ½æ—¶ï¼Œä¸ç®¡æ˜¯é˜…è¯»è¿˜æ˜¯ä¿®æ”¹éƒ½å¸¦æ¥äº†æå¤§çš„éšœç¢ã€‚å› æ­¤è¿˜æ˜¯æŠ½ä¸ªæ—¶é—´æŠŠ Maya æ–‡æ¡£ä¸­çš„ Mel æ¨¡å—çœ‹ä¸€éæ‰è¡Œã€‚</p><p>&emsp;&emsp;ä¸‹é¢è®°å½•ä¸€äº›çŸ¥è¯†é‡ç‚¹ï¼</p><hr><h3 id="æŸ¥è¯¢å‘½ä»¤-whatIs"><a href="#æŸ¥è¯¢å‘½ä»¤-whatIs" class="headerlink" title="æŸ¥è¯¢å‘½ä»¤ whatIs"></a>æŸ¥è¯¢å‘½ä»¤ whatIs</h3><p>&emsp;&emsp;æœ‰æ—¶å€™æˆ‘ä»¬ä¸çŸ¥é“ Maya åšäº†ä»€ä¹ˆå…·ä½“æ“ä½œï¼Œé€šå¸¸ä¼šæ‰“å¼€è„šæœ¬ç¼–è¾‘å™¨ä¸­çš„â€œEcho All Commandsâ€ï¼Œæ¥æŸ¥çœ‹æ‰§è¡Œè¿‡ç¨‹ä¸­è°ƒç”¨çš„å‘½ä»¤ã€‚</p><p>&emsp;&emsp;æˆ‘ä»¬å¯ä»¥ç”¨ <code>whatIs</code> æŸ¥è¯¢å‘½ä»¤ã€‚whatIs å‘½ä»¤å°†è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºè¯¥å‚æ•°æ˜¯ä¸€ä¸ªå‘½ä»¤ã€ç¨‹åºã€è„šæœ¬æˆ–æœªçŸ¥ã€‚å¦‚æœç»™å®ƒä¸€ä¸ªè„šæœ¬åç§°ï¼Œå®ƒå°†è¿”å›è„šæœ¬è·¯å¾„ã€‚</p><p>&emsp;&emsp;ä»¥ Maya çš„æ·»åŠ åˆ†æ®µåŠŸèƒ½ä¸ºä¾‹ï¼Œé”®å…¥å‘½ä»¤ï¼š</p><pre><div class="caption"><span>SubdividePolygon;``` ï¼Œè¿è¡Œåè¿”å›ç»“æœï¼š ```// Result: Run Time Command</span><a href="//">``` ã€‚æˆ‘ä»¬å¯ä»¥æ‰¾åˆ°<font color< a></font></a></div><code class="hljs whatIs">SubdividePolygon å‘½ä»¤åœ¨æ–‡ä»¶ä¸­çš„éƒ¨åˆ†å¦‚ä¸‹æ‰€ç¤ºï¼š&#96;&#96;&#96;MelrunTimeCommand -default true-annotation (uiRes(&quot;m_defaultRunTimeCommands.kSubdividePolygonAnnot&quot;))-category   (&quot;Menu items.Modeling.Edit Mesh&quot;)-command    (&quot;performPolySubdivide \&quot;\&quot; 0&quot;)SubdividePolygon;</code></pre><p>å†æ¬¡é”®å…¥å‘½ä»¤æŸ¥è¯¢ <code>whatIs performPolySubdivide;</code> ï¼Œè¿è¡Œåè¿”å›ç»“æœ <code>// Result: Mel procedure found in: C:/Program Files/Autodesk/Maya2018/scripts/others/performPolySubdivide.mel // </code> ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬å°±æ‰¾åˆ°å…·ä½“çš„æ‰§è¡Œæ–‡ä»¶äº†ã€‚</p><hr><h3 id="æ‹–æ‹½å±æ€§åˆ°è„šæœ¬ç¼–è¾‘å™¨"><a href="#æ‹–æ‹½å±æ€§åˆ°è„šæœ¬ç¼–è¾‘å™¨" class="headerlink" title="æ‹–æ‹½å±æ€§åˆ°è„šæœ¬ç¼–è¾‘å™¨"></a>æ‹–æ‹½å±æ€§åˆ°è„šæœ¬ç¼–è¾‘å™¨</h3><p>&emsp;&emsp;Maya å¯ä»¥ä½¿ç”¨<font color="red">é¼ æ ‡ä¸­é”®</font>å°†å±æ€§ä»â€œå±æ€§ç¼–è¾‘å™¨â€(Attribute Editor)æ‹–æ”¾åˆ°â€œè„šæœ¬ç¼–è¾‘å™¨â€(Script Editor)ã€‚node.attributeName ä¼šç›´æ¥æ·»åŠ åˆ°â€œè„šæœ¬ç¼–è¾‘å™¨â€(Script Editor)ä¸­ã€‚<br><img src="/2021/04/13/maya/mel%E7%9A%84%E4%BD%BF%E7%94%A8/1.gif"></p><hr><h3 id="Source-Script"><a href="#Source-Script" class="headerlink" title="Source Script"></a>Source Script</h3><p>&emsp;&emsp;æ‰§è¡Œæ–‡æœ¬æ–‡ä»¶çš„å†…å®¹ã€‚</p><p>&emsp;&emsp;åœ¨è°ƒç”¨è‡ªå®šä¹‰çš„ mel çš„æ–¹æ³•å‰ï¼Œéœ€è¦å…ˆå®šä¹‰ï¼Œä¹Ÿå°±æ˜¯å…ˆæŠŠæ–¹æ³•è¿è¡Œå£°æ˜ä¸€æ¬¡ã€‚ä½¿ç”¨ä»»æ„æ–‡ä»¶åä¿å­˜è„šæœ¬ï¼Œç„¶åä½¿ç”¨ source å‘½ä»¤å°†å…¶æºåŒ–ã€‚è„šæœ¬æºåŒ–åï¼Œå¯ä»¥æŒ‰ä»»æ„é¡ºåºè°ƒç”¨å…¶ä»»ä½•å…¨å±€ç¨‹åºã€‚</p><p>&emsp;&emsp;å¯ä»¥ç‚¹å‡»è„šæœ¬ç¼–è¾‘å™¨ä¸­çš„ <img src="/2021/04/13/maya/mel%E7%9A%84%E4%BD%BF%E7%94%A8/2.png"> æŒ‰é’®æºåŒ–è„šæœ¬ã€‚å¦‚æœåœ¨æºåŒ–è„šæœ¬ä¹‹åæ›´æ”¹äº†è„šæœ¬ï¼Œé‚£ä¹ˆ Maya ä¸ä¼šè‡ªåŠ¨æ‹¾å–è¯¥æ›´æ”¹ã€‚æ‚¨éœ€è¦ä½¿ç”¨â€œæ–‡ä»¶ &gt; æºåŒ–è„šæœ¬â€(File &gt; Source Script)é‡æ–°è¿è¡Œè„šæœ¬ã€‚</p><p>&emsp;&emsp;å¦‚æœä¸ç¡®å®šæ˜¯å¦éœ€è¦æºåŒ–è„šæœ¬ï¼Œåˆ™å¯åœ¨è°ƒç”¨ä¹‹å‰æµ‹è¯•å‡½æ•°åœ¨ MEL ä¸­æ˜¯å¦å¯ç”¨ï¼š</p><pre><code class="hljs Mel"><span class="hljs-keyword">if</span> (!<span class="hljs-string">`exists myLocalProc`</span>)&#123;    <span class="hljs-keyword">source</span> <span class="hljs-string">&quot;xxx.mel&quot;</span>;&#125;myLocalProc;</code></pre><p>æ³¨æ„ï¼š MEL è„šæœ¬å’Œ mayaAscii æ–‡ä»¶æ˜¯ä¸åŒçš„ã€‚å¦‚æœå°† .ma æ–‡ä»¶é‡å‘½åä¸º .mel æ–‡ä»¶å¹¶æºåŒ–è¯¥æ–‡ä»¶ï¼Œåˆ™å¯èƒ½ä¼šå‡ºé”™ã€‚æˆ–è€…ï¼Œå¦‚æœå°† .mel è„šæœ¬é‡å‘½åä¸º .ma æ–‡ä»¶å¹¶æ‰“å¼€è¯¥æ–‡ä»¶ï¼Œåˆ™å¯èƒ½ä¼šå‡ºé”™ï¼Œæˆ–è€…ç”šè‡³ä¼šä½¿ Maya å´©æºƒã€‚Maya åœ¨è¯»å–æ–‡ä»¶æ—¶ä¼šæ‰§è¡Œä¸€äº›ç‰¹æ®Šæ“ä½œä»¥æé«˜æ€§èƒ½ï¼Œå¹¶éæ‰€æœ‰å‘½ä»¤éƒ½ä¸æ­¤å…¼å®¹ã€‚</p><hr><h3 id="è„šæœ¬ç¼–è¾‘å™¨è‡ªåŠ¨è¡¥å…¨"><a href="#è„šæœ¬ç¼–è¾‘å™¨è‡ªåŠ¨è¡¥å…¨" class="headerlink" title="è„šæœ¬ç¼–è¾‘å™¨è‡ªåŠ¨è¡¥å…¨"></a>è„šæœ¬ç¼–è¾‘å™¨è‡ªåŠ¨è¡¥å…¨</h3><p>&emsp;&emsp;å¼€å¯ Command -&gt; Command Completion ï¼Œé”®å…¥æ—¶è‡ªåŠ¨å®Œæˆå‘½ä»¤åç§°ã€‚å¦‚æœå¯ç”¨â€œæ˜¾ç¤ºå·¥å…·æç¤ºå¸®åŠ©â€(Show Tooltip Help)ï¼Œåˆ™å‘½ä»¤åç§°å°†åœ¨æ‚¨é”®å…¥æ—¶è‡ªåŠ¨æ˜¾ç¤ºã€‚å¦‚æœç¦ç”¨â€œæ˜¾ç¤ºå·¥å…·æç¤ºå¸®åŠ©â€(Show Tooltip Help)ï¼Œåˆ™å¿…é¡»æŒ‰ä½ Ctrl+ç©ºæ ¼é”®æ‰èƒ½æ˜¾ç¤ºå®ƒä»¬ã€‚</p><p><img src="/2021/04/13/maya/mel%E7%9A%84%E4%BD%BF%E7%94%A8/3.gif"></p><p>&emsp;&emsp;å¼€å¯ Command -&gt; Object Path Completion ï¼Œé”®å…¥æ—¶è‡ªåŠ¨å®Œæˆå¯¹è±¡è·¯å¾„åç§°ã€‚å¦‚æœå¯ç”¨â€œæ˜¾ç¤ºå·¥å…·æç¤ºå¸®åŠ©â€(Show Tooltip Help)ï¼Œåˆ™å‘½ä»¤åç§°å°†åœ¨æ‚¨é”®å…¥æ—¶è‡ªåŠ¨æ˜¾ç¤ºã€‚å¦‚æœç¦ç”¨â€œæ˜¾ç¤ºå·¥å…·æç¤ºå¸®åŠ©â€(Show Tooltip Help)ï¼Œåˆ™å¿…é¡»æŒ‰ä½ Ctrl+ç©ºæ ¼é”®æ‰èƒ½æ˜¾ç¤ºå®ƒä»¬ã€‚</p><hr><h3 id="åˆ¤æ–­å­˜åœ¨æ€§"><a href="#åˆ¤æ–­å­˜åœ¨æ€§" class="headerlink" title="åˆ¤æ–­å­˜åœ¨æ€§"></a>åˆ¤æ–­å­˜åœ¨æ€§</h3><ul><li><p>å‘½ä»¤å’Œè„šæœ¬: exists<br>å¦‚æœå‚æ•°ä¸ºæœ‰æ•ˆçš„å‘½ä»¤ã€å­ç¨‹åºæˆ–è„šæœ¬ï¼Œexists å‘½ä»¤å°†è¿”å› trueã€‚</p>  <pre><code class="hljs Mel"><span class="hljs-keyword">if</span> (<span class="hljs-keyword">exists</span>(<span class="hljs-string">&quot;sphere&quot;</span>)) &#123;    <span class="hljs-keyword">sphere</span>; <span class="hljs-comment">// make a sphere</span>&#125;</code></pre></li><li><p>å¯¹è±¡: objExists<br>å¦‚æœå¯¹è±¡å­˜åœ¨ä¸”åŒ…å«æŸä¸ªæ˜ç¡®çš„åç§°ï¼ŒobjExists å‡½æ•°å°†è¿”å› trueã€‚</p>  <pre><code class="hljs Mel"><span class="hljs-keyword">sphere</span> -name <span class="hljs-string">&quot;george&quot;</span>;<span class="hljs-comment">// Result: george makeNurbSphere1 //</span><span class="hljs-keyword">print</span>(<span class="hljs-keyword">objExists</span>(<span class="hljs-string">&quot;george&quot;</span>));<span class="hljs-number">1</span><span class="hljs-keyword">print</span>(<span class="hljs-keyword">objExists</span>(<span class="hljs-string">&quot;martha&quot;</span>));<span class="hljs-number">0</span></code></pre></li><li><p>èŠ‚ç‚¹ä¸Šçš„å±æ€§: attributeExists<br>ä½¿ç”¨ attributeExists æ£€æŸ¥èŠ‚ç‚¹ä¸Šæ˜¯å¦å­˜åœ¨ç»™å®šå±æ€§ã€‚å‘½ä»¤çš„å½¢å¼ä¸º<code>attributeExists(&quot;attributeName&quot;,&quot;nodeName&quot;)</code></p>  <pre><code class="hljs MEL"><span class="hljs-keyword">if</span> (<span class="hljs-keyword">attributeExists</span>(<span class="hljs-string">&quot;visibility&quot;</span>,<span class="hljs-string">&quot;mySphere&quot;</span>)) &#123;    <span class="hljs-keyword">setAttr</span> mySphere.visibility on;&#125;</code></pre></li></ul>]]></content>
    
    
    <categories>
      
      <category>Maya</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MAYA</tag>
      
      <tag>MEL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Unrealæè´¨æ›¿æ¢æ’ä»¶</title>
    <link href="/2021/04/05/unreal/Unreal%E6%9D%90%E8%B4%A8%E6%9B%BF%E6%8D%A2%E6%8F%92%E4%BB%B6/"/>
    <url>/2021/04/05/unreal/Unreal%E6%9D%90%E8%B4%A8%E6%9B%BF%E6%8D%A2%E6%8F%92%E4%BB%B6/</url>
    
    <content type="html"><![CDATA[<p>&emsp;&emsp;åœ¨å­¦ä¹ äº† UnrealPython åŸºç¡€æ•™ç¨‹åï¼Œå°è¯•å¼€å‘äº†ä¸€ä¸‹å°åŠŸèƒ½ï¼šæŠŠ A ç‰©ä½“çš„æè´¨ä¸€ä¸€å¯¹åº”èµ‹ç»™ B ç‰©ä½“ã€‚</p><p><img src="/2021/04/05/unreal/Unreal%E6%9D%90%E8%B4%A8%E6%9B%BF%E6%8D%A2%E6%8F%92%E4%BB%B6/1.png"></p><p>&emsp;&emsp;UE4 é‡Œé¢ä¸èƒ½å¯¹ç‰©ä½“é€‰é¢ä¸Šæè´¨ï¼Œä¸€äº›å¯¹ç‰©ä½“çš„æ“ä½œåªèƒ½ä»å…¶ä»–ä¸‰ç»´è½¯ä»¶ä¸­è¿›è¡Œã€‚åœ¨ UE4 ä¸­ï¼Œä¼šæŠŠç‰©ä½“çš„æè´¨ä¿¡æ¯è®°å½•åœ¨ä¸€ä¸ªå±æ€§å½“ä¸­ï¼Œå¯¹äºä¸¤ä¸ªæè´¨åˆ†ç»„ä¸€è‡´çš„ç‰©ä½“ï¼Œå¯ä»¥é€šè¿‡æ›¿æ¢æè´¨çƒè¾¾åˆ°æ˜¾ç¤ºä¸€è‡´çš„æ•ˆæœã€‚</p><p><img src="/2021/04/05/unreal/Unreal%E6%9D%90%E8%B4%A8%E6%9B%BF%E6%8D%A2%E6%8F%92%E4%BB%B6/2.png"></p><p>&emsp;&emsp;åŒæ—¶ï¼Œå¦‚æœä¸¤ä¸ªç‰©ä½“çš„æè´¨çƒæ•°é‡ä¸ä¸€æ ·çš„è¯ï¼Œä¼šå¯¹å¤šå‡ºæ¥çš„è¿›è¡Œå¿½ç•¥ï¼Œåºå·ä¸€è‡´çš„è¿›è¡Œä¸€ä¸€å¯¹åº”ã€‚</p><hr><h2 id="åŠŸèƒ½å®ç°"><a href="#åŠŸèƒ½å®ç°" class="headerlink" title="åŠŸèƒ½å®ç°"></a>åŠŸèƒ½å®ç°</h2><p>material_tool.py</p><pre><code class="hljs python"><span class="hljs-comment"># coding: utf-8</span><span class="hljs-keyword">import</span> unreal<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_component</span>(<span class="hljs-params">actor</span>):</span>    <span class="hljs-keyword">if</span> actor.static_class() == unreal.StaticMeshActor.static_class():        <span class="hljs-keyword">return</span> actor.static_mesh_component    <span class="hljs-keyword">elif</span> actor.static_class() == unreal.SkeletalMeshActor.static_class():        <span class="hljs-keyword">return</span> actor.skeletal_mesh_component    <span class="hljs-keyword">else</span>:        <span class="hljs-keyword">print</span> (<span class="hljs-string">&quot;Error: unacceptable type: &#123;&#125;, &#123;&#125;&quot;</span>.format(actor.name(), actor.static_class()))        <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">world_actor_function</span>():</span>    selected_actors = unreal.EditorLevelLibrary.get_selected_level_actors()    <span class="hljs-keyword">if</span> len(selected_actors) &lt; <span class="hljs-number">2</span>:        <span class="hljs-keyword">print</span> (<span class="hljs-string">&quot;please select more than two objects&quot;</span>)        <span class="hljs-keyword">return</span>    ori_actor = selected_actors[<span class="hljs-number">0</span>]    des_actors = selected_actors[<span class="hljs-number">1</span>:]    ori_component = get_component(ori_actor)    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> ori_component:        <span class="hljs-keyword">return</span>    ori_materials_num = len(ori_component.get_materials())    <span class="hljs-keyword">for</span> des_actor <span class="hljs-keyword">in</span> des_actors:        des_component = get_component(des_actor)        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> des_component:            <span class="hljs-keyword">continue</span>        <span class="hljs-keyword">for</span> index <span class="hljs-keyword">in</span> range(ori_materials_num):            index_material = ori_component.get_material(index)            des_component.set_material(index, index_material)<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">asset_function</span>():</span>    selected_assets = unreal.EditorUtilityLibrary().get_selected_assets()    <span class="hljs-keyword">if</span> len(selected_assets) &lt; <span class="hljs-number">2</span>:        print( <span class="hljs-string">&quot;please select more than two objects&quot;</span>)        <span class="hljs-keyword">return</span>    ori_asset = selected_assets[<span class="hljs-number">0</span>]    des_assets = selected_assets[<span class="hljs-number">1</span>:]    <span class="hljs-keyword">if</span> ori_asset.static_class() == unreal.SkeletalMesh.static_class():        ori_mat = ori_asset.get_editor_property(<span class="hljs-string">&#x27;materials&#x27;</span>)        <span class="hljs-keyword">for</span> des_asset <span class="hljs-keyword">in</span> des_assets:            des_mat = des_asset.get_editor_property(<span class="hljs-string">&#x27;materials&#x27;</span>)            <span class="hljs-keyword">if</span> len(ori_mat) &gt; len(des_mat):                mat = ori_mat[:len(des_mat)]            <span class="hljs-keyword">elif</span> len(ori_mat) &lt; len(des_mat):                mat = des_mat                <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(len(ori_mat)):                    mat[i] = ori_mat[i]            <span class="hljs-keyword">else</span>:                mat = ori_mat            des_asset.set_editor_property(<span class="hljs-string">&#x27;materials&#x27;</span>, mat)    <span class="hljs-keyword">elif</span> ori_asset.static_class() == unreal.StaticMesh.static_class():        ori_materials_num = <span class="hljs-number">0</span>        loop = <span class="hljs-literal">True</span>        interface_list = []        <span class="hljs-keyword">while</span> loop:            material = ori_asset.get_material(ori_materials_num)            <span class="hljs-keyword">if</span> material:                interface_list.append(material)                ori_materials_num = ori_materials_num + <span class="hljs-number">1</span>            <span class="hljs-keyword">else</span>:                loop = <span class="hljs-literal">False</span>        <span class="hljs-keyword">for</span> des_asset <span class="hljs-keyword">in</span> des_assets:            <span class="hljs-keyword">for</span> index <span class="hljs-keyword">in</span> range(ori_materials_num):                index_material = ori_asset.get_material(index)                des_asset.set_material(index, index_material)    <span class="hljs-keyword">else</span>:        <span class="hljs-keyword">print</span> (<span class="hljs-string">&quot;Error: unacceptable type: &#123;&#125;, &#123;&#125;&quot;</span>.format(ori_asset, ori_asset.static_class()))<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span>(<span class="hljs-params">asset=True</span>):</span>    <span class="hljs-keyword">if</span> asset:        <span class="hljs-comment"># edit asset</span>        asset_function()    <span class="hljs-keyword">else</span>:        <span class="hljs-comment"># edit world actor</span>        world_actor_function()</code></pre><p>æ³¨ï¼š</p><ol><li>å¯ä»¥è½¬åŒ–èµ„äº§æè´¨ï¼Œä¹Ÿå¯ä»¥è½¬åŒ–ä¸–ç•Œä¸­ç‰©ä½“çš„æè´¨ã€‚</li><li>å½“é€‰æ‹©ç‰©ä½“ç±»å‹ä¸ä¸€è‡´ï¼ˆStaticMesh / SkeletonMeshï¼‰æ—¶ï¼Œåœ¨è½¬æ¢èµ„äº§æè´¨æ—¶ä¼šå‡ºé”™ã€‚</li><li>å¯ä»¥å®ç°ä¸€èµ‹å¤šï¼Œä¸€å¥—æè´¨èµ‹ç»™å¤šä¸ªç‰©ä½“ã€‚</li></ol><hr><h2 id="åˆ›å»ºå¿«æ·èœå•"><a href="#åˆ›å»ºå¿«æ·èœå•" class="headerlink" title="åˆ›å»ºå¿«æ·èœå•"></a>åˆ›å»ºå¿«æ·èœå•</h2><p>create_mt_tool_menu.py</p><pre><code class="hljs python"><span class="hljs-comment"># coding: utf-8</span><span class="hljs-keyword">import</span> unrealmenus = unreal.ToolMenus.get()<span class="hljs-comment"># add contextbrowser menu</span>menu_name = <span class="hljs-string">&quot;ContentBrowser.AssetContextMenu&quot;</span>menu = menus.find_menu(menu_name)entry = unreal.ToolMenuEntry(type=unreal.MultiBlockType.MENU_ENTRY)entry.set_label(<span class="hljs-string">&quot;Convert Materials&quot;</span>)<span class="hljs-comment"># NOTE æ³¨å†Œæ‰§è¡Œçš„å‘½ä»¤</span>typ = unreal.ToolMenuStringCommandType.PYTHONrun_str = <span class="hljs-string">&quot;import material_tool; material_tool.main()&quot;</span>entry.set_string_command(typ, <span class="hljs-string">&quot;&quot;</span>, run_str)menu.add_section(<span class="hljs-string">&#x27;CustomControl&#x27;</span>, label=<span class="hljs-string">&#x27;CustomMenu&#x27;</span>)menu.add_menu_entry(<span class="hljs-string">&#x27;CustomControl&#x27;</span>,entry)<span class="hljs-comment"># add viewport right clicked menu</span>viewport_menu_name = <span class="hljs-string">&quot;LevelEditor.ActorContextMenu&quot;</span>menu = menus.find_menu(viewport_menu_name)entry = unreal.ToolMenuEntry(type=unreal.MultiBlockType.MENU_ENTRY)entry.set_label(<span class="hljs-string">&quot;Convert Materials&quot;</span>)typ = unreal.ToolMenuStringCommandType.PYTHONrun_str = <span class="hljs-string">&quot;import material_tool; material_tool.main(False)&quot;</span>entry.set_string_command(typ, <span class="hljs-string">&quot;&quot;</span>, run_str)menu.add_section(<span class="hljs-string">&#x27;CustomControl&#x27;</span>, label=<span class="hljs-string">&#x27;ComstomMenu&#x27;</span>)menu.add_menu_entry(<span class="hljs-string">&#x27;CustomControl&#x27;</span>,entry)<span class="hljs-comment"># add toolbar menu</span>toolbar_menu_name = <span class="hljs-string">&quot;LevelEditor.LevelEditorToolBar&quot;</span>menu = menus.find_menu(toolbar_menu_name)menu.add_section(<span class="hljs-string">&#x27;CustomControl&#x27;</span>, label=<span class="hljs-string">&#x27;Convert Materials&#x27;</span>)typ = unreal.ToolMenuStringCommandType.PYTHONentry = unreal.ToolMenuEntry(type=unreal.MultiBlockType.TOOL_BAR_BUTTON)entry.set_label(<span class="hljs-string">&quot;By Asset&quot;</span>)run_str = <span class="hljs-string">&quot;import material_tool; material_tool.main()&quot;</span>entry.set_string_command(typ, <span class="hljs-string">&quot;&quot;</span>, run_str)menu.add_menu_entry(<span class="hljs-string">&#x27;CustomControl&#x27;</span>,entry)entry = unreal.ToolMenuEntry(type=unreal.MultiBlockType.TOOL_BAR_BUTTON)entry.set_label(<span class="hljs-string">&quot;By World&quot;</span>)run_str = <span class="hljs-string">&quot;import material_tool; material_tool.main(False)&quot;</span>entry.set_string_command(typ, <span class="hljs-string">&quot;&quot;</span>, run_str)menu.add_menu_entry(<span class="hljs-string">&#x27;CustomControl&#x27;</span>,entry)<span class="hljs-comment"># add it to show the button</span>menus.refresh_all_widgets()</code></pre><p>å¯ä»¥é€‰æ‹©èµ„äº§å³é”®ã€æˆ–é€‰æ‹©ä¸–ç•Œä¸­ç‰©ä½“å³é”®ã€æˆ–åœ¨å·¥å…·æ¶ä¸Šç‚¹å‡»ä½¿ç”¨ã€‚</p><p><img src="/2021/04/05/unreal/Unreal%E6%9D%90%E8%B4%A8%E6%9B%BF%E6%8D%A2%E6%8F%92%E4%BB%B6/3.png"></p><p><img src="/2021/04/05/unreal/Unreal%E6%9D%90%E8%B4%A8%E6%9B%BF%E6%8D%A2%E6%8F%92%E4%BB%B6/4.png"></p><p><img src="/2021/04/05/unreal/Unreal%E6%9D%90%E8%B4%A8%E6%9B%BF%E6%8D%A2%E6%8F%92%E4%BB%B6/5.png"></p><h2 id="é…ç½®æ’ä»¶"><a href="#é…ç½®æ’ä»¶" class="headerlink" title="é…ç½®æ’ä»¶"></a>é…ç½®æ’ä»¶</h2><p>&emsp;&emsp;ä¸€å¼€å§‹æˆ‘æ˜¯ç”¨ Startup Scripts è¿›è¡Œé…ç½®çš„ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼é…ç½®å‡å¦‚æ–°å»ºäº†é¡¹ç›®ï¼Œæ¯æ¬¡éƒ½è¦é‡æ–°æŒ‡å®šè„šæœ¬è·¯å¾„ï¼Œéå¸¸éº»çƒ¦ã€‚</p><p>&emsp;&emsp;åæ¥è·Ÿæ™ºä¼¤å¸æ¢è®¨åå‘ç°å¯ä»¥åƒ Maya UserSetup ä¸€æ ·é…ç½®ä¸€ä¸ªå¯åŠ¨æ—¶è‡ªåŠ¨è¿è¡Œçš„æ–‡ä»¶ã€‚åˆ›å»ºä¸€ä¸ªåä¸º â€œinit_unreal.pyâ€ çš„æ–‡ä»¶ï¼Œæ”¾ç½®äºæˆ‘çš„æ–‡æ¡£ â€œDocuments\UnrealEngine\Pythonâ€ æ–‡ä»¶å¤¹ä¸­ï¼ŒUnreal å¯åŠ¨æ—¶å°±ä¼šè‡ªåŠ¨è¯»å–è¯¥æ–‡ä»¶ã€‚</p><p>init_unreal.py</p><pre><code class="hljs python"><span class="hljs-keyword">import</span> create_mt_tool_menu</code></pre><p>&emsp;&emsp;ä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘ç›´æ¥æŠŠè¿™å‡ ä¸ªæ–‡ä»¶ä¹Ÿæ”¾è¿›â€œDocuments\UnrealEngine\Pythonâ€ æ–‡ä»¶å¤¹ã€‚</p><p><img src="/2021/04/05/unreal/Unreal%E6%9D%90%E8%B4%A8%E6%9B%BF%E6%8D%A2%E6%8F%92%E4%BB%B6/6.png"></p><p>&emsp;&emsp;è¿™æ ·ï¼Œåªéœ€è¦åœ¨åˆ›å»ºæ–°é¡¹ç›®æ—¶åŠ è½½ Python æ’ä»¶ï¼Œé‡å¯å¼•æ“åå°±å¯ä»¥åœ¨èœå•ä¸Šçœ‹åˆ°é…ç½®å¥½çš„å·¥å…·äº†ã€‚</p><p>&emsp;&emsp;èƒ½ä¸èƒ½è®©å¼•æ“åœ¨åˆ›å»ºæ–°é¡¹ç›®çš„æ—¶å€™è‡ªåŠ¨åŠ è½½ Python æ’ä»¶å‘¢ï¼ˆä»¥å°½é‡å‡å°‘æ“ä½œä¸ºç›®çš„ï¼‰ï¼Ÿç­”æ¡ˆæ˜¯å¯ä»¥çš„ï¼Œæ™ºä¼¤å¸ç»™å‡ºäº†ä¿®æ”¹å¯åŠ¨ bat çš„æ–¹å¼ï¼Œè¿™ç§æ–¹å¼ä»¥åå†ç ”ç©¶ä½¿ç”¨å§ï¼Œæš‚æ—¶æ˜¯ç”¨ä¸ä¸Šäº†ã€‚</p><p>&emsp;&emsp;è‡³äºåŠ è½½ Pythonï¼Œé¡¹ç›®åªè¦åŠ è½½è¿‡ä¸€æ¬¡ï¼Œä¸‹æ¬¡å°±ä¼šè‡ªåŠ¨åŠ è½½äº†ï¼Œæ‰€ä»¥åŠ¨åŠ¨æ‰‹æŒ‡ä¹Ÿæ²¡æœ‰ç‰¹åˆ«éº»çƒ¦å•¦~</p>]]></content>
    
    
    <categories>
      
      <category>Unreal</category>
      
    </categories>
    
    
    <tags>
      
      <tag>UE</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>UnrealPythonåŸºç¡€å­¦ä¹ </title>
    <link href="/2021/01/26/unreal/UnrealPython%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/"/>
    <url>/2021/01/26/unreal/UnrealPython%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[<p>&emsp;&emsp;ğŸ› åœ¨ UE4 ä¸­ä½¿ç”¨ Python å¼€å‘å…¥é—¨ã€‚</p><p>&emsp;&emsp;è§†é¢‘å­¦ä¹ é“¾æ¥ï¼š<a href="https://www.bilibili.com/video/BV1b4411r7kX?p=9">è™šå¹»å¼•æ“ä½¿ç”¨Pythonå¼€å‘</a></p><h2 id="L1-åœ¨-UE4-ä¸­é…ç½®-Python"><a href="#L1-åœ¨-UE4-ä¸­é…ç½®-Python" class="headerlink" title="L1 åœ¨ UE4 ä¸­é…ç½® Python"></a>L1 åœ¨ UE4 ä¸­é…ç½® Python</h2><h3 id="åŠ è½½æ’ä»¶"><a href="#åŠ è½½æ’ä»¶" class="headerlink" title="åŠ è½½æ’ä»¶"></a>åŠ è½½æ’ä»¶</h3><p>&emsp;&emsp;ä»èœå• â€œEdit - Pluginsâ€ è¿›å…¥æ’ä»¶ç®¡ç†ï¼Œä»å·¦ä¾§åˆ—è¡¨æ‰¾åˆ° â€œScriptingâ€ã€‚å‹¾é€‰ Python Editor Script Plugin åé‡å¯å¼•æ“ã€‚</p><p><img src="/2021/01/26/unreal/UnrealPython%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/L1_1.png"></p><h3 id="é…ç½®è·¯å¾„"><a href="#é…ç½®è·¯å¾„" class="headerlink" title="é…ç½®è·¯å¾„"></a>é…ç½®è·¯å¾„</h3><p>&emsp;&emsp;ä»èœå• â€œEdit - Project Settingsâ€ è¿›å…¥é¡¹ç›®è®¾ç½®ï¼Œä»å·¦ä¾§åˆ—è¡¨æ‰¾åˆ° â€œPythonâ€ã€‚</p><p><img src="/2021/01/26/unreal/UnrealPython%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/L1_2.png"></p><ul><li>Startup Scripts: æŒ‡å®š UE4 æ‰“å¼€æ—¶è¿è¡Œçš„è„šæœ¬æ–‡ä»¶ã€‚</li><li>Additional Paths: UE4 å¯ä»¥è¯»å–åˆ° Python è„šæœ¬çš„è·¯å¾„ã€‚</li></ul><h3 id="Unreal-Python-API"><a href="#Unreal-Python-API" class="headerlink" title="Unreal Python API"></a>Unreal Python API</h3><p>Unreal Python <a href="https://docs.unrealengine.com/en-US/PythonAPI/index.html">API æ–‡æ¡£</a></p><h2 id="L2-ä½¿ç”¨-Python-å¯¼å…¥èµ„äº§"><a href="#L2-ä½¿ç”¨-Python-å¯¼å…¥èµ„äº§" class="headerlink" title="L2 ä½¿ç”¨ Python å¯¼å…¥èµ„äº§"></a>L2 ä½¿ç”¨ Python å¯¼å…¥èµ„äº§</h2><h3 id="Example1-å¯¼å…¥è´´å›¾å’ŒéŸ³é¢‘"><a href="#Example1-å¯¼å…¥è´´å›¾å’ŒéŸ³é¢‘" class="headerlink" title="Example1 å¯¼å…¥è´´å›¾å’ŒéŸ³é¢‘"></a>Example1 å¯¼å…¥è´´å›¾å’ŒéŸ³é¢‘</h3><p>AssetFunction_1.py</p><pre><code class="hljs python"><span class="hljs-comment"># coding: utf-8</span><span class="hljs-keyword">import</span> os<span class="hljs-keyword">import</span> unreal<span class="hljs-comment"># import AssetFunction_1 as af</span><span class="hljs-comment"># reload(af)</span><span class="hljs-comment"># af.importMyAssets()</span>asset_folder = <span class="hljs-string">&#x27;D:/ue4/test/asset&#x27;</span>texture_jpg = os.path.join(asset_folder, <span class="hljs-string">&#x27;dear.jpg&#x27;</span>).replace(<span class="hljs-string">&#x27;\\&#x27;</span>,<span class="hljs-string">&#x27;/&#x27;</span>)sound_mp3 = os.path.join(asset_folder, <span class="hljs-string">&#x27;easy.mp3&#x27;</span>).replace(<span class="hljs-string">&#x27;\\&#x27;</span>,<span class="hljs-string">&#x27;/&#x27;</span>)<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">importMyAssets</span>():</span>    texture_task = bulidImportTask(texture_jpg, <span class="hljs-string">&#x27;/Game/MyAsset/Textures&#x27;</span>)    sound_task = bulidImportTask(sound_mp3, <span class="hljs-string">&#x27;/Game/MyAsset/Sounds&#x27;</span>)    executeImportTasks([texture_task, sound_task])<span class="hljs-comment"># ! è®¾ç½®å¯¼å…¥èµ„äº§å±æ€§</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">bulidImportTask</span>(<span class="hljs-params">filename, destination_path</span>):</span>    task = unreal.AssetImportTask()    task.set_editor_property(<span class="hljs-string">&#x27;automated&#x27;</span>, <span class="hljs-literal">True</span>)    task.set_editor_property(<span class="hljs-string">&#x27;destination_name&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>)    task.set_editor_property(<span class="hljs-string">&#x27;destination_path&#x27;</span>, destination_path)    task.set_editor_property(<span class="hljs-string">&#x27;filename&#x27;</span>, filename)    task.set_editor_property(<span class="hljs-string">&#x27;replace_existing&#x27;</span>, <span class="hljs-literal">True</span>)    task.set_editor_property(<span class="hljs-string">&#x27;save&#x27;</span>, <span class="hljs-literal">True</span>)    <span class="hljs-keyword">return</span> task<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">executeImportTasks</span>(<span class="hljs-params">tasks</span>):</span>    unreal.AssetToolsHelpers.get_asset_tools().import_asset_tasks(tasks)    <span class="hljs-keyword">for</span> task <span class="hljs-keyword">in</span> tasks:        <span class="hljs-keyword">for</span> path <span class="hljs-keyword">in</span> task.get_editor_property(<span class="hljs-string">&#x27;imported_object_paths&#x27;</span>):            <span class="hljs-keyword">print</span> <span class="hljs-string">&#x27;Imported &#123;&#125;&#x27;</span>.format(path)</code></pre><h3 id="Example2-å¯¼å…¥fbx"><a href="#Example2-å¯¼å…¥fbx" class="headerlink" title="Example2 å¯¼å…¥fbx"></a>Example2 å¯¼å…¥fbx</h3><p>AssetFunction_2.py</p><pre><code class="hljs python"><span class="hljs-comment"># coding: utf-8</span><span class="hljs-keyword">import</span> os<span class="hljs-keyword">import</span> unreal<span class="hljs-comment"># import AssetFunction_2 as af</span><span class="hljs-comment"># reload(af)</span><span class="hljs-comment"># af.importMyAssets()</span>asset_folder = <span class="hljs-string">&#x27;D:/ue4/test/asset&#x27;</span>static_mesh_fbx = os.path.join(asset_folder, <span class="hljs-string">&#x27;static_fbx.fbx&#x27;</span>).replace(<span class="hljs-string">&#x27;\\&#x27;</span>,<span class="hljs-string">&#x27;/&#x27;</span>)skeletal_mesh_fbx = os.path.join(asset_folder, <span class="hljs-string">&#x27;skeletal_fbx.fbx&#x27;</span>).replace(<span class="hljs-string">&#x27;\\&#x27;</span>,<span class="hljs-string">&#x27;/&#x27;</span>)<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">importMyAssets</span>():</span>    <span class="hljs-comment"># ! é™æ€ç½‘æ ¼</span>    static_mesh_task = bulidImportTask(static_mesh_fbx, <span class="hljs-string">&#x27;/Game/MyAsset/StaticMeshes&#x27;</span>, buildStaticMeshImportOptions())    <span class="hljs-comment"># ! å¸¦éª¨éª¼çš„ç½‘æ ¼</span>    skeletal_mesh_task = bulidImportTask(skeletal_mesh_fbx, <span class="hljs-string">&#x27;/Game/MyAsset/SkeletalMeshes&#x27;</span>, buildSkeletalMeshImportOptions())    executeImportTasks([static_mesh_task, skeletal_mesh_task])<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">bulidImportTask</span>(<span class="hljs-params">filename, destination_path, options=None</span>):</span>    task = unreal.AssetImportTask()    task.set_editor_property(<span class="hljs-string">&#x27;automated&#x27;</span>, <span class="hljs-literal">True</span>)    task.set_editor_property(<span class="hljs-string">&#x27;destination_name&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>)    task.set_editor_property(<span class="hljs-string">&#x27;destination_path&#x27;</span>, destination_path)    task.set_editor_property(<span class="hljs-string">&#x27;filename&#x27;</span>, filename)    task.set_editor_property(<span class="hljs-string">&#x27;replace_existing&#x27;</span>, <span class="hljs-literal">True</span>)    task.set_editor_property(<span class="hljs-string">&#x27;save&#x27;</span>, <span class="hljs-literal">True</span>)    task.set_editor_property(<span class="hljs-string">&#x27;options&#x27;</span>, options)    <span class="hljs-keyword">return</span> task<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">executeImportTasks</span>(<span class="hljs-params">tasks</span>):</span>    unreal.AssetToolsHelpers.get_asset_tools().import_asset_tasks(tasks)    <span class="hljs-keyword">for</span> task <span class="hljs-keyword">in</span> tasks:        <span class="hljs-keyword">for</span> path <span class="hljs-keyword">in</span> task.get_editor_property(<span class="hljs-string">&#x27;imported_object_paths&#x27;</span>):            <span class="hljs-keyword">print</span> <span class="hljs-string">&#x27;Imported &#123;&#125;&#x27;</span>.format(path)<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">buildStaticMeshImportOptions</span>():</span>    options = unreal.FbxImportUI()    <span class="hljs-comment"># unreal.FbxImportUI</span>    options.set_editor_property(<span class="hljs-string">&#x27;import_mesh&#x27;</span>, <span class="hljs-literal">True</span>)    options.set_editor_property(<span class="hljs-string">&#x27;import_textures&#x27;</span>, <span class="hljs-literal">False</span>)    options.set_editor_property(<span class="hljs-string">&#x27;import_materials&#x27;</span>, <span class="hljs-literal">True</span>)    options.set_editor_property(<span class="hljs-string">&#x27;import_as_skeletal&#x27;</span>, <span class="hljs-literal">False</span>) <span class="hljs-comment"># Static Mesh</span>    <span class="hljs-comment"># unreal.FbxMeshImportData</span>    options.static_mesh_import_data.set_editor_property(<span class="hljs-string">&#x27;import_translation&#x27;</span>, unreal.Vector(<span class="hljs-number">50.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>))    options.static_mesh_import_data.set_editor_property(<span class="hljs-string">&#x27;import_rotation&#x27;</span>, unreal.Rotator(<span class="hljs-number">0.0</span>, <span class="hljs-number">110.0</span>, <span class="hljs-number">0.0</span>))    options.static_mesh_import_data.set_editor_property(<span class="hljs-string">&#x27;import_uniform_scale&#x27;</span>, <span class="hljs-number">1.0</span>)    <span class="hljs-comment"># unreal.FbxStaticMeshImportData</span>    options.static_mesh_import_data.set_editor_property(<span class="hljs-string">&#x27;combine_meshes&#x27;</span>, <span class="hljs-literal">True</span>)    options.static_mesh_import_data.set_editor_property(<span class="hljs-string">&#x27;generate_lightmap_u_vs&#x27;</span>, <span class="hljs-literal">True</span>)    options.static_mesh_import_data.set_editor_property(<span class="hljs-string">&#x27;auto_generate_collision&#x27;</span>, <span class="hljs-literal">True</span>)    <span class="hljs-keyword">return</span> options<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">buildSkeletalMeshImportOptions</span>():</span>    options = unreal.FbxImportUI()    <span class="hljs-comment"># unreal.FbxImportUI</span>    options.set_editor_property(<span class="hljs-string">&#x27;import_mesh&#x27;</span>, <span class="hljs-literal">True</span>)    options.set_editor_property(<span class="hljs-string">&#x27;import_textures&#x27;</span>, <span class="hljs-literal">True</span>)    options.set_editor_property(<span class="hljs-string">&#x27;import_materials&#x27;</span>, <span class="hljs-literal">True</span>)    options.set_editor_property(<span class="hljs-string">&#x27;import_as_skeletal&#x27;</span>, <span class="hljs-literal">True</span>) <span class="hljs-comment"># Skeletal Mesh</span>    <span class="hljs-comment"># unreal.FbxMeshImportData</span>    options.skeletal_mesh_import_data.set_editor_property(<span class="hljs-string">&#x27;import_translation&#x27;</span>, unreal.Vector(<span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>))    options.skeletal_mesh_import_data.set_editor_property(<span class="hljs-string">&#x27;import_rotation&#x27;</span>, unreal.Rotator(<span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>))    options.skeletal_mesh_import_data.set_editor_property(<span class="hljs-string">&#x27;import_uniform_scale&#x27;</span>, <span class="hljs-number">1.0</span>)    <span class="hljs-comment"># unreal.FbxSkeletalMeshImportData</span>    options.skeletal_mesh_import_data.set_editor_property(<span class="hljs-string">&#x27;import_morph_targets&#x27;</span>, <span class="hljs-literal">True</span>)    options.skeletal_mesh_import_data.set_editor_property(<span class="hljs-string">&#x27;update_skeleton_reference_pose&#x27;</span>, <span class="hljs-literal">False</span>)    <span class="hljs-keyword">return</span> options</code></pre><h3 id="Example3-åˆ›å»ºã€å¤åˆ¶ã€åˆ é™¤ã€é‡å‘½åèµ„äº§å’Œæ–‡ä»¶å¤¹"><a href="#Example3-åˆ›å»ºã€å¤åˆ¶ã€åˆ é™¤ã€é‡å‘½åèµ„äº§å’Œæ–‡ä»¶å¤¹" class="headerlink" title="Example3 åˆ›å»ºã€å¤åˆ¶ã€åˆ é™¤ã€é‡å‘½åèµ„äº§å’Œæ–‡ä»¶å¤¹"></a>Example3 åˆ›å»ºã€å¤åˆ¶ã€åˆ é™¤ã€é‡å‘½åèµ„äº§å’Œæ–‡ä»¶å¤¹</h3><p>AssetFunction_3.py</p><pre><code class="hljs python"><span class="hljs-comment"># coding: utf-8</span><span class="hljs-keyword">import</span> os<span class="hljs-keyword">import</span> unreal<span class="hljs-comment"># import AssetFunction_3 as af</span><span class="hljs-comment"># reload(af)</span><span class="hljs-comment"># af.createDirectory()</span><span class="hljs-comment"># ! åˆ›å»ºæ–‡ä»¶å¤¹ ~/MyNewDirectory</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">createDirectory</span>():</span>    unreal.EditorAssetLibrary.make_directory(<span class="hljs-string">&#x27;/Game/MyAsset/MyNewDirectory&#x27;</span>)<span class="hljs-comment"># ! å¤åˆ¶æ–‡ä»¶å¤¹ ~/MyNewDirectory -&gt; ~/MyNewDirectory_Duplicated</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">duplicateDirectory</span>():</span>    <span class="hljs-keyword">return</span> unreal.EditorAssetLibrary.duplicate_directory(<span class="hljs-string">&#x27;/Game/MyAsset/MyNewDirectory&#x27;</span>, <span class="hljs-string">&#x27;/Game/MyAsset/MyNewDirectory_Duplicated&#x27;</span>)<span class="hljs-comment"># ! åˆ é™¤æ–‡ä»¶å¤¹ ~/MyNewDirectory</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">deleteDirectory</span>():</span>    unreal.EditorAssetLibrary.delete_directory(<span class="hljs-string">&#x27;/Game/MyAsset/MyNewDirectory&#x27;</span>)<span class="hljs-comment"># ! é‡å‘½åæ–‡ä»¶å¤¹ ~/MyNewDirectory_Duplicated -&gt; ~/MyNewDirectory_Renamed</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">renameDirectory</span>():</span>    <span class="hljs-keyword">return</span> unreal.EditorAssetLibrary.rename_directory(<span class="hljs-string">&#x27;/Game/MyAsset/MyNewDirectory_Duplicated&#x27;</span>, <span class="hljs-string">&#x27;/Game/MyAsset/MyNewDirectory_Renamed&#x27;</span>)<span class="hljs-comment"># ! å¤åˆ¶èµ„äº§ ~/dear -&gt; ~/dear_Duplicated</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">duplicateAsset</span>():</span>    <span class="hljs-keyword">return</span> unreal.EditorAssetLibrary.duplicate_asset(<span class="hljs-string">&#x27;/Game/MyAsset/Textures/dear&#x27;</span>, <span class="hljs-string">&#x27;/Game/MyAsset/Textures/dear_Duplicated&#x27;</span>)<span class="hljs-comment"># ! åˆ é™¤èµ„äº§ ~/dear</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">deleteAsset</span>():</span>    unreal.EditorAssetLibrary.delete_asset(<span class="hljs-string">&#x27;/Game/MyAsset/Textures/dear&#x27;</span>)<span class="hljs-comment"># ! åˆ¤æ–­èµ„äº§æ˜¯å¦å­˜åœ¨</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">assetExist</span>():</span>    <span class="hljs-keyword">print</span> unreal.EditorAssetLibrary.does_asset_exist(<span class="hljs-string">&#x27;/Game/MyAsset/Textures/dear&#x27;</span>)    <span class="hljs-keyword">print</span> unreal.EditorAssetLibrary.does_asset_exist(<span class="hljs-string">&#x27;/Game/MyAsset/Textures/dear_Duplicated&#x27;</span>)<span class="hljs-comment"># ! é‡å‘½åèµ„äº§ ~/dear_Duplicated -&gt; ~/dear_Renamed</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">renameAsset</span>():</span>    unreal.EditorAssetLibrary.rename_asset(<span class="hljs-string">&#x27;/Game/MyAsset/Textures/dear_Duplicated&#x27;</span>, <span class="hljs-string">&#x27;/Game/MyAsset/Textures/dear_Renamed&#x27;</span>)<span class="hljs-comment"># ! æ˜¾ç¤ºå¤åˆ¶èµ„äº§æç¤ºæ¡† ~/dear_Renamed -&gt; ~/dear_Duplicated</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">duplicateAssetDialog</span>(<span class="hljs-params">show_dialog=True</span>):</span>    <span class="hljs-keyword">if</span> show_dialog:        unreal.AssetToolsHelpers.get_asset_tools().duplicate_asset_with_dialog(<span class="hljs-string">&#x27;dear_Duplicated&#x27;</span>, <span class="hljs-string">&#x27;/Game/MyAsset/Textures&#x27;</span>, unreal.load_asset(<span class="hljs-string">&#x27;/Game/MyAsset/Textures/dear_Renamed&#x27;</span>))    <span class="hljs-keyword">else</span>:        unreal.AssetToolsHelpers.get_asset_tools().duplicate_asset(<span class="hljs-string">&#x27;dear_Duplicated&#x27;</span>, <span class="hljs-string">&#x27;/Game/MyAsset/Textures&#x27;</span>, unreal.load_asset(<span class="hljs-string">&#x27;/Game/MyAsset/Textures/dear_Renamed&#x27;</span>))<span class="hljs-comment"># ! æ˜¾ç¤ºé‡å‘½åæç¤ºæ¡† </span><span class="hljs-comment"># ! ~/dear_Renamed -&gt; ~/dear_Renamed_2</span><span class="hljs-comment"># ! ~/dear_Duplicated -&gt; ~/dear_Duplicated_Renamed</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">renameAssetDialog</span>(<span class="hljs-params">show_dialog=True</span>):</span>    first_renmae_data = unreal.AssetRenameData(unreal.load_asset(<span class="hljs-string">&#x27;/Game/MyAsset/Textures/dear_Renamed&#x27;</span>), <span class="hljs-string">&#x27;/Game/MyAsset/Textures&#x27;</span>, <span class="hljs-string">&#x27;dear_Renamed_2&#x27;</span>)    second_rename_data = unreal.AssetRenameData(unreal.load_asset(<span class="hljs-string">&#x27;/Game/MyAsset/Textures/dear_Duplicated&#x27;</span>), <span class="hljs-string">&#x27;/Game/MyAsset/Textures&#x27;</span>, <span class="hljs-string">&#x27;dear_Duplicated_Renamed&#x27;</span>)    <span class="hljs-keyword">if</span> show_dialog:        unreal.AssetToolsHelpers.get_asset_tools().rename_assets_with_dialog([first_renmae_data, second_rename_data])    <span class="hljs-keyword">else</span>:        unreal.AssetToolsHelpers.get_asset_tools().rename_assets([first_renmae_data, second_rename_data])</code></pre><h2 id="L3-ä½¿ç”¨-Python-è°ƒç”¨-C-å‡½æ•°"><a href="#L3-ä½¿ç”¨-Python-è°ƒç”¨-C-å‡½æ•°" class="headerlink" title="L3 ä½¿ç”¨ Python è°ƒç”¨ C++ å‡½æ•°"></a>L3 ä½¿ç”¨ Python è°ƒç”¨ C++ å‡½æ•°</h2><p>&emsp;&emsp;å¯ä»¥é€šè¿‡å…¬å¼€è“å›¾ç±»çš„æ–¹å¼ä½¿ Python å¯ä»¥è®¿é—® C++ çš„å‡½æ•°ã€‚</p><h3 id="åˆ›å»ºè“å›¾C-ç±»"><a href="#åˆ›å»ºè“å›¾C-ç±»" class="headerlink" title="åˆ›å»ºè“å›¾C++ç±»"></a>åˆ›å»ºè“å›¾C++ç±»</h3><ol><li>é¦–å…ˆï¼Œåˆ›å»ºä¸€ä¸ªç»§æ‰¿è“å›¾å‡½æ•°åº“çš„C++ç±»ï¼Œå‘½åä¸ºâ€œ ZFunction â€ï¼Œåˆ›å»ºæˆåŠŸåä¼šè‡ªåŠ¨æ‰“å¼€ Visual Studioã€‚<br><img src="/2021/01/26/unreal/UnrealPython%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/L3_1.png"></li><li>ä¿®æ”¹ .h æ–‡ä»¶   <pre><code class="hljs C++"><span class="hljs-comment">// Fill out your copyright notice in the Description page of Project Settings.</span><span class="hljs-meta">#<span class="hljs-meta-keyword">pragma</span> once</span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;CoreMinimal.h&quot;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;Kismet/BlueprintFunctionLibrary.h&quot;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;ZFunction.generated.h&quot;</span></span><span class="hljs-comment">/**</span><span class="hljs-comment">* </span><span class="hljs-comment">*/</span>UCLASS()<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SCRIPT_PROJ_API</span> <span class="hljs-title">UZFunction</span> :</span> <span class="hljs-keyword">public</span> UBlueprintFunctionLibrary&#123;    GENERATED_BODY()<span class="hljs-keyword">public</span>:    UFUNCTION(BlueprintCallable)        <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CalledFromPython</span><span class="hljs-params">(FString InputString)</span></span>;&#125;;</code></pre></li><li>ä¿®æ”¹ .cpp æ–‡ä»¶   <pre><code class="hljs C++"><span class="hljs-comment">// Fill out your copyright notice in the Description page of Project Settings.</span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;ZFunction.h&quot;</span></span><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">UZFunction::CalledFromPython</span><span class="hljs-params">(FString InputString)</span> </span>&#123;    UE_LOG(LogTemp, Error, TEXT(<span class="hljs-string">&quot;%s&quot;</span>), *InputString);&#125;</code></pre><h3 id="éå†å‡½æ•°å’Œç±»"><a href="#éå†å‡½æ•°å’Œç±»" class="headerlink" title="éå†å‡½æ•°å’Œç±»"></a>éå†å‡½æ•°å’Œç±»</h3>&emsp;&emsp;æŸ¥çœ‹ UE4 ä¸­æ‰€æœ‰å‡½æ•°å’Œç±»ï¼š<pre><code class="hljs python"><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> sorted(dir(unreal)):<span class="hljs-keyword">print</span> x</code></pre>&emsp;&emsp;æŸ¥çœ‹ç±»ä¸­æ‰€å«æ–¹æ³•ï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬åˆ›å»ºçš„ â€˜called_from_pythonâ€™ æ–¹æ³•åœ¨å…¶ä¸­ã€‚<pre><code class="hljs python"><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> sorted(dir(unreal.ZFunction)):<span class="hljs-keyword">print</span> x</code></pre></li></ol><h3 id="è°ƒç”¨-C-æ–¹æ³•"><a href="#è°ƒç”¨-C-æ–¹æ³•" class="headerlink" title="è°ƒç”¨ C++ æ–¹æ³•"></a>è°ƒç”¨ C++ æ–¹æ³•</h3><pre><code class="hljs python">unreal.ZFunction.called_from_python(<span class="hljs-string">&#x27;haha&#x27;</span>)</code></pre><p><img src="/2021/01/26/unreal/UnrealPython%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/L3_2.png"></p><h2 id="L4-ä¿®æ”¹æ–‡ä»¶å¤¹é¢œè‰²"><a href="#L4-ä¿®æ”¹æ–‡ä»¶å¤¹é¢œè‰²" class="headerlink" title="L4 ä¿®æ”¹æ–‡ä»¶å¤¹é¢œè‰²"></a>L4 ä¿®æ”¹æ–‡ä»¶å¤¹é¢œè‰²</h2><h3 id="å®šä¹‰ç±»å’Œæ–¹æ³•"><a href="#å®šä¹‰ç±»å’Œæ–¹æ³•" class="headerlink" title="å®šä¹‰ç±»å’Œæ–¹æ³•"></a>å®šä¹‰ç±»å’Œæ–¹æ³•</h3><ol><li>åˆ›å»ºä¸€ä¸ªç»§æ‰¿è“å›¾å‡½æ•°åº“çš„C++ç±»ï¼Œå‘½åä¸ºâ€œ CppLib â€<br><img src="/2021/01/26/unreal/UnrealPython%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/L4_1.png"></li><li>ä¿®æ”¹ .h æ–‡ä»¶   <pre><code class="hljs C++"><span class="hljs-comment">// Fill out your copyright notice in the Description page of Project Settings.</span><span class="hljs-meta">#<span class="hljs-meta-keyword">pragma</span> once</span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;CoreMinimal.h&quot;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;Kismet/BlueprintFunctionLibrary.h&quot;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;CppLib.generated.h&quot;</span></span><span class="hljs-comment">/**</span><span class="hljs-comment">* </span><span class="hljs-comment">*/</span>UCLASS()<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SCRIPT_PROJ_API</span> <span class="hljs-title">UCppLib</span> :</span> <span class="hljs-keyword">public</span> UBlueprintFunctionLibrary&#123;    GENERATED_BODY()    <span class="hljs-keyword">public</span>:    UFUNCTION(BlueprintCallable, Category = <span class="hljs-string">&quot;Unreal Python&quot;</span>)        <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setFolderColor</span><span class="hljs-params">(FString FolderPath, FLinearColor Color)</span></span>;&#125;;</code></pre></li><li>ä¿®æ”¹ .cpp æ–‡ä»¶   <pre><code class="hljs C++"><span class="hljs-comment">// Fill out your copyright notice in the Description page of Project Settings.</span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;CppLib.h&quot;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span>  <span class="hljs-meta-string">&quot;Runtime/Core/Public/Misc/ConfigCacheIni.h&quot;</span></span><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">UCppLib::setFolderColor</span><span class="hljs-params">(FString FolderPath, FLinearColor Color)</span> </span>&#123;    GConfig-&gt;SetString(TEXT(<span class="hljs-string">&quot;PathColor&quot;</span>), *FolderPath, *Color.ToString(), GEditorPerProjectIni);&#125;</code></pre></li><li>åœ¨ UE4 ä¸­ç‚¹å‡»é‡æ–°ç¼–è¯‘ã€‚</li></ol><h3 id="åœ¨è“å›¾ä¸­è®¾ç½®æ–‡ä»¶å¤¹é¢œè‰²"><a href="#åœ¨è“å›¾ä¸­è®¾ç½®æ–‡ä»¶å¤¹é¢œè‰²" class="headerlink" title="åœ¨è“å›¾ä¸­è®¾ç½®æ–‡ä»¶å¤¹é¢œè‰²"></a>åœ¨è“å›¾ä¸­è®¾ç½®æ–‡ä»¶å¤¹é¢œè‰²</h3><ol><li>åˆ›å»ºè“å›¾ç±»â€œFolderâ€ã€‚<br><img src="/2021/01/26/unreal/UnrealPython%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/L4_2.png"></li><li>ç¼–è¾‘äº‹ä»¶èŠ‚ç‚¹ï¼Œç¼–è¯‘ã€‚<br><img src="/2021/01/26/unreal/UnrealPython%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/L4_3.png"><br>å…¶ä¸­ï¼Œè‡ªå®šä¹‰äº‹ä»¶èŠ‚ç‚¹å‹¾é€‰â€œCall In Editorâ€ï¼Œè¯¥äº‹ä»¶ä¼šæ˜¾ç¤ºåœ¨å±æ€§ç¼–è¾‘å™¨ä¸Šã€‚<br><img src="/2021/01/26/unreal/UnrealPython%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/L4_4.png"></li><li>åœ¨åœºæ™¯ä¸­åˆ›å»ºâ€œFolderâ€ï¼Œç‚¹å‡»å…¶å±æ€§ä¸­çš„â€œSet Folder Colorâ€<br><img src="/2021/01/26/unreal/UnrealPython%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/L4_5.png"></li><li>åˆ›å»º â€œ/Game/MyAsset/EXFolderâ€ï¼Œå¯ä»¥çœ‹åˆ°é¢œè‰²ä¸ºè“è‰²ï¼Œè€Œå¯¹å·²ç»å­˜åœ¨çš„æ–‡ä»¶å¤¹é¢œè‰²ä¿®æ”¹éœ€è¦é‡å¯åæ‰èƒ½çœ‹åˆ°æ•ˆæœã€‚<br><img src="/2021/01/26/unreal/UnrealPython%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/L4_6.png"></li></ol><h3 id="åœ¨Pythonä¸­åˆ›å»ºé¢œè‰²æ–‡ä»¶å¤¹"><a href="#åœ¨Pythonä¸­åˆ›å»ºé¢œè‰²æ–‡ä»¶å¤¹" class="headerlink" title="åœ¨Pythonä¸­åˆ›å»ºé¢œè‰²æ–‡ä»¶å¤¹"></a>åœ¨Pythonä¸­åˆ›å»ºé¢œè‰²æ–‡ä»¶å¤¹</h3><p>AssetFunction_4.py</p><pre><code class="hljs python"><span class="hljs-comment"># coding: utf-8</span><span class="hljs-keyword">import</span> unreal<span class="hljs-comment"># import AssetFunction_4 as af</span><span class="hljs-comment"># reload(af)</span><span class="hljs-comment"># af.generateColoredDirectories()</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">generateColoredDirectories</span>():</span>    <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> range(<span class="hljs-number">40</span>, <span class="hljs-number">80</span>):        dir_path = <span class="hljs-string">&#x27;/Game/MyAsset/MyColorFolder/&#x27;</span> + str(x)        linear_color = getGradientColor(x)        unreal.CppLib.set_folder_color(dir_path, linear_color)        unreal.EditorAssetLibrary.make_directory(dir_path)<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">getGradientColor</span>(<span class="hljs-params">x</span>):</span>    x = float(x) / <span class="hljs-number">100</span>    <span class="hljs-keyword">return</span> unreal.LinearColor(x, <span class="hljs-number">1</span>-x, <span class="hljs-number">1</span>-x, <span class="hljs-number">1</span>)</code></pre><p>&emsp;&emsp;åœ¨ UE4 è¿è¡Œåï¼Œä¼šåˆ›å»ºé¢œè‰²ä¸åŒçš„æ–‡ä»¶å¤¹ã€‚</p><p><img src="/2021/01/26/unreal/UnrealPython%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/L4_7.png"></p><h2 id="L5-æ‰“å¼€å’Œå…³é—­èµ„äº§"><a href="#L5-æ‰“å¼€å’Œå…³é—­èµ„äº§" class="headerlink" title="L5 æ‰“å¼€å’Œå…³é—­èµ„äº§"></a>L5 æ‰“å¼€å’Œå…³é—­èµ„äº§</h2><p>&emsp;&emsp;Pythonåªèƒ½æ‰“å¼€èµ„äº§ï¼Œå¦‚æœè¦å®ç°å…³é—­èµ„äº§ï¼Œéœ€è¦æ·»åŠ  C++ ç±»å¢åŠ åŠŸèƒ½æ¥å®ç°æ•ˆæœã€‚</p><ol><li><p>æ·»åŠ  build.cs ä¾èµ–<br><img src="/2021/01/26/unreal/UnrealPython%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/L5_1.png"></p></li><li><p>CppLib .h æ–‡ä»¶ä»£ç   </p> <pre><code class="hljs C++"><span class="hljs-comment">// Fill out your copyright notice in the Description page of Project Settings.</span><span class="hljs-meta">#<span class="hljs-meta-keyword">pragma</span> once</span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;CoreMinimal.h&quot;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;Kismet/BlueprintFunctionLibrary.h&quot;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;CppLib.generated.h&quot;</span></span><span class="hljs-comment">/**</span><span class="hljs-comment">* </span><span class="hljs-comment">*/</span>UCLASS()<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SCRIPT_PROJ_API</span> <span class="hljs-title">UCppLib</span> :</span> <span class="hljs-keyword">public</span> UBlueprintFunctionLibrary&#123;    GENERATED_BODY()    <span class="hljs-keyword">public</span>:    UFUNCTION(BlueprintCallable, Category = <span class="hljs-string">&quot;Unreal Python&quot;</span>)        <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CloseEditorForAssets</span><span class="hljs-params">(TArray&lt;UObject*&gt; Assets)</span></span>;    UFUNCTION(BlueprintCallable, Category = <span class="hljs-string">&quot;Unreal Python&quot;</span>)        <span class="hljs-function"><span class="hljs-keyword">static</span> TArray&lt;UObject*&gt; <span class="hljs-title">GetAssetsOpenedInEditor</span><span class="hljs-params">()</span></span>;&#125;;</code></pre></li><li><p>CppLib .cpp æ–‡ä»¶ä»£ç   </p> <pre><code class="hljs C++"><span class="hljs-comment">// Fill out your copyright notice in the Description page of Project Settings.</span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;CppLib.h&quot;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;Editor.h&quot;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;Editor/UnrealEd/Public/Subsystems/AssetEditorSubsystem.h&quot;</span></span><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">UCppLib::CloseEditorForAssets</span><span class="hljs-params">(TArray&lt;UObject*&gt; Assets)</span> </span>&#123;    UAssetEditorSubsystem* AssetEditorSubsystem = GEditor-&gt;GetEditorSubsystem&lt;UAssetEditorSubsystem&gt;();    <span class="hljs-keyword">for</span> (UObject* Asset : Assets) &#123;        AssetEditorSubsystem-&gt;CloseAllEditorsForAsset(Asset);    &#125;&#125;<span class="hljs-function">TArray&lt;UObject*&gt; <span class="hljs-title">UCppLib::GetAssetsOpenedInEditor</span><span class="hljs-params">()</span> </span>&#123;    UAssetEditorSubsystem* AssetEditorSubsystem = GEditor-&gt;GetEditorSubsystem&lt;UAssetEditorSubsystem&gt;();    TArray&lt;UObject*&gt; EditedAssets = AssetEditorSubsystem-&gt;GetAllEditedAssets();        <span class="hljs-keyword">return</span> EditedAssets;&#125;</code></pre><p> æ³¨ï¼šæ•™ç¨‹ä¸Šç”¨çš„æ˜¯ FAssetEditorManager ï¼Œä½†ç”±äºç‰ˆæœ¬æ›´æ–°å·²ç»ä¸é€‚ç”¨ï¼Œéœ€è¦æ›¿æ¢æˆ UAssetEditorSubsystem ã€‚</p></li><li><p>AssetFunction_5.py æ–‡ä»¶ä»£ç   </p> <pre><code class="hljs python"><span class="hljs-comment"># coding: utf-8</span><span class="hljs-keyword">import</span> unreal<span class="hljs-comment"># ! åŠ è½½èµ„äº§</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">openAssets</span>():</span>    assets = [        unreal.load_asset(<span class="hljs-string">&#x27;/Game/MyAsset/Textures/dear&#x27;</span>),        unreal.load_asset(<span class="hljs-string">&#x27;/Game/MyAsset/Sounds/easy&#x27;</span>),        unreal.load_asset(<span class="hljs-string">&#x27;/Game/MyAsset/StaticMeshes/static_fbx&#x27;</span>)    ]    unreal.AssetToolsHelpers.get_asset_tools().open_editor_for_assets(assets)<span class="hljs-comment"># ! è·å–å·²ç»æ‰“å¼€çš„èµ„äº§åˆ—è¡¨</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">getAllOpenedAssets</span>():</span>    <span class="hljs-keyword">return</span> unreal.CppLib.get_assets_opened_in_editor()<span class="hljs-comment"># ! å…³é—­æ‰€æœ‰æ‰“å¼€çš„èµ„äº§</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">closeAssets</span>():</span>    assets = getAllOpenedAssets()    unreal.CppLib.close_editor_for_assets(assets)</code></pre></li><li><p>åœ¨ UE4 ä¸­è°ƒè¯•ä»£ç    </p> <pre><code class="hljs python"><span class="hljs-keyword">import</span> AssetFunction_5 <span class="hljs-keyword">as</span> afreload(af)<span class="hljs-keyword">print</span> af.getAllOpenedAssets()af.closeAssets()</code></pre><p> æ‰“å°å‡ºå·²ç»æ‰“å¼€çš„èµ„äº§çª—å£ï¼Œä»¥åŠå…³é—­æ‰€æœ‰èµ„äº§çª—å£ã€‚<br> <img src="/2021/01/26/unreal/UnrealPython%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/L5_2.png"></p></li></ol><h2 id="L6-é€‰æ‹©å†…å®¹æµè§ˆå™¨ä¸­çš„èµ„äº§"><a href="#L6-é€‰æ‹©å†…å®¹æµè§ˆå™¨ä¸­çš„èµ„äº§" class="headerlink" title="L6 é€‰æ‹©å†…å®¹æµè§ˆå™¨ä¸­çš„èµ„äº§"></a>L6 é€‰æ‹©å†…å®¹æµè§ˆå™¨ä¸­çš„èµ„äº§</h2><h3 id="åˆ©ç”¨-Python-é€‰æ‹©æŒ‡å®šèµ„äº§"><a href="#åˆ©ç”¨-Python-é€‰æ‹©æŒ‡å®šèµ„äº§" class="headerlink" title="åˆ©ç”¨ Python é€‰æ‹©æŒ‡å®šèµ„äº§"></a>åˆ©ç”¨ Python é€‰æ‹©æŒ‡å®šèµ„äº§</h3><p>AssetFunction_6.py</p><pre><code class="hljs python"><span class="hljs-comment"># coding: utf-8</span><span class="hljs-keyword">import</span> unreal<span class="hljs-comment"># import AssetFunction_6 as af</span><span class="hljs-comment"># reload(af)</span><span class="hljs-comment"># af.showAssetsInContentBrowser()</span><span class="hljs-comment"># ! é€‰æ‹©æŒ‡å®šèµ„äº§</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">showAssetsInContentBrowser</span>():</span>    paths = [        <span class="hljs-string">&#x27;/Game/MyAsset/Sounds/easy&#x27;</span>,        <span class="hljs-string">&#x27;/Game/MyAsset/Textures/dear&#x27;</span>    ]    unreal.EditorAssetLibrary.sync_browser_to_objects(paths)</code></pre><p><img src="/2021/01/26/unreal/UnrealPython%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/L6_1.png"></p><h3 id="åˆ©ç”¨-C-å’Œ-Python-è®¾ç½®é€‰æ‹©èµ„äº§å’Œæ–‡ä»¶å¤¹"><a href="#åˆ©ç”¨-C-å’Œ-Python-è®¾ç½®é€‰æ‹©èµ„äº§å’Œæ–‡ä»¶å¤¹" class="headerlink" title="åˆ©ç”¨ C++ å’Œ Python è®¾ç½®é€‰æ‹©èµ„äº§å’Œæ–‡ä»¶å¤¹"></a>åˆ©ç”¨ C++ å’Œ Python è®¾ç½®é€‰æ‹©èµ„äº§å’Œæ–‡ä»¶å¤¹</h3><ol><li><p>æ·»åŠ  build.cs ä¾èµ–<br><img src="/2021/01/26/unreal/UnrealPython%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/L6_2.png"></p></li><li><p>CppLib .h æ–‡ä»¶ä»£ç   </p> <pre><code class="hljs C++"><span class="hljs-comment">// Fill out your copyright notice in the Description page of Project Settings.</span><span class="hljs-meta">#<span class="hljs-meta-keyword">pragma</span> once</span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;CoreMinimal.h&quot;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;Kismet/BlueprintFunctionLibrary.h&quot;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;CppLib.generated.h&quot;</span></span><span class="hljs-comment">/**</span><span class="hljs-comment">* </span><span class="hljs-comment">*/</span>UCLASS()<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SCRIPT_PROJ_API</span> <span class="hljs-title">UCppLib</span> :</span> <span class="hljs-keyword">public</span> UBlueprintFunctionLibrary&#123;    GENERATED_BODY()    <span class="hljs-keyword">public</span>:    UFUNCTION(BlueprintCallable, Category = <span class="hljs-string">&quot;Unreal Python&quot;</span>)        <span class="hljs-function"><span class="hljs-keyword">static</span> TArray&lt;FString&gt; <span class="hljs-title">GetSelectedAssets</span><span class="hljs-params">()</span></span>;    UFUNCTION(BlueprintCallable, Category = <span class="hljs-string">&quot;Unreal Python&quot;</span>)        <span class="hljs-function"><span class="hljs-keyword">static</span> TArray&lt;FString&gt; <span class="hljs-title">GetSelectedFolders</span><span class="hljs-params">()</span></span>;    UFUNCTION(BlueprintCallable, Category = <span class="hljs-string">&quot;Unreal Python&quot;</span>)        <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SetSelectedAssets</span><span class="hljs-params">(TArray&lt;FString&gt; Paths)</span></span>;    UFUNCTION(BlueprintCallable, Category = <span class="hljs-string">&quot;Unreal Python&quot;</span>)        <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SetSelectedFolders</span><span class="hljs-params">(TArray&lt;FString&gt; Paths)</span></span>;&#125;;</code></pre></li><li><p>CppLib .cpp æ–‡ä»¶ä»£ç   </p> <pre><code class="hljs C++"><span class="hljs-comment">// Fill out your copyright notice in the Description page of Project Settings.</span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;CppLib.h&quot;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;Editor/ContentBrowser/Public/ContentBrowserModule.h&quot;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;Editor/ContentBrowser/Private/SContentBrowser.h&quot;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;Runtime/AssetRegistry/Public/AssetRegistryModule.h&quot;</span></span><span class="hljs-function">TArray&lt;FString&gt; <span class="hljs-title">UCppLib::GetSelectedAssets</span><span class="hljs-params">()</span> </span>&#123;    FContentBrowserModule&amp; ContentBrowserModule = FModuleManager::LoadModuleChecked&lt;FContentBrowserModule&gt;(<span class="hljs-string">&quot;ContentBrowser&quot;</span>);    <span class="hljs-comment">// get selected assets</span>    TArray&lt;FAssetData&gt; SelectedAssets;    ContentBrowserModule.Get().GetSelectedAssets(SelectedAssets);    <span class="hljs-comment">// convert assets to string</span>    TArray&lt;FString&gt; Result;    <span class="hljs-keyword">for</span> (FAssetData&amp; AssetData : SelectedAssets) &#123;        Result.Add(AssetData.PackageName.ToString());    &#125;    <span class="hljs-keyword">return</span> Result;&#125;<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">UCppLib::SetSelectedAssets</span><span class="hljs-params">(TArray&lt;FString&gt; Paths)</span> </span>&#123;    FContentBrowserModule&amp; ContentBrowserModule = FModuleManager::LoadModuleChecked&lt;FContentBrowserModule&gt;(<span class="hljs-string">&quot;ContentBrowser&quot;</span>);    FAssetRegistryModule&amp; AssetRegistryModule = FModuleManager::LoadModuleChecked&lt;FAssetRegistryModule&gt;(<span class="hljs-string">&quot;AssetRegistry&quot;</span>);    <span class="hljs-comment">// convert the string to FName</span>    TArray&lt;FName&gt; PathsName;    <span class="hljs-keyword">for</span> (FString Path : Paths) &#123;        PathsName.Add(*Path);    &#125;    FARFilter AssetFilter;    AssetFilter.PackageNames = PathsName;    <span class="hljs-comment">// Find the assets</span>    TArray&lt;FAssetData&gt; AssetDatas;    AssetRegistryModule.Get().GetAssets(AssetFilter, AssetDatas);    <span class="hljs-comment">// Ask the ContentBrowser to select them Different to python, the folder levels is also selected.</span>    ContentBrowserModule.Get().SyncBrowserToAssets(AssetDatas);&#125;<span class="hljs-function">TArray&lt;FString&gt; <span class="hljs-title">UCppLib::GetSelectedFolders</span><span class="hljs-params">()</span> </span>&#123;    FContentBrowserModule&amp; ContentBrowserModule = FModuleManager::LoadModuleChecked&lt;FContentBrowserModule&gt;(<span class="hljs-string">&quot;ContentBrowser&quot;</span>);    TArray&lt;FString&gt; SelectedFolders;    ContentBrowserModule.Get().GetSelectedFolders(SelectedFolders);    <span class="hljs-keyword">return</span> SelectedFolders;&#125;<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">UCppLib::SetSelectedFolders</span><span class="hljs-params">(TArray&lt;FString&gt; Paths)</span> </span>&#123;    FContentBrowserModule&amp; ContentBrowserModule = FModuleManager::LoadModuleChecked&lt;FContentBrowserModule&gt;(<span class="hljs-string">&quot;ContentBrowser&quot;</span>);    TArray&lt;FString&gt; SelectedFolders;    ContentBrowserModule.Get().SyncBrowserToFolders(Paths);&#125;</code></pre></li><li><p>Python è°ƒç”¨ C++ æµ‹è¯•è¿è¡Œ  </p> <pre><code class="hljs python"><span class="hljs-comment"># ! è°ƒç”¨ C++ å‘½ä»¤è®¾ç½®é€‰æ‹©æ–‡ä»¶å¤¹</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">getSelectedAssets</span>():</span>    <span class="hljs-keyword">return</span> unreal.CppLib.get_selected_assets(paths)<span class="hljs-comment"># ! è°ƒç”¨ C++ å‘½ä»¤è®¾ç½®é€‰æ‹©æ–‡ä»¶å¤¹</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">setSelectedAssets</span>():</span>    paths = [        <span class="hljs-string">&#x27;/Game/MyAsset/Sounds/easy&#x27;</span>,        <span class="hljs-string">&#x27;/Game/MyAsset/Textures/dear&#x27;</span>    ]    <span class="hljs-keyword">return</span> unreal.CppLib.set_selected_assets(paths)<span class="hljs-comment"># ! è°ƒç”¨ C++ å‘½ä»¤è·å–é€‰æ‹©æ–‡ä»¶å¤¹</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">getSelectedFolders</span>():</span>    <span class="hljs-keyword">return</span> unreal.CppLib.get_selected_folders()<span class="hljs-comment"># ! è°ƒç”¨ C++ å‘½ä»¤è®¾ç½®æ–‡ä»¶å¤¹</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">setSelectedFolders</span>():</span>    paths = [        <span class="hljs-string">&#x27;/Game/MyAsset/Sounds&#x27;</span>,        <span class="hljs-string">&#x27;/Game/MyAsset/Textures&#x27;</span>    ]    <span class="hljs-keyword">return</span> unreal.CppLib.set_selected_folders(paths)</code></pre></li></ol><p>&emsp;&emsp;âš  ä»¤äººå¥‡æ€ªçš„æ˜¯ï¼Œåœ¨ UE4 ä¸­ç¼–è¯‘æµ‹è¯•å¯ä»¥å®ç°æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœï¼Œä½†æ˜¯åœ¨Visual Studioä¸­å´ä¼šæŠ¥é”™ï¼š<code>æ— æ³•æ‰“å¼€æºæ–‡ä»¶ &quot;SAssetSearchBox.h&quot;12    </code>ã€‚ç„¶é¹…åœ¨VS2017æœ‰å°ä¼™ä¼´æµ‹è¯•æ²¡æœ‰æŠ¥é”™ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯ç‰ˆæœ¬çš„é—®é¢˜ã€‚</p><p>&emsp;&emsp;ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘é‡æ–°æ–°å»ºäº†ä¸€ä¸ªé¡¹ç›®ï¼ŒæŠŠä»£ç é‡æ–°ç¼–è¯‘ï¼Œä»ç„¶ä¸é€šè¿‡ã€‚æˆ‘åœ¨VS 2019 çš„é¡¹ç›®è®¾ç½® VC++ ç›®å½•çš„åŒ…å«ç›®å½•ä¸­æ·»åŠ äº†ä¸€ä¸ªæ–°è·¯å¾„ï¼Œåœ¨ bulid.cs æ–‡ä»¶ <em>PublicDependencyModuleNames.AddRange()</em> ä¸­æ·»åŠ â€EditorWidgetsâ€ï¼Œé‡æ–°ç”Ÿæˆé¡¹ç›®ï¼ŒæˆåŠŸï¼ğŸ˜„</p><p><img src="/2021/01/26/unreal/UnrealPython%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/L6_3.png"></p><p>&emsp;&emsp;è¯¥è·¯å¾„æ˜¯é€šè¿‡ C++ Api SAssetSearchBox ä¸­æ‰¾åˆ°çš„ã€‚</p><p><img src="/2021/01/26/unreal/UnrealPython%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/L6_4.png"></p><h2 id="L7-æ˜¾ç¤ºè¿›åº¦æ¡"><a href="#L7-æ˜¾ç¤ºè¿›åº¦æ¡" class="headerlink" title="L7 æ˜¾ç¤ºè¿›åº¦æ¡"></a>L7 æ˜¾ç¤ºè¿›åº¦æ¡</h2><p>&emsp;&emsp;è¯¥éƒ¨åˆ†å®ç°æ•ˆæœä¸ºï¼šåœ¨ UE4 ä¸­æ˜¾ç¤ºè¿›åº¦æ¡æ¡†å¹¶æ‰§è¡Œç›¸å¯¹åº”ä»»åŠ¡ã€‚</p><p>&emsp;&emsp;æ•™ç¨‹ä¸­å¯ä»¥å®Œå…¨ä½¿ç”¨ Python æ¥å®ç°è¯¥åŠŸèƒ½ï¼Œä½†å®é™…æµ‹è¯•æ—¶å‘ç°ï¼Œå½“å‰ç‰ˆæœ¬æŸäº›æ–¹æ³•å·²ç»å¼ƒç”¨æˆ–æ‰¾ä¸åˆ° Python æ¥å£ï¼Œå¦‚ unreal.EditorCppLib.begin_spawn_actor() å’Œ unreal.GameplayStatics.finish_spawning_actor()ã€‚å› æ­¤è¿˜æ˜¯ç»“åˆ C++ã€Blueprint ä»¥åŠ Python å®ç°ã€‚</p><p>EditorFunction_1.py</p><pre><code class="hljs python"><span class="hljs-comment"># coding: utf-8</span><span class="hljs-keyword">import</span> unreal<span class="hljs-keyword">import</span> random<span class="hljs-keyword">import</span> time<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">executeSlowTask</span>():</span>    quantity_steps_in_slow_task = <span class="hljs-number">10</span>    <span class="hljs-keyword">with</span> unreal.ScopedSlowTask(quantity_steps_in_slow_task, <span class="hljs-string">&#x27;My Slow Task Text ...&#x27;</span>) <span class="hljs-keyword">as</span> slow_task:        slow_task.make_dialog(<span class="hljs-literal">True</span>)        <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> range(quantity_steps_in_slow_task):            <span class="hljs-keyword">if</span> slow_task.should_cancel():                <span class="hljs-keyword">break</span>            slow_task.enter_progress_frame(<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;My Slow Task Text ...&#x27;</span> + str(x) + <span class="hljs-string">&#x27; / &#x27;</span> + str(quantity_steps_in_slow_task))            <span class="hljs-comment"># Execute slow logic</span>            deferredSpawnActor()            time.sleep(<span class="hljs-number">1</span>)<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">deferredSpawnActor</span>():</span>    world = unreal.EditorLevelLibrary.get_editor_world()    <span class="hljs-comment"># ! blueprint actor</span>    actor_class = unreal.EditorAssetLibrary.load_blueprint_class(<span class="hljs-string">&#x27;/Game/BluePrint/bp_actor&#x27;</span>)    actor_location = unreal.Vector(random.uniform(<span class="hljs-number">0.0</span>, <span class="hljs-number">2000.0</span>), random.uniform(<span class="hljs-number">0.0</span>, <span class="hljs-number">2000.0</span>), <span class="hljs-number">0.0</span>)    actor_rotation = unreal.Rotator(random.uniform(<span class="hljs-number">0.0</span>, <span class="hljs-number">360.0</span>), random.uniform(<span class="hljs-number">0.0</span>, <span class="hljs-number">360.0</span>), random.uniform(<span class="hljs-number">0.0</span>, <span class="hljs-number">360.0</span>))    actor_scale = unreal.Vector(random.uniform(<span class="hljs-number">0.1</span>, <span class="hljs-number">2.0</span>), random.uniform(<span class="hljs-number">0.1</span>, <span class="hljs-number">2.0</span>), random.uniform(<span class="hljs-number">0.1</span>, <span class="hljs-number">2.0</span>))    actor_transform = unreal.Transform(actor_location, actor_rotation, actor_scale)    <span class="hljs-comment"># ! &quot;GameplayStatics.begin_spawning_actor_from_class()&quot; is deprecated. Use BeginDeferredActorSpawnFromClass instead.</span>    <span class="hljs-comment"># actor = unreal.GameplayStatics.begin_spawning_actor_from_class(world, actor_class, actor_transform)</span>    <span class="hljs-comment"># unreal.GameplayStatics.finish_spawning_actor(actor, actor_transform)</span>    actor = unreal.EditorCppLib.begin_spawn_actor(world, actor_class, actor_transform)    unreal.EditorCppLib.finish_spawn_actor(actor, actor_transform)</code></pre><p>EditorCppLib.h</p><pre><code class="hljs C++"><span class="hljs-comment">// Fill out your copyright notice in the Description page of Project Settings.</span><span class="hljs-meta">#<span class="hljs-meta-keyword">pragma</span> once</span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;CoreMinimal.h&quot;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;Kismet/BlueprintFunctionLibrary.h&quot;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;EditorCppLib.generated.h&quot;</span></span><span class="hljs-comment">/**</span><span class="hljs-comment"> * </span><span class="hljs-comment"> */</span>UCLASS()<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SCRIPT_PROJ_API</span> <span class="hljs-title">UEditorCppLib</span> :</span> <span class="hljs-keyword">public</span> UBlueprintFunctionLibrary&#123;GENERATED_BODY()<span class="hljs-keyword">public</span>:UFUNCTION(BlueprintCallable, Category = <span class="hljs-string">&quot;Unreal Python&quot;</span>)<span class="hljs-function"><span class="hljs-keyword">static</span> AActor* <span class="hljs-title">BeginSpawnActor</span><span class="hljs-params">(<span class="hljs-keyword">const</span> UObject* WorldContextObj,TSubclassOf &lt; AActor &gt; ActorClass, <span class="hljs-keyword">const</span> FTransform&amp; SpawnTransform)</span></span>;UFUNCTION(BlueprintCallable, Category = <span class="hljs-string">&quot;Unreal Python&quot;</span>)<span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">FinishSpawnActor</span><span class="hljs-params">(AActor* MyActor, <span class="hljs-keyword">const</span> FTransform&amp; SpawnTransform)</span></span>;&#125;;</code></pre><p>EditorCppLib.cpp</p><pre><code class="hljs C++"><span class="hljs-comment">// Fill out your copyright notice in the Description page of Project Settings.</span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;EditorCppLib.h&quot;</span></span><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;Runtime/Engine/Classes/Kismet/GameplayStatics.h&quot;</span></span><span class="hljs-function">AActor* <span class="hljs-title">UEditorCppLib::BeginSpawnActor</span><span class="hljs-params">(<span class="hljs-keyword">const</span> UObject* WorldContextObj, TSubclassOf &lt; AActor &gt; ActorClass, <span class="hljs-keyword">const</span> FTransform&amp; SpawnTransform)</span> </span>&#123;    <span class="hljs-keyword">return</span> UGameplayStatics::BeginDeferredActorSpawnFromClass(WorldContextObj, ActorClass, SpawnTransform);&#125;<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">UEditorCppLib::FinishSpawnActor</span><span class="hljs-params">(AActor* MyActor, <span class="hljs-keyword">const</span> FTransform&amp; SpawnTransform)</span> </span>&#123;    UGameplayStatics::FinishSpawningActor(MyActor, SpawnTransform);&#125;</code></pre><p>&emsp;&emsp;åœ¨ C++ API ä¸­å¯ä»¥æŸ¥åˆ°å‡½æ•°éœ€è¦çš„å‚æ•°åŠç±»å‹ã€‚</p><p><img src="/2021/01/26/unreal/UnrealPython%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/L7_1.png"></p><p><img src="/2021/01/26/unreal/UnrealPython%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/L7_2.png"></p><h2 id="L8-è·å–ç‰©ä½“å±æ€§"><a href="#L8-è·å–ç‰©ä½“å±æ€§" class="headerlink" title="L8 è·å–ç‰©ä½“å±æ€§"></a>L8 è·å–ç‰©ä½“å±æ€§</h2><p>&emsp;&emsp;åˆ©ç”¨ C++ è·å–ç±»çš„æ‰€æœ‰å±æ€§åï¼Œå†ç”¨ Python è·å–å±æ€§å€¼ã€‚</p><p>CppLib.hæ–‡ä»¶</p><pre><code class="hljs C++">UFUNCTION(BlueprintCallable, Category = <span class="hljs-string">&quot;Unreal Python&quot;</span>)    <span class="hljs-function"><span class="hljs-keyword">static</span> TArray&lt;FString&gt; <span class="hljs-title">GetAllProperties</span><span class="hljs-params">(UClass* Class)</span></span>;</code></pre><p>CppLib.cppæ–‡ä»¶</p><pre><code class="hljs C++"><span class="hljs-function">TArray&lt;FString&gt; <span class="hljs-title">UCppLib::GetAllProperties</span><span class="hljs-params">(UClass* Class)</span> </span>&#123;    TArray&lt;FString&gt; Ret;    <span class="hljs-keyword">if</span> (Class != <span class="hljs-literal">nullptr</span>) &#123;        <span class="hljs-keyword">for</span> (TFieldIterator&lt;UProperty&gt; It(Class); It; ++It) &#123;            UProperty* Property = *It;            <span class="hljs-keyword">if</span> (Property-&gt;HasAnyPropertyFlags(EPropertyFlags::CPF_Edit)) &#123;                Ret.Add(Property-&gt;GetName());            &#125;        &#125;    &#125;    <span class="hljs-keyword">return</span> Ret;&#125;</code></pre><p>PythonHelpers.pyæ–‡ä»¶</p><pre><code class="hljs python"><span class="hljs-comment"># coding: utf-8</span><span class="hljs-keyword">import</span> unreal<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">getAllProperties</span>(<span class="hljs-params">object_class</span>):</span>    <span class="hljs-keyword">return</span> unreal.CppLib.get_all_properties(object_class)<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">printAllProperties</span>():</span>    obj = unreal.Actor()    object_class = obj.get_class()    <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> getAllProperties(object_class):        name = x        <span class="hljs-keyword">while</span> len(name) &lt; <span class="hljs-number">50</span>:            name = <span class="hljs-string">&#x27; &#x27;</span> + name        <span class="hljs-keyword">print</span> name + <span class="hljs-string">&#x27;:&#x27;</span> + str(obj.get_editor_property(x))</code></pre><p>æ•ˆæœå±•ç¤ºï¼š</p><p><img src="/2021/01/26/unreal/UnrealPython%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/L8_1.png"></p><h2 id="L9-è¿è¡Œ-Cmd"><a href="#L9-è¿è¡Œ-Cmd" class="headerlink" title="L9 è¿è¡Œ Cmd"></a>L9 è¿è¡Œ Cmd</h2><p>&emsp;&emsp;ä½¿ç”¨ Python å’Œ C++ åœ¨ UE4 ä¸­è¿è¡Œ Cmd æŒ‡ä»¤ã€‚</p><p>CppLib.hæ–‡ä»¶</p><pre><code class="hljs C++">UFUNCTION(BlueprintCallable, Category = <span class="hljs-string">&quot;Unreal Python&quot;</span>)    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ExecuteConsoleCommand</span><span class="hljs-params">(FString ConsoleCommand)</span></span>;</code></pre><p>CppLib.cppæ–‡ä»¶</p><p>éœ€è¦åœ¨csæ–‡ä»¶ä¸­æ·»åŠ ä¾èµ–é¡¹ â€œUnrealEdâ€ -&gt; PublicDependencyModuleNamesï¼‰</p><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;Editor/UnrealEd/Public/Editor.h&quot;</span></span><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">UCppLib::ExecuteConsoleCommand</span><span class="hljs-params">(FString ConsoleCommand)</span> </span>&#123;    <span class="hljs-keyword">if</span> (GEditor) &#123;        UWorld* World = GEditor-&gt;GetEditorWorldContext().World();        <span class="hljs-keyword">if</span> (World) &#123;            GEditor-&gt;Exec(World, *ConsoleCommand, *GLog);        &#125;    &#125;&#125;</code></pre><p>EditorFunction_2.pyæ–‡ä»¶</p><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">executeConsoleCommand</span>():</span>    console_commands = [<span class="hljs-string">&#x27;r.ScreenPercentage 0.1&#x27;</span>, <span class="hljs-string">&#x27;r.Color.Max 6&#x27;</span>, <span class="hljs-string">&#x27;stat fps&#x27;</span>, <span class="hljs-string">&#x27;stat unit&#x27;</span>]    <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> console_commands:        unreal.CppLib.execute_console_command(x)</code></pre><p>è¿è¡Œæ•ˆæœï¼š<br><img src="/2021/01/26/unreal/UnrealPython%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/L9_1.png"></p><h2 id="L10-åœ¨åœºæ™¯ä¸­å®ä¾‹åŒ–-Actor"><a href="#L10-åœ¨åœºæ™¯ä¸­å®ä¾‹åŒ–-Actor" class="headerlink" title="L10 åœ¨åœºæ™¯ä¸­å®ä¾‹åŒ– Actor"></a>L10 åœ¨åœºæ™¯ä¸­å®ä¾‹åŒ– Actor</h2><p>&emsp;&emsp;åœ¨ Python ä¸­å¯ä»¥ä½¿ç”¨ <code>unreal.EditorLevelLibrary.spawn_actor_from_class(actor_class, actor_location, actor_rotation)</code> è¿›è¡Œå®ä¾‹åŒ– Actor ã€‚</p><p>WorldFunctions.pyæ–‡ä»¶</p><pre><code class="hljs python"><span class="hljs-comment"># coding: utf-8</span><span class="hljs-keyword">import</span> unreal<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">spawnActor</span>():</span>    actor_class = unreal.EditorAssetLibrary.load_blueprint_class(<span class="hljs-string">&#x27;/Game/BluePrint/MyActor&#x27;</span>)    actor_location = unreal.Vector(<span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>)    actor_rotation = unreal.Rotator(<span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>)    unreal.EditorLevelLibrary.spawn_actor_from_class(actor_class, actor_location, actor_rotation)<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">deferredSpawnActor</span>():</span>    world = unreal.EditorLevelLibrary.get_editor_world()    actor_class = unreal.EditorAssetLibrary.load_blueprint_class(<span class="hljs-string">&#x27;/Game/BluePrint/MyActor&#x27;</span>)    actor_location = unreal.Vector(<span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>)    actor_rotation = unreal.Rotator(<span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>)    actor_scale = unreal.Vector(<span class="hljs-number">1.0</span>, <span class="hljs-number">1.0</span>, <span class="hljs-number">1.0</span>)    actor_transform = unreal.Transform(actor_location, actor_rotation, actor_scale)    actor = unreal.EditorCppLib.begin_spawn_actor(world, actor_class, actor_transform)    actor_tags = actor.get_editor_property(<span class="hljs-string">&#x27;tags&#x27;</span>)    actor_tags.append(<span class="hljs-string">&#x27;My Python Tag&#x27;</span>)    actor.set_editor_property(<span class="hljs-string">&#x27;tag&#x27;</span>, actor_tags)    unreal.EditorCppLib.finish_spawn_actor(actor, actor_transform)</code></pre><p>&emsp;&emsp;ä¸ºäº†æ›´ç›´è§‚çœ‹åˆ°å®ä¾‹åŒ–è¿‡ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹è“å›¾ Actor è¿›è¡Œç¼–è¾‘å¹¶å¯¹èŠ‚ç‚¹è¿æ¥ï¼Œä½¿å¾—åœ¨å®ä¾‹åŒ–æ—¶ä¼šæ‰“å°å‡ºå†…å®¹ã€‚<br><img src="/2021/01/26/unreal/UnrealPython%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/L10_1.png"></p><p>åœ¨ UE4 ä¸­è¿è¡Œæ•ˆæœï¼š</p><p><img src="/2021/01/26/unreal/UnrealPython%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/L10_2.png"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œä½¿ç”¨ unreal.EditorLevelLibrary.spawn_actor_from_class() æ—¶ï¼Œè™½ç„¶åªåˆ›å»ºäº†ä¸€æ¬¡ç‰©ä½“ä½†å®ä¾‹åŒ–äº†ä¸¤æ¬¡ï¼Œè€Œåé¢çš„æ–¹æ³•åªå®ä¾‹åŒ–äº†ä¸€æ¬¡ã€‚</p><h2 id="L11-ç±»å‹è½¬æ¢"><a href="#L11-ç±»å‹è½¬æ¢" class="headerlink" title="L11 ç±»å‹è½¬æ¢"></a>L11 ç±»å‹è½¬æ¢</h2><p>&emsp;&emsp;å¦‚æœä½¿ç”¨ Python è¿›è¡Œç±»å‹è½¬æ¢ï¼Œè½¬æ¢ä¸æ”¯æŒçš„ç±»å‹æ—¶ä¼šå¼•èµ·å´©æºƒï¼Œå¯ä»¥ç”¨ C++ è¿›è¡Œç±»å‹è½¬æ¢åˆ¤æ–­ã€‚</p><p>PythonHelpers_2.pyæ–‡ä»¶</p><pre><code class="hljs python"><span class="hljs-comment"># coding: utf-8</span><span class="hljs-keyword">import</span> unreal<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">tryCast</span>():</span>    <span class="hljs-comment"># ! this run crash use python</span>    <span class="hljs-comment"># if unreal.Actor.cast(unreal.load_asset(&#x27;/Game/MyAsset/Textures/dear&#x27;)):   </span>    <span class="hljs-keyword">if</span> unreal.Texture2D.cast(unreal.load_asset(<span class="hljs-string">&#x27;/Game/MyAsset/Textures/dear&#x27;</span>)):        <span class="hljs-keyword">print</span> <span class="hljs-string">&#x27;Cast Succeeded&#x27;</span>    <span class="hljs-keyword">else</span>:        <span class="hljs-keyword">print</span> <span class="hljs-string">&#x27;Cast Failed&#x27;</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">castObject</span>():</span>    <span class="hljs-comment"># ! this will not crash user C++</span>    <span class="hljs-keyword">if</span> cast(unreal.load_asset(<span class="hljs-string">&#x27;/Game/MyAsset/Textures/dear&#x27;</span>), unreal.Actor):        <span class="hljs-keyword">print</span> <span class="hljs-string">&#x27;Cast Succeeded&#x27;</span>    <span class="hljs-keyword">else</span>:        <span class="hljs-keyword">print</span> <span class="hljs-string">&#x27;Cast Failed&#x27;</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">cast</span>(<span class="hljs-params">object_to_cast, object_class</span>):</span>    <span class="hljs-keyword">try</span>:        <span class="hljs-keyword">return</span> object_class.cast(object_to_cast)    <span class="hljs-keyword">except</span>:        <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span></code></pre><h2 id="L12-è·å–ä¸–ç•Œä¸­çš„æŒ‡å®šActor"><a href="#L12-è·å–ä¸–ç•Œä¸­çš„æŒ‡å®šActor" class="headerlink" title="L12 è·å–ä¸–ç•Œä¸­çš„æŒ‡å®šActor"></a>L12 è·å–ä¸–ç•Œä¸­çš„æŒ‡å®šActor</h2><p>&emsp;&emsp;æœ‰ä¸‰ç§æ–¹æ³•ç­›é€‰Actorï¼š</p><ul><li>è·å–é€‰æ‹©çš„Actorï¼šunreal.EditorLevelLibrary.get_selected_level_actors()</li><li>é€šè¿‡ç±»å‹è·å–ï¼š unreal.GameplayStatics.get_all_actors_of_class()</li><li>é€šè¿‡ tag è·å–ï¼š unreal.GameplayStatics.get_all_actors_of_class()</li></ul><pre><code class="hljs python"><span class="hljs-comment"># coding: utf-8</span><span class="hljs-keyword">import</span> unreal<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">getSelectedActors</span>():</span>    <span class="hljs-comment"># ! Selected</span>    selected_actors = unreal.EditorLevelLibrary.get_selected_level_actors()    <span class="hljs-keyword">return</span> selected_actors<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">getClassActors</span>(<span class="hljs-params">actor_class</span>):</span>    <span class="hljs-comment"># ! Class</span>    world = unreal.EditorLevelLibrary.get_editor_world()    class_actors = unreal.GameplayStatics.get_all_actors_of_class(world, actor_class)    <span class="hljs-keyword">return</span> class_actors<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">getTagActors</span>(<span class="hljs-params">actor_tag</span>):</span>    <span class="hljs-comment"># ! Tag</span>    world = unreal.EditorLevelLibrary.get_editor_world()    tag_actors = unreal.GameplayStatics.get_all_actors_with_tag(world, actor_tag)    <span class="hljs-keyword">return</span> tag_actors<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">getAllActors</span>():</span>    <span class="hljs-comment"># ! All</span>    world = unreal.EditorLevelLibrary.get_editor_world()    all_actors = unreal.GameplayStatics.get_all_actors_of_class(world, unreal.Actor)    <span class="hljs-keyword">return</span> all_actors<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">sortActors</span>(<span class="hljs-params">use_selection = False, actor_class = None, actor_tag = None</span>):</span>    <span class="hljs-string">&quot;&quot;&quot;å¦‚æœæœ‰æŒ‡å®šï¼Œåˆ™ç­›é€‰æŒ‡å®š Actorsã€‚å¦åˆ™è¿”å›å…¨éƒ¨ Actors</span><span class="hljs-string"></span><span class="hljs-string">    &quot;&quot;&quot;</span>    <span class="hljs-comment"># ! return all actors</span>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> use_selection <span class="hljs-keyword">and</span> <span class="hljs-keyword">not</span> actor_class <span class="hljs-keyword">and</span> <span class="hljs-keyword">not</span> actor_tag:        <span class="hljs-keyword">return</span> getAllActors()    <span class="hljs-comment"># ! get sort actors</span>    selected_actors, class_actors, tag_actors = [], [], []    <span class="hljs-keyword">if</span> use_selection:        selected_actors = list(getSelectedActors())    <span class="hljs-keyword">if</span> actor_class:        class_actors = list(getClassActors(actor_class))    <span class="hljs-keyword">if</span> actor_tag:        tag_actors = list(getTagActors(actor_tag))    final_actors = selected_actors + class_actors + tag_actors    <span class="hljs-keyword">for</span> actor <span class="hljs-keyword">in</span> final_actors:        <span class="hljs-keyword">if</span> use_selection <span class="hljs-keyword">and</span> actor <span class="hljs-keyword">in</span> selected_actors:            <span class="hljs-keyword">pass</span>        <span class="hljs-keyword">else</span>:            final_actors.remove(actor)            <span class="hljs-keyword">continue</span>        <span class="hljs-keyword">if</span> actor_class <span class="hljs-keyword">and</span> actor <span class="hljs-keyword">in</span> class_actors:            <span class="hljs-keyword">pass</span>        <span class="hljs-keyword">else</span>:            final_actors.remove(actor)            <span class="hljs-keyword">continue</span>        <span class="hljs-keyword">if</span> actor_tag <span class="hljs-keyword">and</span> actor <span class="hljs-keyword">in</span> tag_actors:            <span class="hljs-keyword">pass</span>        <span class="hljs-keyword">else</span>:            final_actors.remove(actor)            <span class="hljs-keyword">continue</span>    <span class="hljs-keyword">if</span> final_actors:        <span class="hljs-keyword">return</span> final_actors    <span class="hljs-keyword">else</span>:        <span class="hljs-keyword">return</span> getAllActors()<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">cast</span>(<span class="hljs-params">object_to_cast, object_class</span>):</span>    <span class="hljs-keyword">try</span>:        <span class="hljs-keyword">return</span> object_class.cast(object_to_cast)    <span class="hljs-keyword">except</span>:        <span class="hljs-keyword">return</span> getAllActors()</code></pre><p>&emsp;&emsp;å†™è¿™ä¸ªçš„æ—¶å€™ï¼Œå‘ç°è·å–å‡ºæ¥çš„ Actors å­˜å‚¨éƒ½æ˜¯ç”¨çš„ æ•°ç»„ arrayï¼Œè™½ç„¶æ–¹æ³•æœ‰äº›å’Œåˆ—è¡¨ List ç›¸åŒï¼Œä½†æ˜¯ä½¿ç”¨èµ·æ¥æ•ˆæœä¸ä¸€æ ·ï¼Œæœ€ç»ˆæ‰“å°ç»“æœæ•°ç»„æ˜¾ç¤ºå’Œæ•°ç»„å†…å…ƒç´ æ˜¾ç¤ºæœ‰å·®å¼‚ã€‚</p><p><img src="/2021/01/26/unreal/UnrealPython%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/L12_1.png"></p><h2 id="L13-ä½¿ç”¨-Qt-è¿›è¡Œç•Œé¢å¼€å‘"><a href="#L13-ä½¿ç”¨-Qt-è¿›è¡Œç•Œé¢å¼€å‘" class="headerlink" title="L13 ä½¿ç”¨ Qt è¿›è¡Œç•Œé¢å¼€å‘"></a>L13 ä½¿ç”¨ Qt è¿›è¡Œç•Œé¢å¼€å‘</h2><p>&emsp;&emsp;åœ¨ UE ä¸­ä¸€æ ·å¯ä»¥ä½¿ç”¨Qt Designerè¿›è¡Œç•Œé¢å¼€å‘ã€‚<br><img src="/2021/01/26/unreal/UnrealPython%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/L13_1.png"></p><p>ä¸»å‡½æ•° QtFunctions</p><pre><code class="hljs python"><span class="hljs-comment"># coding: utf-8</span><span class="hljs-keyword">import</span> unreal<span class="hljs-keyword">import</span> syssys.path.append(<span class="hljs-string">&#x27;C:/Python27/Lib/site-packages&#x27;</span>)<span class="hljs-keyword">from</span> PySide <span class="hljs-keyword">import</span> QtGui<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__QtAppTick__</span>(<span class="hljs-params">delta_seconds</span>):</span>    <span class="hljs-keyword">for</span> window <span class="hljs-keyword">in</span> opened_windows:        window.eventTick(delta_seconds)<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__QtAppQuit__</span>():</span>    unreal.unregister_slate_post_tick_callback(tick_handle)<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__QtWindowClosed__</span>(<span class="hljs-params">window=None</span>):</span>    <span class="hljs-keyword">if</span> window <span class="hljs-keyword">in</span> opened_windows:        opened_windows.remove(window)unreal_app = QtGui.QApplication.instance()<span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> unreal_app:    unreal_app = QtGui.QApplication(sys.argv)    tick_handle = unreal.register_slate_post_tick_callback(__QtAppTick__)    unreal_app.aboutToQuit.connect(__QtAppQuit__)    existing_windows = &#123;&#125;    opened_windows = []<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">spawnQtWindow</span>(<span class="hljs-params">desired_window_class=None</span>):</span>    window = existing_windows.get(desired_window_class, <span class="hljs-literal">None</span>)    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> window:        window = desired_window_class()        existing_windows[desired_window_class] = window        window.aboutToClose = __QtWindowClosed__    <span class="hljs-keyword">if</span> window <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> opened_windows:        opened_windows.append(window)    window.show()    window.activateWindow()</code></pre><p>å®ç°ä½ç§»å‡½æ•° QtWindowOne</p><pre><code class="hljs python"><span class="hljs-comment"># coding: utf-8</span><span class="hljs-keyword">import</span> unreal<span class="hljs-keyword">import</span> os<span class="hljs-keyword">import</span> syssys.path.append(<span class="hljs-string">&#x27;C:/Python27/Lib/site-packages&#x27;</span>)<span class="hljs-keyword">from</span> PySide.QtGui <span class="hljs-keyword">import</span> *<span class="hljs-keyword">from</span> PySide <span class="hljs-keyword">import</span> QtUiToolsWINDOW_NAME = <span class="hljs-string">&#x27;Qt Window One&#x27;</span>UI_FILE_FULLNAME = os.path.join(os.path.dirname(__file__), <span class="hljs-string">&#x27;ui&#x27;</span>, <span class="hljs-string">&#x27;window_move.ui&#x27;</span>).replace(<span class="hljs-string">&#x27;\\&#x27;</span>,<span class="hljs-string">&#x27;/&#x27;</span>)<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">QtWindowOne</span>(<span class="hljs-params">QWidget</span>):</span>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, parent=None</span>):</span>        super(QtWindowOne, self).__init__(parent)        self.aboutToClose = <span class="hljs-literal">None</span>        self.widget = QtUiTools.QUiLoader().load(UI_FILE_FULLNAME)        self.widget.setParent(self)        self.setWindowTitle(WINDOW_NAME)        self.setGeometry(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, self.widget.width(),self.widget.height())        self.initialiseWidget()    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">clossEvent</span>(<span class="hljs-params">self, event</span>):</span>          <span class="hljs-keyword">if</span> self.aboutToClose:            self.aboutToClose(self)        event.accept()    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">eventTick</span>(<span class="hljs-params">self, delta_seconds</span>):</span>        self.myTick(delta_seconds)    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initialiseWidget</span>(<span class="hljs-params">self</span>):</span>        self.time_while_this_window_is_open = <span class="hljs-number">0.0</span>        self.random_actor = <span class="hljs-literal">None</span>        self.random_actor_is_going_up = <span class="hljs-literal">True</span>        self.widget.pushButton.clicked.connect(self.moveRandomActorInScene)    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">moveRandomActorInScene</span>(<span class="hljs-params">self</span>):</span>        <span class="hljs-keyword">import</span> random        <span class="hljs-keyword">import</span> WorldFunctions_2        all_actors = WorldFunctions_2.sortActors(use_selection=<span class="hljs-literal">False</span>, actor_class=unreal.StaticMeshActor, actor_tag=<span class="hljs-literal">None</span>)        rand = random.randrange(<span class="hljs-number">0</span>, len(all_actors))        self.random_actor = all_actors[rand]    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">myTick</span>(<span class="hljs-params">self, delta_seconds</span>):</span>        self.time_while_this_window_is_open += delta_seconds        self.widget.label.setText(<span class="hljs-string">&quot;&#123;&#125; Seconds&quot;</span>.format(self.time_while_this_window_is_open))        <span class="hljs-keyword">if</span> self.random_actor:            actor_location = self.random_actor.get_actor_location()            speed = <span class="hljs-number">300.0</span> * delta_seconds            <span class="hljs-keyword">if</span> self.random_actor_is_going_up:                <span class="hljs-keyword">if</span> actor_location.z &gt; <span class="hljs-number">1000.0</span>:                    self.random_actor_is_going_up = <span class="hljs-literal">False</span>            <span class="hljs-keyword">else</span>:                speed = -speed                <span class="hljs-keyword">if</span> actor_location.z &lt; <span class="hljs-number">0.0</span>:                    self.random_actor_is_going_up = <span class="hljs-literal">True</span>            self.random_actor.add_actor_world_offset(unreal.Vector(<span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>, speed), <span class="hljs-literal">False</span>, <span class="hljs-literal">False</span>)</code></pre><p>å®ç°æ—‹è½¬å‡½æ•°ï¼ˆéƒ¨åˆ†ï¼‰ QtWindowTwo</p><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">myTick</span>(<span class="hljs-params">self, delta_seconds</span>):</span>    self.time_while_this_window_is_open += delta_seconds    self.widget.label.setText(<span class="hljs-string">&quot;&#123;&#125; Seconds&quot;</span>.format(self.time_while_this_window_is_open))    <span class="hljs-keyword">if</span> self.random_actor:        speed = <span class="hljs-number">90.0</span> * delta_seconds        self.random_actor.add_actor_world_rotation(unreal.Rotator(<span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>, speed), <span class="hljs-literal">False</span>, <span class="hljs-literal">False</span>)</code></pre><p>å®ç°ç¼©æ”¾å‡½æ•°ï¼ˆéƒ¨åˆ†ï¼‰ QtWindowThree</p><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">myTick</span>(<span class="hljs-params">self, delta_seconds</span>):</span>    self.time_while_this_window_is_open += delta_seconds    self.widget.label.setText(<span class="hljs-string">&quot;&#123;&#125; Seconds&quot;</span>.format(self.time_while_this_window_is_open))    <span class="hljs-keyword">if</span> self.random_actor:        actor_scale = self.random_actor.get_actor_scale3d()        speed = <span class="hljs-number">3.0</span> * delta_seconds        <span class="hljs-keyword">if</span> self.random_actor_is_going_up:            <span class="hljs-keyword">if</span> actor_scale.z &gt; <span class="hljs-number">2.0</span>:                self.random_actor_is_going_up = <span class="hljs-literal">False</span>        <span class="hljs-keyword">else</span>:            speed = -speed            <span class="hljs-keyword">if</span> actor_scale.z &lt; <span class="hljs-number">0.5</span>:                self.random_actor_is_going_up = <span class="hljs-literal">True</span>        self.random_actor.set_actor_scale3d(unreal.Vector(actor_scale.x + speed, actor_scale.y + speed, actor_scale.z + speed))</code></pre><h2 id="L14-git-ä»£ç "><a href="#L14-git-ä»£ç " class="headerlink" title="L14 git ä»£ç "></a>L14 git ä»£ç </h2><p>&emsp;&emsp;emmmï¼Œå­¦ä¹ åˆ°è¿™é‡Œï¼Œæ‰çœ‹åˆ°ä½œè€…æŠŠä»£ç æ”¾åˆ° git ä¸Šäº†ã€‚-&gt; <a href="https://github.com/AlexQuevillon/UnrealPythonLibrary">UnrealPythonLibrary</a></p><p>&emsp;&emsp;ä¸ç”¨å…¨éƒ¨è‡ªå·±æ‰‹æ‰“å¯ä»¥èŠ‚çœæ›´å¤šæ—¶é—´ï¼</p><p>&emsp;&emsp;ä¸è¿‡æœ‰äº›ä»£ç è‡ªå·±è¿˜ä¼šåšä¸€äº›ä¿®æ”¹ï¼Œè‡ªå·±çš„ä»£ç ä¹Ÿæ”¾åˆ° gitä¸Šäº† -&gt; <a href="https://github.com/VannyYuan/UnrealPythonStudy">UnrealPythonStudy</a></p><h2 id="L15-åœ¨ä¸–ç•Œä¸­é€‰æ‹©å’Œå–æ¶ˆé€‰æ‹©ç‰©ä½“"><a href="#L15-åœ¨ä¸–ç•Œä¸­é€‰æ‹©å’Œå–æ¶ˆé€‰æ‹©ç‰©ä½“" class="headerlink" title="L15 åœ¨ä¸–ç•Œä¸­é€‰æ‹©å’Œå–æ¶ˆé€‰æ‹©ç‰©ä½“"></a>L15 åœ¨ä¸–ç•Œä¸­é€‰æ‹©å’Œå–æ¶ˆé€‰æ‹©ç‰©ä½“</h2><p>è·å–é€‰æ‹©ç‰©ä½“ï¼šunreal.EditorLevelLibrary.get_selected_level_actors()</p><p>è®¾ç½®é€‰æ‹©ç‰©ä½“ï¼šunreal.EditorLevelLibrary.set_selected_level_actors(actors_to_select)</p><p>WorldFunctions_3.pyæ–‡ä»¶</p><pre><code class="hljs python"><span class="hljs-comment"># coding: utf-8</span><span class="hljs-keyword">import</span> unreal<span class="hljs-comment"># return: obj List unreal.Actor : The selected actors in the world</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">getSelectedActors</span>():</span>    <span class="hljs-keyword">return</span> unreal.EditorLevelLibrary.get_selected_level_actors()<span class="hljs-comment"># Note: Will always clear the selection before selecting.</span><span class="hljs-comment"># actors_to_select: obj List unreal.Actor : The actors to select.</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">selectActors</span>(<span class="hljs-params">actors_to_select=[]</span>):</span>    unreal.EditorLevelLibrary.set_selected_level_actors(actors_to_select)<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">selectActors_EXAMPLE</span>():</span>    <span class="hljs-keyword">import</span> WorldFunctions_2    all_actors = WorldFunctions_2.sortActors()    actors_to_select = []    <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> range(len(all_actors)):        <span class="hljs-keyword">if</span> x % <span class="hljs-number">2</span>:            actors_to_select.append(all_actors[x])    selectActors(actors_to_select)<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">clearActorSelection_EXAMPLE</span>():</span>    selectActors()</code></pre><h2 id="L16-åœ¨è§†å£ä¸­èšç„¦ç‰©ä½“"><a href="#L16-åœ¨è§†å£ä¸­èšç„¦ç‰©ä½“" class="headerlink" title="L16 åœ¨è§†å£ä¸­èšç„¦ç‰©ä½“"></a>L16 åœ¨è§†å£ä¸­èšç„¦ç‰©ä½“</h2><p>&emsp;&emsp;å¯ä»¥å®ç°åœ¨å…¨éƒ¨/æ´»è·ƒè§†å£ä¸­èšç„¦æŒ‡å®šç‰©ä½“ã€‚</p><p>EditorFunction_3.pyæ–‡ä»¶</p><pre><code class="hljs python"><span class="hljs-comment"># coding: utf-8</span><span class="hljs-keyword">import</span> unreal<span class="hljs-keyword">import</span> random<span class="hljs-comment"># active_viewport_only: bool : If True, will only affect the active viewport</span><span class="hljs-comment"># actor: obj unreal.Actor : The actor you want to snap to</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">focusViewportOnActor</span>(<span class="hljs-params">active_viewport_only=True, actor=None</span>):</span>    <span class="hljs-comment"># ! focus command</span>    command = <span class="hljs-string">&#x27;CAMERA ALIGN&#x27;</span>    <span class="hljs-keyword">if</span> active_viewport_only:        command += <span class="hljs-string">&#x27; ACTIVEVIEWPORTONLY&#x27;</span>    <span class="hljs-keyword">if</span> actor:        command += <span class="hljs-string">&#x27; NAME=&#x27;</span> + actor.get_name()    unreal.CppLib.execute_console_command(command)<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">focusAllViewportsOnSelectedActors_EXAMPLE</span>():</span>    focusViewportOnActor(<span class="hljs-literal">False</span>)<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">focusActiveViewportOnRandomActor_EXAMPLE</span>():</span>    actors_in_world = unreal.GameplayStatics.get_all_actors_of_class(unreal.EditorLevelLibrary.get_editor_world(), unreal.Actor)    random_actor_in_world = actors_in_world[random.randrange(len(actors_in_world))]    focusViewportOnActor(<span class="hljs-literal">True</span>, random_actor_in_world)</code></pre><h2 id="L17-ç§»åŠ¨ã€æ—‹è½¬è§†å£"><a href="#L17-ç§»åŠ¨ã€æ—‹è½¬è§†å£" class="headerlink" title="L17 ç§»åŠ¨ã€æ—‹è½¬è§†å£"></a>L17 ç§»åŠ¨ã€æ—‹è½¬è§†å£</h2><p>&emsp;&emsp;ç»“åˆ C++ å’Œ snapViewport å®ç°ã€‚</p><p>C++ .h æ–‡ä»¶ï¼ˆéƒ¨åˆ†ï¼‰</p><pre><code class="hljs C++">UFUNCTION(BlueprintCallable, Category = <span class="hljs-string">&quot;Unreal Python&quot;</span>)    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SetViewportLocationAndRotation</span><span class="hljs-params">(<span class="hljs-keyword">int</span> ViewportIndex, FVector Location, FRotator Rotation)</span></span>;UFUNCTION(BlueprintCallable, Category = <span class="hljs-string">&quot;Unreal Python&quot;</span>)    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">GetActiveViewportIndex</span><span class="hljs-params">()</span></span>;</code></pre><p>C++ .cpp æ–‡ä»¶ï¼ˆéƒ¨åˆ†ï¼‰</p><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">UCppLib::SetViewportLocationAndRotation</span><span class="hljs-params">(<span class="hljs-keyword">int</span> ViewportIndex, FVector Location, FRotator Rotation)</span> </span>&#123;    <span class="hljs-keyword">if</span> (GEditor != <span class="hljs-literal">nullptr</span> &amp;&amp; ViewportIndex &lt; GEditor-&gt;GetLevelViewportClients().Num()) &#123;        FLevelEditorViewportClient* LevelViewportClient = GEditor-&gt;GetLevelViewportClients()[ViewportIndex];        <span class="hljs-keyword">if</span> (LevelViewportClient != <span class="hljs-literal">nullptr</span>) &#123;            LevelViewportClient-&gt;SetViewLocation(Location);            LevelViewportClient-&gt;SetViewRotation(Rotation);        &#125;    &#125;&#125;<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">UCppLib::GetActiveViewportIndex</span><span class="hljs-params">()</span> </span>&#123;    <span class="hljs-keyword">int</span> Index = <span class="hljs-number">1</span>;    <span class="hljs-keyword">if</span> (GEditor != <span class="hljs-literal">nullptr</span> &amp;&amp; GCurrentLevelEditingViewportClient != <span class="hljs-literal">nullptr</span>) &#123;        GEditor-&gt;GetLevelViewportClients().Find(GCurrentLevelEditingViewportClient, Index);    &#125;    <span class="hljs-keyword">return</span> Index;&#125;</code></pre><p>Python EditorFunction_4.py æ–‡ä»¶</p><pre><code class="hljs python"><span class="hljs-comment"># coding: utf-8</span><span class="hljs-keyword">import</span> unreal<span class="hljs-keyword">import</span> random<span class="hljs-comment"># return: int : The index of the active viewport</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">getActiveViewportIndex</span>():</span>    <span class="hljs-keyword">return</span> unreal.CppLib.get_active_viewport_index()<span class="hljs-comment"># viewport_index: int : The index of the viewport you want to affect</span><span class="hljs-comment"># location: obj unreal.Vector : The viewport location</span><span class="hljs-comment"># rotation: obj unreal.Rotator : The viewport rotation</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">setViewportLocationAndRotation</span>(<span class="hljs-params">viewport_index=<span class="hljs-number">1</span>, location=unreal.Vector(<span class="hljs-params"></span>), rotation=unreal.Rotator(<span class="hljs-params"></span>)</span>):</span>    unreal.CppLib.set_viewport_location_and_rotation(viewport_index, location, rotation)<span class="hljs-comment"># viewport_index: int : The index of the viewport you want to affect</span><span class="hljs-comment"># actor: obj unreal.Actor : The actor you want to snap to</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">snapViewportToActor</span>(<span class="hljs-params">viewport_index=<span class="hljs-number">1</span>, actor=None</span>):</span>    setViewportLocationAndRotation(viewport_index, actor.get_actor_location(), actor.get_actor_rotation())<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">setViewportLocationAndRotation_EXAMPLE</span>():</span>    viewport_index = getActiveViewportIndex()    setViewportLocationAndRotation(viewport_index, unreal.Vector(<span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>), unreal.Rotator(<span class="hljs-number">0.0</span>, <span class="hljs-number">90.0</span>, <span class="hljs-number">0.0</span>))<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">snapViewportToActor_EXAMPLE</span>():</span>    actors_in_world = unreal.GameplayStatics.get_all_actors_of_class(unreal.EditorLevelLibrary.get_editor_world(), unreal.Actor)    random_actor_in_world = actors_in_world[random.randrange(len(actors_in_world))]    viewport_index = getActiveViewportIndex()    snapViewportToActor(viewport_index, random_actor_in_world)</code></pre><h2 id="L18-åˆ›å»º-generic-èµ„äº§"><a href="#L18-åˆ›å»º-generic-èµ„äº§" class="headerlink" title="L18 åˆ›å»º generic èµ„äº§"></a>L18 åˆ›å»º generic èµ„äº§</h2><p>AssetFunction_7.pyæ–‡ä»¶</p><pre><code class="hljs python"><span class="hljs-comment"># coding: utf-8</span><span class="hljs-keyword">import</span> unreal<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">createGenericAsset</span>(<span class="hljs-params">asset_path=<span class="hljs-string">&#x27;&#x27;</span>, unique_name=True, asset_class=None, asset_factory=None</span>):</span>    <span class="hljs-keyword">if</span> unique_name:        asset_path, asset_name = unreal.AssetToolsHelpers.get_asset_tools().create_unique_asset_name(base_package_name=asset_path, suffix=<span class="hljs-string">&#x27;&#x27;</span>)    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> unreal.EditorAssetLibrary.does_asset_exist(asset_path=asset_path):        path = asset_path.rsplit(<span class="hljs-string">&#x27;/&#x27;</span>, <span class="hljs-number">1</span>)[<span class="hljs-number">0</span>]        name = asset_path.rsplit(<span class="hljs-string">&#x27;/&#x27;</span>, <span class="hljs-number">1</span>)[<span class="hljs-number">1</span>]        <span class="hljs-keyword">return</span> unreal.AssetToolsHelpers.get_asset_tools().create_asset(asset_name=name, package_path=path, asset_class=asset_class, factory=asset_factory)    <span class="hljs-keyword">return</span> unreal.load_asset(asset_path)<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">createGenericAsset_EXAMPLE</span>():</span>    base_path = <span class="hljs-string">&#x27;/Game/MyAsset/GenericAssets/&#x27;</span>    generic_assets = [        [base_path + <span class="hljs-string">&#x27;sequence&#x27;</span>,        unreal.LevelSequence,  unreal.LevelSequenceFactoryNew()],        [base_path + <span class="hljs-string">&#x27;material&#x27;</span>,        unreal.Material,       unreal.MaterialFactoryNew()],        [base_path + <span class="hljs-string">&#x27;world&#x27;</span>,           unreal.World,          unreal.WorldFactory()],        [base_path + <span class="hljs-string">&#x27;particle_system&#x27;</span>, unreal.ParticleSystem, unreal.ParticleSystemFactoryNew()],        [base_path + <span class="hljs-string">&#x27;paper_flipbook&#x27;</span>,  unreal.PaperFlipbook,  unreal.PaperFlipbookFactory()],        [base_path + <span class="hljs-string">&#x27;data_table&#x27;</span>,      unreal.DataTable,      unreal.DataTableFactory()], <span class="hljs-comment"># Will not work</span>    ]    <span class="hljs-keyword">for</span> asset <span class="hljs-keyword">in</span> generic_assets:        <span class="hljs-keyword">print</span> createGenericAsset(asset[<span class="hljs-number">0</span>], <span class="hljs-literal">True</span>, asset[<span class="hljs-number">1</span>], asset[<span class="hljs-number">2</span>])</code></pre><p><img src="/2021/01/26/unreal/UnrealPython%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/L18_1.png"></p><h2 id="L19-æ·»åŠ åŠ¨ç”»åºåˆ—"><a href="#L19-æ·»åŠ åŠ¨ç”»åºåˆ—" class="headerlink" title="L19 æ·»åŠ åŠ¨ç”»åºåˆ—"></a>L19 æ·»åŠ åŠ¨ç”»åºåˆ—</h2><p>pass</p><h2 id="L20-åˆ©ç”¨-Blueprint-è¿è¡ŒPythonä»£ç "><a href="#L20-åˆ©ç”¨-Blueprint-è¿è¡ŒPythonä»£ç " class="headerlink" title="L20 åˆ©ç”¨ Blueprint è¿è¡ŒPythonä»£ç "></a>L20 åˆ©ç”¨ Blueprint è¿è¡ŒPythonä»£ç </h2><p>&emsp;&emsp;åŸç†å’Œåˆ©ç”¨ Blueprint è¿è¡Œ cmd ä»£ç ç›¸åŒã€‚</p><p>build.cs åŠ ä¸Š â€œPythonâ€, â€œPythonScriptPluginâ€</p><p>C++ .hï¼ˆéƒ¨åˆ†ï¼‰</p><pre><code class="hljs C++">UFUNCTION(BlueprintCallable, Category = <span class="hljs-string">&quot;Unreal Python&quot;</span>)    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ExecutePythonScript</span><span class="hljs-params">(FString PythonScript)</span></span>;</code></pre><p>C++ .cppï¼ˆéƒ¨åˆ†ï¼‰</p><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;../Plugins/Experimental/PythonScriptPlugin/Source/PythonScriptPlugin/Private/PythonScriptPlugin.h&quot;</span></span><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">UCppLib::ExecutePythonScript</span><span class="hljs-params">(FString PythonScript)</span> </span>&#123;    FPythonScriptPlugin::Get()-&gt;ExecPythonCommand(*PythonScript);&#125;</code></pre><p>è“å›¾èŠ‚ç‚¹<br><img src="/2021/01/26/unreal/UnrealPython%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/L20_1.png"></p><p>ç‚¹å‡»äº‹ä»¶<br><img src="/2021/01/26/unreal/UnrealPython%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/L20_2.png"></p>]]></content>
    
    
    <categories>
      
      <category>Unreal</category>
      
    </categories>
    
    
    <tags>
      
      <tag>UE</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Mayaå¼€å‘å®è·µè¯¾ï¼ˆäºŒï¼‰</title>
    <link href="/2020/11/02/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%BA%8C%EF%BC%89/"/>
    <url>/2020/11/02/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%BA%8C%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<h2 id="L15-èµ°è¿›-PyMEL-ç¼–ç¨‹"><a href="#L15-èµ°è¿›-PyMEL-ç¼–ç¨‹" class="headerlink" title="L15 èµ°è¿› PyMEL ç¼–ç¨‹"></a>L15 èµ°è¿› PyMEL ç¼–ç¨‹</h2><h3 id="ä»€ä¹ˆæ˜¯PyMel"><a href="#ä»€ä¹ˆæ˜¯PyMel" class="headerlink" title="ä»€ä¹ˆæ˜¯PyMel"></a>ä»€ä¹ˆæ˜¯PyMel</h3><p><img src="/2020/11/02/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%BA%8C%EF%BC%89/L15_1.png"></p><h3 id="äº†è§£PyNode"><a href="#äº†è§£PyNode" class="headerlink" title="äº†è§£PyNode"></a>äº†è§£PyNode</h3><p><img src="/2020/11/02/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%BA%8C%EF%BC%89/L15_2.png"></p><h3 id="pynodeè½¬åŒ–"><a href="#pynodeè½¬åŒ–" class="headerlink" title="pynodeè½¬åŒ–"></a>pynodeè½¬åŒ–</h3><pre><code class="hljs python">node = pm.PyNode(<span class="hljs-string">&#x27;pSphere1&#x27;</span>)<span class="hljs-comment"># ! æŸ¥è¯¢æ–¹æ³•</span>dir(node)<span class="hljs-comment"># ! æŸ¥è¯¢å±æ€§</span>dir(node.attr())</code></pre><h3 id="è¿æ¥å±æ€§"><a href="#è¿æ¥å±æ€§" class="headerlink" title="è¿æ¥å±æ€§"></a>è¿æ¥å±æ€§</h3><pre><code class="hljs python"><span class="hljs-keyword">import</span> maya.cmds <span class="hljs-keyword">as</span> cmds<span class="hljs-keyword">import</span> pymel.core <span class="hljs-keyword">as</span> pmball = pm.PyNode(<span class="hljs-string">&#x27;ball&#x27;</span>)ball_tx = ball.attr(<span class="hljs-string">&#x27;tx&#x27;</span>)box = pm.PyNode(<span class="hljs-string">&#x27;pCube1&#x27;</span>)box_tx = box.attr(<span class="hljs-string">&#x27;tx&#x27;</span>)ball_tx &gt;&gt; box.tx</code></pre><h3 id="æ–­å¼€è¿æ¥"><a href="#æ–­å¼€è¿æ¥" class="headerlink" title="æ–­å¼€è¿æ¥"></a>æ–­å¼€è¿æ¥</h3><pre><code class="hljs python">ball_tx //  box_tx</code></pre><h3 id="ä½¿ç”¨APIæ–¹æ³•"><a href="#ä½¿ç”¨APIæ–¹æ³•" class="headerlink" title="ä½¿ç”¨APIæ–¹æ³•"></a>ä½¿ç”¨APIæ–¹æ³•</h3><pre><code class="hljs python">ball = pm.PyNode(<span class="hljs-string">&#x27;ball)</span><span class="hljs-string">baii.__apiobject__()</span></code></pre><h3 id="ç»ƒä¹ "><a href="#ç»ƒä¹ " class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h3><p>ä½¿ç”¨PyMElå®ç°åŸæ¥èåˆèŠ‚ç‚¹çš„è¿æ¥ã€‚</p><pre><code class="hljs pyrhon">import pymel.core as pmlam_A &#x3D; pm.createNode(&#39;lambert&#39;)lam_B &#x3D; pm.createNode(&#39;lambert&#39;)lam_C &#x3D; pm.createNode(&#39;lambert&#39;)bc &#x3D; pm.createNode(&#39;blendColors&#39;)lam_A.outColor &gt;&gt; bc.color1lam_B.outColor &gt;&gt; bc.color2bc.output.connect(lam_C.color)</code></pre><h2 id="L16-ä¸º-Maya-å®‰è£…ç¬¬ä¸‰æ–¹-Python-åŒ…"><a href="#L16-ä¸º-Maya-å®‰è£…ç¬¬ä¸‰æ–¹-Python-åŒ…" class="headerlink" title="L16 ä¸º Maya å®‰è£…ç¬¬ä¸‰æ–¹ Python åŒ…"></a>L16 ä¸º Maya å®‰è£…ç¬¬ä¸‰æ–¹ Python åŒ…</h2><ol><li>æ‹·è´å®‰è£…</li><li>pipå®‰è£…</li><li>ç¼–è¯‘å®‰è£…</li></ol><h3 id="ç»ƒä¹ -1"><a href="#ç»ƒä¹ -1" class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h3><p>ç»™Mayaå®‰è£…yamlæ¨¡å—å’Œnumpyæ¨¡å—ã€‚</p><p><strong>Numpy</strong></p><p>å®˜æ–¹æ–‡æ¡£</p><p><a href="https://numpy.org/install/#python-numpy-install-guide">https://numpy.org/install/#python-numpy-install-guide</a></p><p>ç®€ä»‹</p><p><a href="https://www.runoob.com/numpy/numpy-tutorial.html">https://www.runoob.com/numpy/numpy-tutorial.html</a></p><p>pythonå®‰è£…</p><p>python -m pip install numpy</p><p>mayaå®‰è£…</p><ol><li><p>ä¸‹è½½wheel<br><a href="https://pypi.tuna.tsinghua.edu.cn/simple/numpy/">https://pypi.tuna.tsinghua.edu.cn/simple/numpy/</a></p></li><li><p>å®‰è£…<br>mayapy -m pip install C:\Users\Administrator\Desktop\numpy-1.14.0rc1-cp27-none-win_amd64.whl</p></li></ol><p><strong>yaml</strong></p><p>pythonå®‰è£…</p><p>python -m pip install pyyaml</p><p>mayaå®‰è£…</p><ol><li><p>ä¸‹è½½wheel<br><a href="https://pypi.tuna.tsinghua.edu.cn/simple/pyyml/">https://pypi.tuna.tsinghua.edu.cn/simple/pyyml/</a></p></li><li><p>å®‰è£…<br>mayapy -m pip install C:\Users\Administrator\Desktop\pyyml-0.0.2-py2.py3-none-any.whl</p></li></ol><h2 id="L17-è‡ªå®šä¹‰-Maya-ç¯å¢ƒå˜é‡"><a href="#L17-è‡ªå®šä¹‰-Maya-ç¯å¢ƒå˜é‡" class="headerlink" title="L17 è‡ªå®šä¹‰ Maya ç¯å¢ƒå˜é‡"></a>L17 è‡ªå®šä¹‰ Maya ç¯å¢ƒå˜é‡</h2><h3 id="ä¸ºä»€ä¹ˆè‡ªå®šä¹‰è½¯ä»¶ç¯å¢ƒ"><a href="#ä¸ºä»€ä¹ˆè‡ªå®šä¹‰è½¯ä»¶ç¯å¢ƒ" class="headerlink" title="ä¸ºä»€ä¹ˆè‡ªå®šä¹‰è½¯ä»¶ç¯å¢ƒ"></a>ä¸ºä»€ä¹ˆè‡ªå®šä¹‰è½¯ä»¶ç¯å¢ƒ</h3><ol><li>ç»Ÿä¸€ç®¡ç†</li><li>å¿«é€Ÿéƒ¨ç½²</li><li>æ–¹ä¾¿åˆ‡æ¢</li></ol><p>&emsp;&emsp;ç¯å¢ƒå˜é‡çš„ç”¨æˆ·å˜é‡ä¼šè¦†ç›–ç³»ç»Ÿå˜é‡ã€‚</p><h3 id="cmdè®¾ç½®ç¯å¢ƒå˜é‡"><a href="#cmdè®¾ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="cmdè®¾ç½®ç¯å¢ƒå˜é‡"></a>cmdè®¾ç½®ç¯å¢ƒå˜é‡</h3><pre><code class="hljs cmd"><span class="hljs-built_in">set</span> MAYA_DISABLE_CLIC_IPM=<span class="hljs-number">1</span></code></pre><h3 id="pythonè®¾ç½®ç¯å¢ƒå˜é‡"><a href="#pythonè®¾ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="pythonè®¾ç½®ç¯å¢ƒå˜é‡"></a>pythonè®¾ç½®ç¯å¢ƒå˜é‡</h3><ol><li>æŸ¥è¯¢<pre><code class="hljs python">os.environ</code></pre></li><li>è®¾ç½®<pre><code class="hljs python">_env = os.environ.copy()_env[<span class="hljs-string">&#x27;XXX_ENV&#x27;</span>] = <span class="hljs-string">&#x27;hello&#x27;</span><span class="hljs-keyword">import</span> subprocesssubprocess.Popen(<span class="hljs-string">&quot;C:/Program Files/Autodesk/Maya2017/bin/maya.exe&quot;</span>,env=_env)</code></pre></li></ol><h3 id="å¸¸ç”¨ç¯å¢ƒå˜é‡"><a href="#å¸¸ç”¨ç¯å¢ƒå˜é‡" class="headerlink" title="å¸¸ç”¨ç¯å¢ƒå˜é‡"></a>å¸¸ç”¨ç¯å¢ƒå˜é‡</h3><p><img src="/2020/11/02/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%BA%8C%EF%BC%89/L17_1.png"></p><h3 id="ç»ƒä¹ -2"><a href="#ç»ƒä¹ -2" class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h3><p>ä½¿ç”¨Yamlç¼–å†™ä¸€ä¸ªç¯å¢ƒé…ç½®æ–‡ä»¶ï¼Œè¯»å–é‡Œé¢å†…å®¹ä½¿ç”¨subprocesså¯åŠ¨è½¯ä»¶ã€‚</p><p>å†™å…¥yaml</p><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<span class="hljs-keyword">import</span> yamlyaml_str = <span class="hljs-string">&quot;&quot;&quot;</span><span class="hljs-string">name: yaml_env</span><span class="hljs-string">date: 20200716</span><span class="hljs-string">version: [&#x27;maya2018&#x27;,&#x27;maya2019&#x27;]</span><span class="hljs-string">&quot;&quot;&quot;</span>yaml_data = yaml.load(yaml_str, Loader=yaml.SafeLoader)<span class="hljs-keyword">with</span> open(<span class="hljs-string">&#x27;D:/td_tech/yaml_test/yaml_write.yaml&#x27;</span>, <span class="hljs-string">&#x27;w&#x27;</span>) <span class="hljs-keyword">as</span> f:Â Â Â Â Â Â Â Â yaml.dump(yaml_data, f)</code></pre><p>å¯åŠ¨è½¯ä»¶</p><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<span class="hljs-keyword">import</span> yaml<span class="hljs-keyword">import</span> subprocess<span class="hljs-keyword">with</span> open(<span class="hljs-string">&#x27;D:/td_tech/yaml_test/yaml_write.yaml&#x27;</span>, <span class="hljs-string">&#x27;r+&#x27;</span>) <span class="hljs-keyword">as</span> f:Â Â Â Â Â Â Â Â data = yaml.load(f, Loader=yaml.Loader)_env = os.environ.copy()<span class="hljs-keyword">for</span> (key,value) <span class="hljs-keyword">in</span> data.items():Â Â Â Â Â Â Â Â _env[key] = str(value)subprocess.Popen(<span class="hljs-string">&quot;C:/Program Files/Autodesk/Maya2018/bin/maya.exe&quot;</span>,env=_env)</code></pre><p><img src="/2020/11/02/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%BA%8C%EF%BC%89/L17_2.png"></p><h2 id="L18-Maya-API-åŸºæœ¬ç±»å‹ä»‹ç»"><a href="#L18-Maya-API-åŸºæœ¬ç±»å‹ä»‹ç»" class="headerlink" title="L18 Maya API åŸºæœ¬ç±»å‹ä»‹ç»"></a>L18 Maya API åŸºæœ¬ç±»å‹ä»‹ç»</h2><h3 id="Maya-APIåŸºæœ¬ç»“æ„"><a href="#Maya-APIåŸºæœ¬ç»“æ„" class="headerlink" title="Maya APIåŸºæœ¬ç»“æ„"></a>Maya APIåŸºæœ¬ç»“æ„</h3><p><img src="/2020/11/02/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%BA%8C%EF%BC%89/L18_1.png"></p><h3 id="APIè¯­è¨€æ”¯æŒ"><a href="#APIè¯­è¨€æ”¯æŒ" class="headerlink" title="APIè¯­è¨€æ”¯æŒ"></a>APIè¯­è¨€æ”¯æŒ</h3><p><img src="/2020/11/02/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%BA%8C%EF%BC%89/L18_2.png"></p><ol><li><p>APIç¼–è¯‘çš„æ’ä»¶åç¼€ï¼š</p><p> Linuxï¼š.so</p><p> Windows: .mll</p><p> Mac OS Xï¼š.bundle</p><p> é€šç”¨æ€§æ’ä»¶ï¼š.py</p></li><li><p>APIå†…ç½®åº“ï¼š</p><p> OpenMaya åŸºæœ¬çš„æ“ä½œå·¥å…·ç±»</p><p> OpenMayaUI ç•Œé¢å·¥å…·ç±»</p><p> OpenMayaAnim åŠ¨ç”»å·¥å…·ç±»</p><p> OpenMayaFX ç‰¹æ•ˆå·¥å…·ç±»</p><p> OpenMayaRender æ¸²æŸ“å·¥å…·ç±»</p></li><li><p>APIå‘½åè§„åˆ™</p></li></ol><p>M classes - åŸºæœ¬çš„æ•°æ®ç±»å‹</p><p>MFn - Function å‡½æ•°å·¥å…·ç±»å‹</p><p>MIt - Iterator è¿­ä»£å™¨ç±»å‹</p><p>MPx - ä»£ç†ç±»å‹ï¼Œæ‹“å±•MayaåŠŸèƒ½éœ€è¦ç»§æ‰¿çš„ç±»</p><h3 id="DependencyNodeã€-DagNode"><a href="#DependencyNodeã€-DagNode" class="headerlink" title="DependencyNodeã€ DagNode"></a>DependencyNodeã€ DagNode</h3><p>DependencyNodeï¼šMayaæœ€åŸºæœ¬çš„èŠ‚ç‚¹ç±»å‹</p><p>DagNodeï¼šMayaå¸¦æœ‰å±‚çº§çš„èŠ‚ç‚¹ç±»å‹</p><p>DagNodeç”±DependencyNodeç»§æ‰¿è€Œæ¥ï¼ŒDagNodeæœ‰å±‚çº§å…³ç³»ç»§æ‰¿ã€‚</p><h3 id="MObject"><a href="#MObject" class="headerlink" title="MObject"></a>MObject</h3><p><img src="/2020/11/02/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%BA%8C%EF%BC%89/L18_3.png"></p><h3 id="æŸ¥è¯¢APIå¸®åŠ©æ–‡æ¡£-API1-0"><a href="#æŸ¥è¯¢APIå¸®åŠ©æ–‡æ¡£-API1-0" class="headerlink" title="æŸ¥è¯¢APIå¸®åŠ©æ–‡æ¡£ API1.0"></a>æŸ¥è¯¢APIå¸®åŠ©æ–‡æ¡£ API1.0</h3><p>MObject() ç›¸å½“äºpythonçš„<strong>init</strong>()ï¼Œå¯ä»¥ç”¨äºå®ä¾‹åŒ–å¯¹è±¡</p><p>é™æ€æ–¹æ³•static Mobjectï¼šåœ¨æ²¡æœ‰å®ä¾‹åŒ–èŠ‚ç‚¹ä¹‹å‰å°±èƒ½ä½¿ç”¨</p><p>ææ„å‡½æ•°~Mobject()ï¼šå˜é‡åœ¨é”€æ¯çš„æ—¶å€™æ‰§è¡Œçš„æ“ä½œ</p><h3 id="é€šè¿‡Pymelåˆ›å»ºMobject"><a href="#é€šè¿‡Pymelåˆ›å»ºMobject" class="headerlink" title="é€šè¿‡Pymelåˆ›å»ºMobject"></a>é€šè¿‡Pymelåˆ›å»ºMobject</h3><pre><code class="hljs python"><span class="hljs-keyword">import</span> maya.OpenMaya <span class="hljs-keyword">as</span> OpenMaya<span class="hljs-keyword">import</span> pymel.core <span class="hljs-keyword">as</span> pmball_node = pm.PyNode(<span class="hljs-string">&#x27;pSphere1&#x27;</span>)ball_api_node = ball_node.__apimobject__()<span class="hljs-comment"># é€šè¿‡pymelè½¬åŒ–çš„MObjectå·²ç»æœ‰äº†å¯¹è±¡</span><span class="hljs-keyword">print</span> ball_api_node.isNull() <span class="hljs-comment"># True</span><span class="hljs-comment"># é€šè¿‡OpenMayaç›´æ¥åˆ›å»ºçš„MObjectæ˜¯ç©ºçš„</span><span class="hljs-keyword">print</span> OpenMaya.MObject().isNull() <span class="hljs-comment"># False</span><span class="hljs-comment"># æŸ¥è¯¢apiç±»å‹</span><span class="hljs-keyword">print</span> ball_api_node.apiType() <span class="hljs-comment"># 110</span><span class="hljs-keyword">print</span> ball_api_node.apiTypeStr() <span class="hljs-comment"># kTransform</span>ballshape_api_node = pm.PyNode(<span class="hljs-string">&#x27;pSphereShape1&#x27;</span>).__apimobject__()<span class="hljs-keyword">print</span> ballshape_api_node.apiType() <span class="hljs-comment"># 296</span><span class="hljs-keyword">print</span> ballshape_api_node.apiTypeStr() <span class="hljs-comment"># kMesh</span><span class="hljs-comment"># ä½¿ç”¨ == != åˆ¤æ–­ä¸¤ä¸ªç‰©ä½“æ˜¯å¦ç›¸ç­‰</span><span class="hljs-keyword">print</span> ball_api_node == ballshape_api_node <span class="hljs-comment"># False</span><span class="hljs-comment"># ä½¿ç”¨ = ç›´æ¥èµ‹å€¼</span>ballshape_api_node = ball_api_node<span class="hljs-keyword">print</span> ballshape_api_node.apiTypeStr()</code></pre><h3 id="DagPath"><a href="#DagPath" class="headerlink" title="DagPath"></a>DagPath</h3><p><img src="/2020/11/02/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%BA%8C%EF%BC%89/L18_4.png"></p><pre><code class="hljs python"><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªç©ºçš„MDagPath</span>ball_dag_path = OpenMaya.MDagPath()<span class="hljs-comment"># å»ºç«‹DagPathè”ç³»</span>OpenMaya.MDagPath.getAPathTo(ball_api_node,ball_dag_path)<span class="hljs-comment"># è·å–DagPathåå­—</span><span class="hljs-keyword">print</span> ball_dag_path.fullPathName() <span class="hljs-comment"># |pSphere1</span><span class="hljs-keyword">print</span> ball_dag_path.partialPathName() <span class="hljs-comment"># pSphere1</span><span class="hljs-comment"># åˆ¤æ–­æ˜¯å¦æ˜¾ç¤º</span><span class="hljs-keyword">print</span> ball_dag_path.isVisible() <span class="hljs-comment"># True</span><span class="hljs-comment"># é€šè¿‡MDagPathè·å–APIç±»å‹</span><span class="hljs-keyword">print</span> ball_dag_path.apiType() <span class="hljs-comment"># 110</span><span class="hljs-comment"># é€šè¿‡MDagPathè¿”å›MObject</span><span class="hljs-keyword">print</span> ball_dag_path.node() <span class="hljs-comment"># &lt;maya.OpenMaya.MObject; proxy of &lt;Swig Object of type &#x27;MObject *&#x27; at 0x0000014894705F90&gt;</span></code></pre><h3 id="æ€è€ƒ"><a href="#æ€è€ƒ" class="headerlink" title="æ€è€ƒ"></a>æ€è€ƒ</h3><p>æ—¢ç„¶Mayaå·²ç»æä¾›äº†cmdsè¿™ä¸ªç¼–ç¨‹çš„æ¥å£ï¼Œä¸ºä»€ä¹ˆè¿˜è¦æä¾›OpenMayaçš„å‘¢ï¼Ÿ</p><h2 id="L19-Maya-APIçš„ä¸‰ç§åŸºæœ¬ç±»å‹"><a href="#L19-Maya-APIçš„ä¸‰ç§åŸºæœ¬ç±»å‹" class="headerlink" title="L19 Maya APIçš„ä¸‰ç§åŸºæœ¬ç±»å‹"></a>L19 Maya APIçš„ä¸‰ç§åŸºæœ¬ç±»å‹</h2><h3 id="MFn"><a href="#MFn" class="headerlink" title="MFn"></a>MFn</h3><p><img src="/2020/11/02/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%BA%8C%EF%BC%89/L19_1.png"></p><p>MFnDependencyNodeï¼šå¤„ç†ä»»ä½•èŠ‚ç‚¹çš„æ™®é€šæ–¹æ³•</p><p>MFnDagNodeï¼šå¤„ç†å¤§çº²ç‰©ä½“çš„å¸¸ç”¨æ–¹æ³•<br>MFnMeshï¼šå¤„ç†å¤šè¾¹å½¢æ“ä½œ</p><p>æ™®é€šMFnè®°å½•Mayaå†…æ‰€æœ‰èŠ‚ç‚¹çš„ç±»å‹ï¼ŒMObjectä¸­çš„apiTypeè¿”å›çš„å°±æ˜¯MFnåˆ—è¡¨çš„ç´¢å¼•å€¼</p><p>å…¶ä»–çš„æœ‰MFnSetã€MFnMeshç­‰ç­‰ã€‚</p><h3 id="MIt"><a href="#MIt" class="headerlink" title="MIt"></a>MIt</h3><p><img src="/2020/11/02/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%BA%8C%EF%BC%89/L19_2.png"></p><p>MitDagï¼šå¤„ç†å¤§çº²å±‚çº§æ‰€æœ‰ç‰©ä½“</p><p>MitCurveCVï¼šå¤„ç†æ›²çº¿çš„ç‚¹</p><p>MitMeshEdgeï¼šå¤šè¾¹å½¢çš„çº¿çš„å¾ªç¯</p><p>MitMeshFaceVertexï¼šå¤„ç†å¤šè¾¹å½¢é¢ç‚¹</p><p>MitMeshPolygonï¼šå¤„ç†å¤šè¾¹å½¢é¢</p><p>MitMeshVertexï¼šå¤„ç†å¤šè¾¹å½¢ç‚¹</p><p>MitSelectionListï¼šå¤„ç†åˆ—è¡¨ä¸­çš„ä»»ä½•ç‰©ä½“</p><p>MitDependencyGraphï¼šé€šè¿‡ä¸€ä¸ªèŠ‚ç‚¹å¯»æ‰¾ä¸Šä¸‹æ¸¸æ‰€æœ‰èŠ‚ç‚¹</p><p>MitDependencyNodesï¼šè¿‡æ»¤åœºæ™¯å†…çš„ä»»ä½•èŠ‚ç‚¹</p><h3 id="MPx"><a href="#MPx" class="headerlink" title="MPx"></a>MPx</h3><p><img src="/2020/11/02/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%BA%8C%EF%BC%89/L19_3.png"></p><p>ç”¨äºç¼–å†™mayaæ²¡æœ‰çš„ç‰©ä½“</p><p>MpxCommandï¼šç¼–å†™ä¸€ä¸ªå‘½ä»¤</p><p>MPxNodeï¼šç¼–å†™ä¸€ä¸ªèŠ‚ç‚¹</p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p><img src="/2020/11/02/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%BA%8C%EF%BC%89/L19_4.png"></p><h2 id="L20-Maya-APIä¸­åŸºæœ¬å®¹å™¨çš„ä½¿ç”¨"><a href="#L20-Maya-APIä¸­åŸºæœ¬å®¹å™¨çš„ä½¿ç”¨" class="headerlink" title="L20 Maya APIä¸­åŸºæœ¬å®¹å™¨çš„ä½¿ç”¨"></a>L20 Maya APIä¸­åŸºæœ¬å®¹å™¨çš„ä½¿ç”¨</h2><h3 id="MSelectionList"><a href="#MSelectionList" class="headerlink" title="MSelectionList"></a>MSelectionList</h3><p><img src="/2020/11/02/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%BA%8C%EF%BC%89/L20_1.png"></p><pre><code class="hljs python"><span class="hljs-keyword">import</span> maya.OpenMaya <span class="hljs-keyword">as</span> OpenMaya<span class="hljs-keyword">import</span> pymel.core <span class="hljs-keyword">as</span> pm<span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªç©ºçš„MSelectionList</span><span class="hljs-comment"># &lt;maya.OpenMaya.MSelectionList; proxy of &lt;Swig Object of type &#x27;MSelectionList *&#x27; at 0x0000014894705780&gt; &gt; </span>lst = OpenMaya.MSelectionList()<span class="hljs-keyword">print</span> lst.isEmpty() <span class="hljs-comment"># True</span><span class="hljs-comment"># æ·»åŠ ç‰©ä½“</span>lst.add(<span class="hljs-string">&#x27;pSphere1&#x27;</span>)<span class="hljs-comment"># æŸ¥è¯¢ä¸ªæ•°</span>lst.length() <span class="hljs-comment"># 1</span><span class="hljs-comment"># æ·»åŠ æ‰€æœ‰çš„çƒä½“</span>lst.add(<span class="hljs-string">&#x27;pSphere*&#x27;</span>)lst.length() <span class="hljs-comment"># 2</span><span class="hljs-comment"># åˆå¹¶ä¸¤ä¸ªåˆ—è¡¨</span>b_lst = OpenMaya.MSelectionList()b_lst.add(<span class="hljs-string">&#x27;pCube?&#x27;</span>)lst.merge(b_lst)<span class="hljs-keyword">print</span> lst.length() <span class="hljs-comment"># 3</span></code></pre><h3 id="MItSelectionList"><a href="#MItSelectionList" class="headerlink" title="MItSelectionList"></a>MItSelectionList</h3><p><img src="/2020/11/02/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%BA%8C%EF%BC%89/L20_2.png"></p><pre><code class="hljs python"><span class="hljs-keyword">import</span> maya.OpenMaya <span class="hljs-keyword">as</span> OpenMaya<span class="hljs-keyword">import</span> pymel.core <span class="hljs-keyword">as</span> pmsel_lst = OpenMaya.MSelectionList()sel_lst.add(<span class="hljs-string">&#x27;pSphere?&#x27;</span>)<span class="hljs-comment"># è¿”å›åˆ—è¡¨æ¯ä¸€ä¸ªç‰©ä½“çš„é•¿å</span>dag_path = OpenMaya.MDagPath()lst_iter = OpenMaya.MItSelectionList(sel_lst)<span class="hljs-keyword">while</span> <span class="hljs-keyword">not</span> lst_iter.isDone():Â Â Â Â Â Â Â Â lst_iter.getDagPath(dag_path)Â Â Â Â Â Â Â Â <span class="hljs-keyword">print</span> dag_path.fullPathName()Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â lst_iter.next()</code></pre><h3 id="ç»ƒä¹ -3"><a href="#ç»ƒä¹ -3" class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h3><p><img src="/2020/11/02/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%BA%8C%EF%BC%89/L20_3.png"></p><p>é€šé…ç¬¦</p><p><img src="/2020/11/02/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%BA%8C%EF%BC%89/L20_4.png"></p><pre><code class="hljs python"><span class="hljs-keyword">import</span> maya.cmds <span class="hljs-keyword">as</span> cmds<span class="hljs-keyword">import</span> maya.OpenMaya <span class="hljs-keyword">as</span> OpenMaya<span class="hljs-keyword">import</span> pymel.core <span class="hljs-keyword">as</span> pm<span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime<span class="hljs-comment"># create 10,000 balls</span><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">1</span>, <span class="hljs-number">10000</span>):Â Â Â Â Â Â Â Â cmds.polySphere()<span class="hljs-comment"># cmds</span>start_time = datetime.now()sel_lst = cmds.ls(sl=<span class="hljs-literal">True</span>)<span class="hljs-keyword">for</span> sel <span class="hljs-keyword">in</span> sel_lst:Â Â Â Â Â Â Â Â <span class="hljs-keyword">pass</span>end_time = datetime.now()<span class="hljs-comment"># 36000</span>cmds_time = (end_time - start_time)<span class="hljs-comment"># OpenMaya</span>sel_lst = OpenMaya.MSelectionList()<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">1</span>, <span class="hljs-number">10000</span>):Â Â Â Â Â Â Â Â sel_lst.add(<span class="hljs-string">&#x27;pSphere&#123;&#125;&#x27;</span>.format(i))iter_lst = OpenMaya.MItSelectionList(sel_lst)dag_path = OpenMaya.MDagPath()start_time = datetime.now()<span class="hljs-keyword">while</span> <span class="hljs-keyword">not</span> iter_lst.isDone():Â Â Â Â Â Â Â Â iter_lst.getDagPath(dag_path)Â Â Â Â Â Â Â Â iter_lst.next()end_time = datetime.now()<span class="hljs-comment"># 28000</span>OpenMaya_time = (end_time - start_time)<span class="hljs-comment"># Mel</span></code></pre><h2 id="L21-Maya-API-çš„å…¨å±€æ“ä½œæ–¹æ³•-MGlobal"><a href="#L21-Maya-API-çš„å…¨å±€æ“ä½œæ–¹æ³•-MGlobal" class="headerlink" title="L21 Maya API çš„å…¨å±€æ“ä½œæ–¹æ³• - MGlobal"></a>L21 Maya API çš„å…¨å±€æ“ä½œæ–¹æ³• - MGlobal</h2><h3 id="MGlobal"><a href="#MGlobal" class="headerlink" title="MGlobal"></a>MGlobal</h3><p><img src="/2020/11/02/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%BA%8C%EF%BC%89/L21_1.png"></p><pre><code class="hljs python"><span class="hljs-keyword">import</span> maya.OpenMaya<span class="hljs-keyword">from</span> maya.OpenMaya <span class="hljs-keyword">import</span> MGlobal<span class="hljs-keyword">print</span> MGlobal.mayaVersion()<span class="hljs-comment"># 2018</span><span class="hljs-keyword">print</span> MGlobal.apiVersion()<span class="hljs-comment"># 20180500</span><span class="hljs-comment"># æŠŠé€‰æ‹©çš„ç‰©ä½“ä¼ å…¥selåˆ—è¡¨</span>sel = OpenMaya.MSelectionList()OpenMaya.MGlobal.getActiveSelectionList(sel)<span class="hljs-keyword">print</span> sel.length()<span class="hljs-comment"># é€‰æ‹©selåˆ—è¡¨çš„ç‰©ä½“</span>OpenMaya.MGlobal.setActiveSelectionList(sel)<span class="hljs-comment"># æ‰§è¡Œpythonæˆ–melå‘½ä»¤</span>MGlobal.executeCommand(<span class="hljs-string">&#x27;ls -sl&#x27;</span>)MGlobal.executeCommand(<span class="hljs-string">&#x27;createNode &quot;joint&quot;&#x27;</span>)<span class="hljs-comment"># MGlobal.executePythonCommand(&#x27;cmds.createNode(&quot;joint&quot;)&#x27;)</span>MGlobal.isYAxisUp()<span class="hljs-comment"># True</span>MGlobal.displayInfo(<span class="hljs-string">&#x27;info ..&#x27;</span>)MGlobal.displayWarning(<span class="hljs-string">&#x27;warning ..&#x27;</span>)MGlobal.displayError(<span class="hljs-string">&#x27;error ..&#x27;</span>)<span class="hljs-comment"># è®¾ç½®å½“å‰å¸§</span>MGlobal.viewFrame(<span class="hljs-number">30</span>)</code></pre><h3 id="MGlobalå¸¸ç”¨æ–¹æ³•"><a href="#MGlobalå¸¸ç”¨æ–¹æ³•" class="headerlink" title="MGlobalå¸¸ç”¨æ–¹æ³•"></a>MGlobalå¸¸ç”¨æ–¹æ³•</h3><p><img src="/2020/11/02/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%BA%8C%EF%BC%89/L21_2.png"></p><h3 id="ç»ƒä¹ -4"><a href="#ç»ƒä¹ -4" class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h3><p>å°è¯•ä½¿ç”¨MGlobalé€‰æ‹©å±å¹•æŸä¸€å—åŒºåŸŸçš„ç‰©ä½“ã€‚</p><pre><code class="hljs python"><span class="hljs-keyword">import</span> maya.OpenMaya <span class="hljs-keyword">as</span> OpenMaya<span class="hljs-keyword">from</span> maya.OpenMaya <span class="hljs-keyword">import</span> MGlobal<span class="hljs-keyword">import</span> pymel.core <span class="hljs-keyword">as</span> pmMGlobal.selectFromScreen(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1920</span>,<span class="hljs-number">1080</span>,MGlobal.kAddToList,MGlobal.kSurfaceSelectMethod)</code></pre><h2 id="L22-Maya-API-çš„æ–‡ä»¶æ“ä½œ-MFileIO"><a href="#L22-Maya-API-çš„æ–‡ä»¶æ“ä½œ-MFileIO" class="headerlink" title="L22 Maya API çš„æ–‡ä»¶æ“ä½œ MFileIO"></a>L22 Maya API çš„æ–‡ä»¶æ“ä½œ MFileIO</h2><pre><code class="hljs python"><span class="hljs-keyword">import</span> maya.OpenMaya<span class="hljs-keyword">from</span> maya.OpenMaya <span class="hljs-keyword">import</span> MFileIO<span class="hljs-keyword">print</span> MFileIO.currentFile()<span class="hljs-comment"># D:/test/test/test.ma</span>MFileIO.setCurrentFile(<span class="hljs-string">&#x27;D:/test/test_1.ma&#x27;</span>)<span class="hljs-keyword">print</span> MFileIO.currentFile()<span class="hljs-comment"># D:/test/test_1.ma</span><span class="hljs-keyword">print</span> MFileIO.fileType()<span class="hljs-comment"># u&#x27;mayaAscii&#x27;</span>lst = list()MFileIO.getFileTypes(lst)<span class="hljs-keyword">print</span> lst<span class="hljs-comment"># [u&#x27;mayaAscii&#x27;, u&#x27;mayaBinary&#x27;, u&#x27;mel&#x27;, u&#x27;OBJ&#x27;, u&#x27;directory&#x27;, u&#x27;plug-in&#x27;, u&#x27;audio&#x27;, u&#x27;move&#x27;, u&#x27;EPS&#x27;, u&#x27;Adobe(R) Illustrator(R)&#x27;, u&#x27;image&#x27;, u&#x27;fluidCache&#x27;, u&#x27;editMA&#x27;, u&#x27;editMB&#x27;, u&#x27;Alembic&#x27;, u&#x27;RIB&#x27;]</span><span class="hljs-comment"># æ–°å»ºåœºæ™¯</span>MFileIO.newFile(<span class="hljs-literal">True</span>)<span class="hljs-comment"># ä¿å­˜åœºæ™¯</span>MFileIO.saveAs(<span class="hljs-string">&#x27;D:/test/test/ball.ma&#x27;</span>, <span class="hljs-string">&#x27;mayaAscii&#x27;</span>)MFileIO.save()</code></pre><h3 id="MFileIO-å¸¸ç”¨æ–¹æ³•"><a href="#MFileIO-å¸¸ç”¨æ–¹æ³•" class="headerlink" title="MFileIO å¸¸ç”¨æ–¹æ³•"></a>MFileIO å¸¸ç”¨æ–¹æ³•</h3><p><img src="/2020/11/02/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%BA%8C%EF%BC%89/L22_1.png"><br><img src="/2020/11/02/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%BA%8C%EF%BC%89/L22_2.png"></p><h3 id="ç»ƒä¹ -5"><a href="#ç»ƒä¹ -5" class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h3><p>åˆ—å‡ºåœºæ™¯å†…æ‰€æœ‰çš„æè´¨shadingGroupèŠ‚ç‚¹ï¼Œå¹¶ä½¿ç”¨APIå¯¼å‡ºä¸ºæ–‡ä»¶ã€‚</p><pre><code class="hljs python"><span class="hljs-keyword">import</span> maya.OpenMaya <span class="hljs-keyword">as</span> OpenMaya<span class="hljs-keyword">import</span> pymel.core <span class="hljs-keyword">as</span> pmsg_lst = pm.ls(type=<span class="hljs-string">&#x27;shadingEngine&#x27;</span>)lst = OpenMaya.MSelectionList()<span class="hljs-comment"># åˆ—å‡ºæ‰€æœ‰sgèŠ‚ç‚¹</span><span class="hljs-keyword">for</span> sg <span class="hljs-keyword">in</span> sg_lst:Â Â Â Â Â Â Â Â sg_mobj = sg.__apimobject__()Â Â Â Â Â Â Â Â lst.add(sg_mobj)<span class="hljs-comment"># é€‰æ‹©æ‰€æœ‰sgèŠ‚ç‚¹</span>OpenMaya.MGlobal.setActiveSelectionList(lst)<span class="hljs-comment"># å¯¼å‡ºé€‰æ‹©çš„èŠ‚ç‚¹</span>OpenMaya.MFileIO.exportSelected(<span class="hljs-string">&#x27;D:/test/sg_test.ma&#x27;</span>)</code></pre><h2 id="L23-Maya-API-ä¸­çš„èŠ‚ç‚¹è¿­ä»£å™¨å’Œå‡½æ•°ç±»"><a href="#L23-Maya-API-ä¸­çš„èŠ‚ç‚¹è¿­ä»£å™¨å’Œå‡½æ•°ç±»" class="headerlink" title="L23 Maya API ä¸­çš„èŠ‚ç‚¹è¿­ä»£å™¨å’Œå‡½æ•°ç±»"></a>L23 Maya API ä¸­çš„èŠ‚ç‚¹è¿­ä»£å™¨å’Œå‡½æ•°ç±»</h2><h3 id="MFnDependencyNode"><a href="#MFnDependencyNode" class="headerlink" title="MFnDependencyNode"></a>MFnDependencyNode</h3><p><img src="/2020/11/02/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%BA%8C%EF%BC%89/L23_1.png"></p><pre><code class="hljs python"><span class="hljs-keyword">import</span> maya.OpenMaya <span class="hljs-keyword">as</span> OpenMaya<span class="hljs-keyword">import</span> pymel.core <span class="hljs-keyword">as</span> pmmfn = OpenMaya.MFnDependencyNode(pm.ls(sl=<span class="hljs-literal">True</span>)[<span class="hljs-number">0</span>].__apimobject__())<span class="hljs-keyword">print</span> mfn.typeName()<span class="hljs-comment"># transform</span><span class="hljs-keyword">print</span> mfn.name()<span class="hljs-comment"># pCylinder1</span>mfn.setName(<span class="hljs-string">&#x27;new_pCylinder&#x27;</span>)<span class="hljs-keyword">print</span> mfn.name()<span class="hljs-comment"># new_pCylinder</span>mfn.attributeCount()<span class="hljs-comment"># 249</span>iterator = OpenMaya.MItDependencyNodes(OpenMaya.MFn.kMesh)<span class="hljs-keyword">while</span> <span class="hljs-keyword">not</span> iterator.isDone():Â Â Â Â Â Â Â Â <span class="hljs-keyword">print</span> OpenMaya.MFnDependencyNode(iterator.thisNode()).name()Â Â Â Â Â Â Â Â <span class="hljs-keyword">print</span> OpenMaya.MFnDependencyNode(iterator.item()).name()Â Â Â Â Â Â Â Â iterator.next()</code></pre><h3 id="ç»ƒä¹ -6"><a href="#ç»ƒä¹ -6" class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h3><p><img src="/2020/11/02/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%BA%8C%EF%BC%89/L23_2.png"></p><pre><code class="hljs python"><span class="hljs-keyword">import</span> maya.OpenMaya <span class="hljs-keyword">as</span> OpenMaya<span class="hljs-keyword">import</span> pymel.core <span class="hljs-keyword">as</span> pmmit = OpenMaya.MItDependencyNodes(OpenMaya.MFn.kMesh)sh_sg_connects = &#123;&#125;<span class="hljs-keyword">while</span> <span class="hljs-keyword">not</span> mit.isDone():Â Â Â Â Â Â Â Â mfn = OpenMaya.MFnDependencyNode(mit.item())Â Â Â Â Â Â Â Â plug_array = OpenMaya.MPlugArray()Â Â Â Â Â Â Â Â mfn.getConnections(plug_array)Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(plug_array.length()):Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â des_array = OpenMaya.MPlugArray()Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â plug_array[i].destinations(des_array)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span> des_array.length():Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span> des_array[<span class="hljs-number">0</span>].node().apiTypeStr() == <span class="hljs-string">&#x27;kShadingEngine&#x27;</span>:Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â sh_sg_connects[mfn.name()] = des_array[<span class="hljs-number">0</span>].name().split(<span class="hljs-string">&#x27;.&#x27;</span>)[<span class="hljs-number">0</span>]Â Â Â Â Â Â Â Â mit.next()<span class="hljs-keyword">for</span> (key,value) <span class="hljs-keyword">in</span> sh_sg_connects.items():Â Â Â Â Â Â Â Â <span class="hljs-keyword">print</span> <span class="hljs-string">&#x27;&#123;&#125; connected to &#123;&#125;&#x27;</span>.format(key,value)</code></pre><h2 id="L24-Maya-API-å±‚çº§è¿­ä»£å™¨ä¸ç‰©ä½“å‡½æ•°ç±»"><a href="#L24-Maya-API-å±‚çº§è¿­ä»£å™¨ä¸ç‰©ä½“å‡½æ•°ç±»" class="headerlink" title="L24 Maya API å±‚çº§è¿­ä»£å™¨ä¸ç‰©ä½“å‡½æ•°ç±»"></a>L24 Maya API å±‚çº§è¿­ä»£å™¨ä¸ç‰©ä½“å‡½æ•°ç±»</h2><h3 id="MFnDagNode"><a href="#MFnDagNode" class="headerlink" title="MFnDagNode"></a>MFnDagNode</h3><p><img src="/2020/11/02/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%BA%8C%EF%BC%89/L24_1.png"></p><pre><code class="hljs python"><span class="hljs-keyword">import</span> maya.OpenMaya <span class="hljs-keyword">as</span> OpenMaya<span class="hljs-keyword">import</span> pymel.core <span class="hljs-keyword">as</span> pmmfn = OpenMaya.MFnDagNode(pm.PyNode(<span class="hljs-string">&#x27;pSphere1&#x27;</span>).__apimobject__())<span class="hljs-keyword">print</span> mfn.partialPathName()<span class="hljs-comment"># pSphere1</span><span class="hljs-keyword">print</span> mfn.fullPathName()<span class="hljs-comment"># |pSphere1</span><span class="hljs-keyword">print</span> mfn.childCount()<span class="hljs-comment"># 1</span>iterator = OpenMaya.MItDag()<span class="hljs-keyword">while</span> <span class="hljs-keyword">not</span> iterator.isDone():Â Â Â Â Â Â Â Â <span class="hljs-keyword">print</span> iterator.partialPathName()Â Â Â Â Â Â Â Â iterator.next()</code></pre><h3 id="ç»ƒä¹ -7"><a href="#ç»ƒä¹ -7" class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h3><p><img src="/2020/11/02/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%BA%8C%EF%BC%89/L24_2.png"></p><pre><code class="hljs python"><span class="hljs-keyword">import</span> maya.OpenMaya <span class="hljs-keyword">as</span> OpenMaya<span class="hljs-keyword">import</span> pymel.core <span class="hljs-keyword">as</span> pm<span class="hljs-comment"># é€‰æ‹©æ‰€æœ‰mesh</span>mit = OpenMaya.MItDag(OpenMaya.MItDag.kDepthFirst,OpenMaya.MFn.kMesh)sel_lst = OpenMaya.MSelectionList()<span class="hljs-keyword">while</span> <span class="hljs-keyword">not</span> mit.isDone():Â Â Â Â Â Â Â Â m_dag = OpenMaya.MFnDagNode(mit.item())Â Â Â Â Â Â Â Â sel_lst.add(m_dag.fullPathName())Â Â Â Â Â Â Â Â mit.next()OpenMaya.MGlobal.setActiveSelectionList(sel_lst)</code></pre><h2 id="L25-Maya-API-ä¸­çš„å¤šè¾¹å½¢å¤„ç†MFnMesh-MItMesh"><a href="#L25-Maya-API-ä¸­çš„å¤šè¾¹å½¢å¤„ç†MFnMesh-MItMesh" class="headerlink" title="L25 Maya API ä¸­çš„å¤šè¾¹å½¢å¤„ç†MFnMesh MItMesh"></a>L25 Maya API ä¸­çš„å¤šè¾¹å½¢å¤„ç†MFnMesh MItMesh</h2><h3 id="MFnMesh"><a href="#MFnMesh" class="headerlink" title="MFnMesh"></a>MFnMesh</h3><p><img src="/2020/11/02/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%BA%8C%EF%BC%89/L25_1.png"></p><pre><code class="hljs python"><span class="hljs-keyword">import</span> maya.OpenMaya <span class="hljs-keyword">as</span> OpenMaya<span class="hljs-keyword">import</span> pymel.core <span class="hljs-keyword">as</span> pmmfn = OpenMaya.MFnMesh(pm.PyNode(<span class="hljs-string">&#x27;pSphere1&#x27;</span>).__apiobject__())<span class="hljs-keyword">print</span> mfn.numPolygons()<span class="hljs-comment"># 400</span><span class="hljs-keyword">print</span> mfn.numVertices()<span class="hljs-comment"># 382</span>point = OpenMaya.MPoint()mfn.getPoint(<span class="hljs-number">0</span>, point)<span class="hljs-keyword">print</span> point.x,point.y,point.z<span class="hljs-comment"># 0.148778125644 -0.987688362598 -0.0483409427106</span>mfn.getPoint(<span class="hljs-number">381</span>, point)<span class="hljs-keyword">print</span> point.x,point.y,point.z<span class="hljs-comment"># 0.0 1.0 0.0</span><span class="hljs-comment"># è®¾ç½®ç‚¹ä½ç½®</span>point = OpenMaya.MPoint(<span class="hljs-number">0</span>,<span class="hljs-number">2</span>,<span class="hljs-number">0</span>)mfn.setPoint(<span class="hljs-number">381</span>, point)iterator = OpenMaya.MItMeshVertex(pm.PyNode(<span class="hljs-string">&#x27;pSphereShape1&#x27;</span>).__apiobject__())<span class="hljs-keyword">while</span> <span class="hljs-keyword">not</span> iterator.isDone():Â Â Â Â Â Â Â Â <span class="hljs-comment"># æŸ¥è¯¢ç‚¹ä½ç½®</span>Â Â Â Â Â Â Â Â point = iterator.position()Â Â Â Â Â Â Â Â <span class="hljs-keyword">print</span> iterator.index(), point.x, point.y, point.zÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment"># è®¾ç½®ç‚¹ä½ç½®</span>Â Â Â Â Â Â Â Â point = OpenMaya.MPoint(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>)Â Â Â Â Â Â Â Â iterator.setPosition(point)Â Â Â Â Â Â Â Â iterator.next()</code></pre><p><img src="/2020/11/02/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%BA%8C%EF%BC%89/L25_2.png"></p><h3 id="ç»ƒä¹ -8"><a href="#ç»ƒä¹ -8" class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h3><p>ä½¿ç”¨MFnMeshå’ŒMItMeshé‡Œçš„è¿­ä»£å™¨ï¼Œå¯»æ‰¾ä¸¤ä¸ªç‰©ä½“ç©¿æ’çš„éƒ¨åˆ†ã€‚</p><h2 id="L26-Maya-API-ä¸­çš„æŒ‡é’ˆ-MScriptUtil"><a href="#L26-Maya-API-ä¸­çš„æŒ‡é’ˆ-MScriptUtil" class="headerlink" title="L26 Maya API ä¸­çš„æŒ‡é’ˆ - MScriptUtil"></a>L26 Maya API ä¸­çš„æŒ‡é’ˆ - MScriptUtil</h2><h3 id="MScriptUtil"><a href="#MScriptUtil" class="headerlink" title="MScriptUtil"></a>MScriptUtil</h3><p><img src="/2020/11/02/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%BA%8C%EF%BC%89/L26_1.png"></p><pre><code class="hljs python"><span class="hljs-keyword">import</span> maya.OpenMaya <span class="hljs-keyword">as</span> OpenMaya<span class="hljs-keyword">import</span> pymel.core <span class="hljs-keyword">as</span> pmiterator = OpenMaya.MItMeshVertex(pm.PyNode(<span class="hljs-string">&#x27;pSphereShape1&#x27;</span>).__apimobject__())<span class="hljs-comment"># å®šä¹‰float2ç±»å‹æŒ‡é’ˆ</span>s_util = OpenMaya.MScriptUtil()uv_ptr = s_util.asFloat2Ptr()<span class="hljs-keyword">while</span> <span class="hljs-keyword">not</span> iterator.isDone():Â Â Â Â Â Â Â Â <span class="hljs-comment"># æ‰“å°å‡ºæ¯ä¸ªç‚¹çš„uvå€¼</span>Â Â Â Â Â Â Â Â <span class="hljs-keyword">print</span> iterator.index(),Â Â Â Â Â Â Â Â iterator.getUV(uv_ptr)Â Â Â Â Â Â Â Â <span class="hljs-keyword">print</span> s_util.getFloat2ArrayItem(uv_ptr, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>),Â Â Â Â Â Â Â Â <span class="hljs-keyword">print</span> s_util.getFloat2ArrayItem(uv_ptr, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>)Â Â Â Â Â Â Â Â iterator.next()</code></pre><h3 id="ç»ƒä¹ -9"><a href="#ç»ƒä¹ -9" class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h3><p><img src="/2020/11/02/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%BA%8C%EF%BC%89/L26_2.png"></p><h2 id="L27-Maya-API-ä¸­çš„äº‹ä»¶æ•è·-MMessage"><a href="#L27-Maya-API-ä¸­çš„äº‹ä»¶æ•è·-MMessage" class="headerlink" title="L27 Maya API ä¸­çš„äº‹ä»¶æ•è· - MMessage"></a>L27 Maya API ä¸­çš„äº‹ä»¶æ•è· - MMessage</h2><h3 id="Message"><a href="#Message" class="headerlink" title="Message"></a>Message</h3><p><img src="/2020/11/02/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%BA%8C%EF%BC%89/L27_1.png"></p><pre><code class="hljs python"><span class="hljs-keyword">import</span> maya.OpenMaya <span class="hljs-keyword">as</span> OpenMaya<span class="hljs-keyword">import</span> pymel.core <span class="hljs-keyword">as</span> pm<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">func</span>(<span class="hljs-params">*args</span>):</span>Â Â Â Â Â Â Â Â <span class="hljs-keyword">print</span> <span class="hljs-number">1</span><span class="hljs-comment"># æ·»åŠ æ—¶é—´è§¦å‘äº‹ä»¶    </span>callback_id = OpenMaya.MTimerMessage.addTimerCallback(<span class="hljs-number">2</span>, func)<span class="hljs-comment"># ç§»é™¤æ—¶é—´è§¦å‘äº‹ä»¶</span>OpenMaya.MTimerMessage.removeCallback(callback_id)<span class="hljs-comment"># è·å–å¯ä»¥è°ƒç”¨çš„äº‹ä»¶ç§ç±»</span>event_names = list()OpenMaya.MEventMessage.getEventNames(event_names)<span class="hljs-keyword">print</span> event_names()<span class="hljs-comment"># åˆ›å»ºæ—¶é—´è½´å˜åŒ–äº‹ä»¶</span>callback_id = OpenMaya.MEventMessage.addEventCallback(<span class="hljs-string">&#x27;timeChanged&#x27;</span>,func)<span class="hljs-comment"># ç§»é™¤æ—¶é—´è½´å˜åŒ–äº‹ä»¶</span>OpenMaya.MTimerMessage.removeCallback()</code></pre><h3 id="Messageä½¿ç”¨æ–¹æ³•"><a href="#Messageä½¿ç”¨æ–¹æ³•" class="headerlink" title="Messageä½¿ç”¨æ–¹æ³•"></a>Messageä½¿ç”¨æ–¹æ³•</h3><ol><li>å®šä¹‰å‡½æ•°</li><li>addCallback</li><li>removeCallback</li></ol><h3 id="ç»ƒä¹ -10"><a href="#ç»ƒä¹ -10" class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h3><p>ä½¿ç”¨MSceneMessageåˆ›å»ºä¸€ä¸ªäº‹ä»¶ï¼Œå½“æ–‡ä»¶referenceåˆ›å»ºå®Œæˆä¹‹åï¼Œä¿®æ”¹å®ƒçš„namespaceã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Maya</category>
      
      <category>Mayaå¼€å‘å®è·µè¯¾</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MAYA</tag>
      
      <tag>SCRIPT</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Mayaå¼€å‘å®è·µè¯¾ï¼ˆä¸€ï¼‰</title>
    <link href="/2020/10/30/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%B8%80%EF%BC%89/"/>
    <url>/2020/10/30/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%B8%80%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<h2 id="L0-åˆè¯†å¸®åŠ©æ–‡æ¡£"><a href="#L0-åˆè¯†å¸®åŠ©æ–‡æ¡£" class="headerlink" title="L0 åˆè¯†å¸®åŠ©æ–‡æ¡£"></a>L0 åˆè¯†å¸®åŠ©æ–‡æ¡£</h2><ul><li>Mayaè„šæœ¬ç¼–è¾‘å™¨</li><li>Mayaå¸®åŠ©æ–‡æ¡£çš„æŸ¥é˜…æ–¹æ³•</li><li>Melä¸Pythonå†™æ³•åŒºåˆ«</li></ul><h3 id="ç»ƒä¹ "><a href="#ç»ƒä¹ " class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h3><p><img src="/2020/10/30/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%B8%80%EF%BC%89/L0_prac.png"></p><pre><code class="hljs python"><span class="hljs-keyword">import</span> maya.cmds <span class="hljs-keyword">as</span> cmdscmds.circle()cmds.circle(r=<span class="hljs-number">2</span>)cmds.circle(r=<span class="hljs-number">2</span>,nr=(<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>))cmds.curve(d=<span class="hljs-number">1</span>,p=[(<span class="hljs-number">-2</span>,<span class="hljs-number">0</span>,<span class="hljs-number">-2</span>),(<span class="hljs-number">3</span>,<span class="hljs-number">0</span>,<span class="hljs-number">-2</span>),(<span class="hljs-number">-2</span>,<span class="hljs-number">0</span>,<span class="hljs-number">3</span>),(<span class="hljs-number">-2</span>,<span class="hljs-number">0</span>,<span class="hljs-number">-2</span>)])</code></pre><h2 id="L1-è·å–åœºæ™¯å†…æ“ä½œå¯¹è±¡"><a href="#L1-è·å–åœºæ™¯å†…æ“ä½œå¯¹è±¡" class="headerlink" title="L1 è·å–åœºæ™¯å†…æ“ä½œå¯¹è±¡"></a>L1 è·å–åœºæ™¯å†…æ“ä½œå¯¹è±¡</h2><ol><li><p>ä»€ä¹ˆæ—¶å€™ç”¨åˆ°è·å–æ“ä½œå¯¹è±¡ï¼Ÿ</p><ol><li>å½“æˆ‘ä»¬éœ€è¦å¯¹ç‰©ä½“è¿›è¡Œæ“ä½œæ—¶</li><li>ç»™ç‰©ä½“åˆ†ç»„ã€åˆ†ç±»</li></ol></li><li><p>å¯ä»¥é€šè¿‡ä»€ä¹ˆé€”å¾„è·å–å¯¹è±¡ï¼Ÿ</p><ol><li>é€šè¿‡å¯¹è±¡åå­—</li><li>æŒ‰ç…§ç±»å‹æ‰¾åˆ°ä¸€ç±»ç‰©ä½“</li><li>é€šè¿‡UUIDæ‰¾åˆ°å›ºå®šå¯¹è±¡ï¼ˆmayaä¸­åå­—å¯èƒ½é‡å¤åˆï¼Œä½†UUIDæ˜¯å”¯ä¸€çš„ï¼‰</li></ol></li></ol><h3 id="ls-è·å–å¯¹è±¡"><a href="#ls-è·å–å¯¹è±¡" class="headerlink" title="ls è·å–å¯¹è±¡"></a>ls è·å–å¯¹è±¡</h3><table><thead><tr><th>å‘½ä»¤</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>cmds.ls()</td><td>åˆ—ä¸¾åœºæ™¯å†…çš„æ‰€æœ‰èŠ‚ç‚¹</td></tr><tr><td>cmds.ls(sl=1)</td><td>åˆ—ä¸¾é€‰æ‹©çš„èŠ‚ç‚¹</td></tr><tr><td>cmds.ls(typ=â€™meshâ€™)</td><td>åˆ—ä¸¾æ‰€æœ‰ç±»å‹ä¸ºâ€™meshâ€™çš„èŠ‚ç‚¹åœ¨pythonä¸­ï¼Œtypeæ˜¯å¯ä»¥çœ‹ä¸€ä¸ªå®ä¾‹æˆ–å˜é‡çš„ç±»å‹ï¼Œåœ¨mayaä¸­ä¸ºäº†é¿å…å†²çªï¼Œå› æ­¤ä½¿ç”¨typç®€ç§°</td></tr><tr><td>cmds.ls(typ=(â€˜meshâ€™,â€™nurbsCurveâ€™))</td><td>ä½¿ç”¨å…ƒç»„åŒæ—¶åˆ—ä¸¾å¤šé‡ç±»å‹çš„ç‰©ä½“</td></tr><tr><td>cmds.ls(typ=â€™meshâ€™,long=1)</td><td>ä½¿ç”¨longå‚æ•°åˆ—ä¸¾å‡ºé•¿å</td></tr><tr><td>cmds.ls(et=â€™transformâ€™)</td><td>åˆ—ä¸¾ä¸å«éª¨éª¼å’Œå…¶ä»–ä»transformæ‹“å±•è€Œæ¥çš„transformç±»å‹èŠ‚ç‚¹</td></tr><tr><td>cmds.ls(ext=â€™transformâ€™)</td><td>åˆ—ä¸¾é™¤äº†transformèŠ‚ç‚¹ä»¥å¤–çš„å…¶ä»–èŠ‚ç‚¹</td></tr><tr><td>cmds.ls(â€˜*_cn_*â€˜)</td><td>åˆ—ä¸¾åå­—ä¸­å«æœ‰â€™<em>cn</em>â€˜çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œ*ä»£è¡¨æ— æ•°ä¸ªå­—ç¬¦ï¼Œ?ä»£è¡¨ä¸€ä¸ªå­—ç¬¦</td></tr><tr><td>cmds.ls(â€˜å…·ä½“uuidæ•°å€¼â€™)</td><td>è·å–å…·ä½“uuidçš„ç‰©ä½“</td></tr></tbody></table><ul><li>lså‘½ä»¤è¯¦è§£<br> <img src="/2020/10/30/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%B8%80%EF%BC%89/L1_command.png"></li></ul><h3 id="rename-æ›´æ”¹èŠ‚ç‚¹åå­—å‘½ä»¤"><a href="#rename-æ›´æ”¹èŠ‚ç‚¹åå­—å‘½ä»¤" class="headerlink" title="rename æ›´æ”¹èŠ‚ç‚¹åå­—å‘½ä»¤"></a>rename æ›´æ”¹èŠ‚ç‚¹åå­—å‘½ä»¤</h3><p>ä½¿ç”¨æ–¹æ³•ï¼š</p><pre><code class="hljs python">cmds.rename(oldName,newName)</code></pre><p>è¿”å›ç±»å‹ï¼š</p><p>&emsp;&emsp;èŠ‚ç‚¹æ–°åç§°</p><h3 id="ç»ƒä¹ -1"><a href="#ç»ƒä¹ -1" class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h3><p><img src="/2020/10/30/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%B8%80%EF%BC%89/L1_prac.png"></p><pre><code class="hljs python">cam_sh = cmds.ls(cameras=<span class="hljs-number">1</span>)f_sh = list(set(cmds.ls(shapes=<span class="hljs-number">1</span>)).difference(set(cam_sh)))<span class="hljs-keyword">for</span> f <span class="hljs-keyword">in</span> f_sh:Â Â Â Â Â Â Â Â new_name = <span class="hljs-string">&#x27;nurbs_&#123;&#125;&#x27;</span>.format(f)Â Â Â Â Â Â Â Â cmds.rename(f,new_name)</code></pre><p><img src="/2020/10/30/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%B8%80%EF%BC%89/L1_prac1.png"> <img src="/2020/10/30/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%B8%80%EF%BC%89/L1_prac2.png"></p><h2 id="L2-è·å–ã€æ”¹å˜åœºæ™¯å†…å±‚çº§å…³ç³»"><a href="#L2-è·å–ã€æ”¹å˜åœºæ™¯å†…å±‚çº§å…³ç³»" class="headerlink" title="L2 è·å–ã€æ”¹å˜åœºæ™¯å†…å±‚çº§å…³ç³»"></a>L2 è·å–ã€æ”¹å˜åœºæ™¯å†…å±‚çº§å…³ç³»</h2><ol><li>ä¸ºä»€ä¹ˆè¦å¤„ç†å±‚çº§å…³ç³»ï¼Ÿ<ol><li>è§„èŒƒæ–‡ä»¶å±‚çº§</li><li>ä¾¿äºå·¥å…·è¯†åˆ«</li><li>ä¾¿äºäººå·¥æ•´ç†</li></ol></li></ol><h3 id="listRelativeså‘½ä»¤ç¤ºä¾‹"><a href="#listRelativeså‘½ä»¤ç¤ºä¾‹" class="headerlink" title="listRelativeså‘½ä»¤ç¤ºä¾‹"></a>listRelativeså‘½ä»¤ç¤ºä¾‹</h3><table><thead><tr><th>å‘½ä»¤</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>cmds.listRelatives(â€˜Mery_grpâ€™,p=1)</td><td>è·å–â€™Mery_grpâ€™çš„çˆ¶å±‚çº§ç‰©ä½“ p-parent</td></tr><tr><td>cmds.listRelatives(â€˜Mery_grpâ€™,c=1)</td><td>è·å–â€™Mery_grpâ€™çš„å­å±‚çº§ç‰©ä½“ c-children</td></tr><tr><td>cmds.listRelatives(â€˜Mery_grpâ€™,ad=1)</td><td>è·å–â€™Mery_grpâ€™çš„æ‰€æœ‰å­ç‰©ä½“ ad-allDescendents</td></tr><tr><td>cmds.listRelatives(â€˜Mery_grpâ€™,ad=1,typ=â€™jointâ€™)</td><td>è·å–â€™Mery_grpâ€™çš„æ‰€æœ‰ç±»å‹ä¸ºéª¨éª¼çš„å­ç‰©ä½“</td></tr><tr><td>cmds.listRelatives(â€˜Mery_grpâ€™,ad=1,f=1)</td><td>è·å–â€™Mery_grpâ€™çš„æ‰€æœ‰å­ç‰©ä½“çš„é•¿å f-fullPath</td></tr><tr><td>cmds.parent(â€˜pSphere1â€™,â€™Mery_grpâ€™)</td><td>æŠŠâ€™pSphere1â€™ç‰©ä½“æ”¾åˆ°â€™Mery_grpâ€™å±‚çº§ä¸‹</td></tr><tr><td>cmds.parent(â€˜pSphere1â€™,world=1)</td><td>æŠŠâ€™pSphere1â€™ç‰©ä½“æ”¾åˆ°ä¸–ç•Œå±‚çº§ä¸‹</td></tr><tr><td>cmds.group(cmd.ls(sl=1),name=â€™ball_grpâ€™)</td><td>æŠŠé€‰æ‹©çš„ç‰©ä½“æ‰“ç»„ï¼Œç»„åä¸ºâ€™ball_grpâ€™</td></tr></tbody></table><h3 id="listRelativeså‘½ä»¤å‚æ•°è¯´æ˜"><a href="#listRelativeså‘½ä»¤å‚æ•°è¯´æ˜" class="headerlink" title="listRelativeså‘½ä»¤å‚æ•°è¯´æ˜"></a>listRelativeså‘½ä»¤å‚æ•°è¯´æ˜</h3><p><img src="/2020/10/30/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%B8%80%EF%BC%89/L2_command1.png"></p><h3 id="parentå‘½ä»¤å‚æ•°è¯´æ˜"><a href="#parentå‘½ä»¤å‚æ•°è¯´æ˜" class="headerlink" title="parentå‘½ä»¤å‚æ•°è¯´æ˜"></a>parentå‘½ä»¤å‚æ•°è¯´æ˜</h3><p><img src="/2020/10/30/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%B8%80%EF%BC%89/L2_command2.png"></p><h3 id="groupå‘½ä»¤å‚æ•°è¯´æ˜"><a href="#groupå‘½ä»¤å‚æ•°è¯´æ˜" class="headerlink" title="groupå‘½ä»¤å‚æ•°è¯´æ˜"></a>groupå‘½ä»¤å‚æ•°è¯´æ˜</h3><p><img src="/2020/10/30/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%B8%80%EF%BC%89/L2_command3.png"></p><h3 id="ç»ƒä¹ -2"><a href="#ç»ƒä¹ -2" class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h3><p>æ ¹æ®ç‰©ä½“ç±»å‹ï¼Œç»™ç‰©ä½“åˆ†ç»„ã€‚</p><pre><code class="hljs python">dag_objs = cmds.ls(dagObjects=<span class="hljs-number">1</span>,shapes=<span class="hljs-number">1</span>)cam_objs = [<span class="hljs-string">u&#x27;frontShape&#x27;</span>, <span class="hljs-string">u&#x27;perspShape&#x27;</span>, <span class="hljs-string">u&#x27;sideShape&#x27;</span>, <span class="hljs-string">u&#x27;topShape&#x27;</span>]sort_objs = list(set(dag_objs).difference(set(cam_objs)))<span class="hljs-keyword">for</span> obj <span class="hljs-keyword">in</span> sort_objs:Â Â Â Â Â Â Â Â typ_name = cmds.nodeType(obj)Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> cmds.objExists(typ_name):Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â cmds.group(name=typ_name,empty=<span class="hljs-number">1</span>,world=<span class="hljs-number">1</span>)Â Â Â Â Â Â Â Â cmds.parent(cmds.listRelatives(obj,parent=<span class="hljs-number">1</span>)[<span class="hljs-number">0</span>],typ_name)</code></pre><p><img src="/2020/10/30/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%B8%80%EF%BC%89/L2_prac1.png"></p><h2 id="L3-è·å–ã€æ›´æ”¹ç‰©ä½“ä½ç½®"><a href="#L3-è·å–ã€æ›´æ”¹ç‰©ä½“ä½ç½®" class="headerlink" title="L3 è·å–ã€æ›´æ”¹ç‰©ä½“ä½ç½®"></a>L3 è·å–ã€æ›´æ”¹ç‰©ä½“ä½ç½®</h2><ul><li>å˜æ¢å±æ€§ï¼šç§»åŠ¨ã€æ—‹è½¬ã€ç¼©æ”¾</li><li>è‡ªèº«åæ ‡ä¸ä¸–ç•Œåæ ‡</li></ul><h3 id="å‘½ä»¤ç¤ºä¾‹"><a href="#å‘½ä»¤ç¤ºä¾‹" class="headerlink" title="å‘½ä»¤ç¤ºä¾‹"></a>å‘½ä»¤ç¤ºä¾‹</h3><table><thead><tr><th>å‘½ä»¤</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>cmds.move(0,1,0,â€™pCube1â€™,r=1)</td><td>â€˜pCube1â€™ç‰©ä½“å‘Yè½´ç§»åŠ¨1å•ä½ r-relative(è‡ªèº«åæ ‡)</td></tr><tr><td>cmds.move(0,1,0,â€™pCube1â€™,a=1)</td><td>â€˜pCube1â€™ç‰©ä½“ç§»åŠ¨åˆ°(0,1,0)ä½ç½® a-absolute(ä¸–ç•Œåæ ‡)</td></tr><tr><td>cmds.rotate(0,10,0,â€™pCube1â€™,r=1)</td><td>â€˜pCube1â€™ç‰©ä½“å‘Yè½´æ—‹è½¬10åº¦ r-relative(è‡ªèº«åæ ‡)</td></tr><tr><td>cmds.rotate(0,10,0,â€™pCube1â€™,a=1)</td><td>â€˜pCube1â€™ç‰©ä½“Yè½´æ—‹è½¬åˆ°10åº¦ a-absolute(ä¸–ç•Œåæ ‡)</td></tr><tr><td>cmds.scale(1,5,1,â€™pCube1â€™,r=1)</td><td>â€˜pCube1â€™ç‰©ä½“Yè½´æ–¹å‘æ”¾å¤§5å€ r-relative(è‡ªèº«åæ ‡)</td></tr><tr><td>cmds.scale(1,1,1,â€™pCube1â€™,a=1)</td><td>â€˜pCube1â€™ç‰©ä½“æ¢å¤é»˜è®¤ç¼©æ”¾çŠ¶æ€ a-absolute(ä¸–ç•Œåæ ‡)</td></tr></tbody></table><h3 id="åˆ©ç”¨xformä¼ é€’ä½ç§»ã€æ—‹è½¬ã€ç¼©æ”¾ä¿¡æ¯ï¼ˆè‡ªèº«åæ ‡ï¼‰"><a href="#åˆ©ç”¨xformä¼ é€’ä½ç§»ã€æ—‹è½¬ã€ç¼©æ”¾ä¿¡æ¯ï¼ˆè‡ªèº«åæ ‡ï¼‰" class="headerlink" title="åˆ©ç”¨xformä¼ é€’ä½ç§»ã€æ—‹è½¬ã€ç¼©æ”¾ä¿¡æ¯ï¼ˆè‡ªèº«åæ ‡ï¼‰"></a>åˆ©ç”¨xformä¼ é€’ä½ç§»ã€æ—‹è½¬ã€ç¼©æ”¾ä¿¡æ¯ï¼ˆè‡ªèº«åæ ‡ï¼‰</h3><pre><code class="hljs python">loc_tx = cmds.xform(<span class="hljs-string">&#x27;locator1&#x27;</span>,q=<span class="hljs-number">1</span>,t=<span class="hljs-number">1</span>)cmds.xform(<span class="hljs-string">&#x27;pSphere1&#x27;</span>,t=loc_tx)</code></pre><p><img src="/2020/10/30/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%B8%80%EF%BC%89/L3_1.gif"></p><h3 id="åˆ©ç”¨xformä¼ é€’ä½ç§»ã€æ—‹è½¬ã€ç¼©æ”¾ä¿¡æ¯ï¼ˆä¸–ç•Œåæ ‡ï¼‰"><a href="#åˆ©ç”¨xformä¼ é€’ä½ç§»ã€æ—‹è½¬ã€ç¼©æ”¾ä¿¡æ¯ï¼ˆä¸–ç•Œåæ ‡ï¼‰" class="headerlink" title="åˆ©ç”¨xformä¼ é€’ä½ç§»ã€æ—‹è½¬ã€ç¼©æ”¾ä¿¡æ¯ï¼ˆä¸–ç•Œåæ ‡ï¼‰"></a>åˆ©ç”¨xformä¼ é€’ä½ç§»ã€æ—‹è½¬ã€ç¼©æ”¾ä¿¡æ¯ï¼ˆä¸–ç•Œåæ ‡ï¼‰</h3><pre><code class="hljs python">loc_tx = cmds.xform(<span class="hljs-string">&#x27;locator1&#x27;</span>,q=<span class="hljs-number">1</span>,t=<span class="hljs-number">1</span>)cmds.xform(<span class="hljs-string">&#x27;pSphere1&#x27;</span>,t=loc_tx,ws=<span class="hljs-number">1</span>)</code></pre><p><img src="/2020/10/30/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%B8%80%EF%BC%89/L3_2.gif"></p><h3 id="xformå‘½ä»¤å‚æ•°è¯´æ˜"><a href="#xformå‘½ä»¤å‚æ•°è¯´æ˜" class="headerlink" title="xformå‘½ä»¤å‚æ•°è¯´æ˜"></a>xformå‘½ä»¤å‚æ•°è¯´æ˜</h3><p><img src="/2020/10/30/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%B8%80%EF%BC%89/L3_command.png"></p><h3 id="ç»ƒä¹ -3"><a href="#ç»ƒä¹ -3" class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h3><p>ä½¿ç”¨ xform åŒ¹é…ä¸¤ä¸ªè§’è‰²çš„poseä¿¡æ¯</p><p>æ€è·¯ï¼šåŒä¸€ä¸ªè§’è‰²referenceä¸¤æ¬¡ï¼Œç»™ä¸€ä¸ªè§’è‰²æ‘†å¥½poseä¹‹åï¼Œè®©å¦ä¸€ä¸ªè§’è‰²è¿›è¡Œposeçš„åŒ¹é…ã€‚</p><pre><code class="hljs python">sel1,sel2 = cmds.ls(sl=<span class="hljs-number">1</span>)<span class="hljs-keyword">import</span> pymel.core <span class="hljs-keyword">as</span> pmsel1_ns = pm.PyNode(sel1).namespace()sel2_ns = pm.PyNode(sel2).namespace()<span class="hljs-keyword">for</span> n_curve <span class="hljs-keyword">in</span> cmds.listRelatives(sel1,allDescendents=<span class="hljs-number">1</span>,typ=<span class="hljs-string">&#x27;nurbsCurve&#x27;</span>,fullPath=<span class="hljs-number">1</span>):Â Â Â Â Â Â Â Â n_curve = cmds.listRelatives(n_curve,parent=<span class="hljs-number">1</span>)[<span class="hljs-number">0</span>]Â Â Â Â Â Â Â Â n_tx = cmds.xform(n_curve,q=<span class="hljs-number">1</span>,translation=<span class="hljs-number">1</span>)Â Â Â Â Â Â Â Â n_ro = cmds.xform(n_curve,q=<span class="hljs-number">1</span>,rotation=<span class="hljs-number">1</span>)Â Â Â Â Â Â Â Â cmds.xform(n_curve.replace(sel1_ns,sel2_ns),translation=n_tx,rotation=n_ro)</code></pre><p><img src="/2020/10/30/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%B8%80%EF%BC%89/L3_3.gif"></p><h2 id="L4-ä»æ— åˆ°æœ‰åˆ›å»ºèŠ‚ç‚¹"><a href="#L4-ä»æ— åˆ°æœ‰åˆ›å»ºèŠ‚ç‚¹" class="headerlink" title="L4 ä»æ— åˆ°æœ‰åˆ›å»ºèŠ‚ç‚¹"></a>L4 ä»æ— åˆ°æœ‰åˆ›å»ºèŠ‚ç‚¹</h2><h3 id="åˆ›å»ºä¸€ä¸ªçƒä½“"><a href="#åˆ›å»ºä¸€ä¸ªçƒä½“" class="headerlink" title="åˆ›å»ºä¸€ä¸ªçƒä½“"></a>åˆ›å»ºä¸€ä¸ªçƒä½“</h3><pre><code class="hljs python">improt maya.cmds <span class="hljs-keyword">as</span> cmdscmds.polySphere()cmds.polySphere(r=<span class="hljs-number">2</span>,sx=<span class="hljs-number">10</span>,sy=<span class="hljs-number">5</span>)</code></pre><h3 id="åˆ›å»ºä¸€ä¸ªåœ†ç¯"><a href="#åˆ›å»ºä¸€ä¸ªåœ†ç¯" class="headerlink" title="åˆ›å»ºä¸€ä¸ªåœ†ç¯"></a>åˆ›å»ºä¸€ä¸ªåœ†ç¯</h3><pre><code class="hljs python">cmds.circle()cmds.circle(r=<span class="hljs-number">10</span>,s=<span class="hljs-number">20</span>,nr=(<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>))</code></pre><h3 id="åˆ›å»ºä¸€æ¡æ›²çº¿"><a href="#åˆ›å»ºä¸€æ¡æ›²çº¿" class="headerlink" title="åˆ›å»ºä¸€æ¡æ›²çº¿"></a>åˆ›å»ºä¸€æ¡æ›²çº¿</h3><pre><code class="hljs python">cmds.curve(d=<span class="hljs-number">1</span>,p=[[<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>],[<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>],[<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>]]</code></pre><h3 id="åˆ›å»ºéª¨éª¼"><a href="#åˆ›å»ºéª¨éª¼" class="headerlink" title="åˆ›å»ºéª¨éª¼"></a>åˆ›å»ºéª¨éª¼</h3><pre><code class="hljs python">cmds.joint(p=(<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>))<span class="hljs-comment"># ! å¦‚æœé€‰æ‹©äº†ç‰©ä½“ï¼Œä¼šåœ¨ç‰©ä½“å±‚çº§ä¸‹åˆ›å»ºéª¨éª¼</span><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">10</span>):    cmds.joint(p=(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,i))</code></pre><p><img src="/2020/10/30/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%B8%80%EF%BC%89/L4_1.png"><br><img src="/2020/10/30/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%B8%80%EF%BC%89/L4_2.png"></p><h3 id="åˆ›å»ºèŠ‚ç‚¹"><a href="#åˆ›å»ºèŠ‚ç‚¹" class="headerlink" title="åˆ›å»ºèŠ‚ç‚¹"></a>åˆ›å»ºèŠ‚ç‚¹</h3><pre><code class="hljs python">cmds.createNode(<span class="hljs-string">&#x27;joint&#x27;</span>)<span class="hljs-comment"># ! ä½¿ç”¨è¿™ç§æ–¹å¼åˆ›å»ºéª¨éª¼ä¸ä¼šè‡ªåŠ¨ä¿®æ­£å±‚çº§</span><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">10</span>):    cmds.createNode(<span class="hljs-string">&#x27;joint&#x27;</span>)</code></pre><p><img src="/2020/10/30/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%B8%80%EF%BC%89/L4_3.png"></p><pre><code class="hljs python"><span class="hljs-comment"># !å½“ç±»å‹ä¸ºmeshæ—¶ï¼Œmeshä¸º0ä¸ªç‚¹ï¼Œ0ä¸ªçº¿ï¼Œ0ä¸ªé¢ï¼Œæ˜¯ä¸€ä¸ªç©ºçš„èŠ‚ç‚¹</span>cmds.createNode(<span class="hljs-string">&#x27;mesh&#x27;</span>)<span class="hljs-comment"># ! åˆ›å»ºé¢œè‰²èåˆèŠ‚ç‚¹</span>cmds.createNode(<span class="hljs-string">&#x27;blendColors&#x27;</span>)<span class="hljs-comment"># ! åˆ›å»ºä¹˜é™¤èŠ‚ç‚¹</span>cmds.createNode(<span class="hljs-string">&#x27;mutiplyDivide&#x27;</span>)</code></pre><h3 id="createNodeå‘½ä»¤å‚æ•°è¯´æ˜"><a href="#createNodeå‘½ä»¤å‚æ•°è¯´æ˜" class="headerlink" title="createNodeå‘½ä»¤å‚æ•°è¯´æ˜"></a>createNodeå‘½ä»¤å‚æ•°è¯´æ˜</h3><p><img src="/2020/10/30/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%B8%80%EF%BC%89/L4_4.png"></p><h3 id="ç»ƒä¹ -4"><a href="#ç»ƒä¹ -4" class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h3><p>è‡ªå·±ç”¨ç»†åˆ†æ®µæ•°ä¸º1çš„æ›²çº¿ç”»ä¸€ä¸ªå›¾æ¡ˆï¼Œç„¶åè½¬æ¢æˆä»£ç å®ç°ã€‚</p><p>melç”Ÿæˆçš„å‘½ä»¤</p><pre><code class="hljs mel"><span class="hljs-keyword">curve</span> -d <span class="hljs-number">3</span> -p <span class="hljs-number">-0.839395</span> <span class="hljs-number">1.792949</span> <span class="hljs-number">0</span> -p <span class="hljs-number">-0.604013</span> <span class="hljs-number">1.974062</span> <span class="hljs-number">0</span> -p <span class="hljs-number">-0.133248</span> <span class="hljs-number">2.336288</span> <span class="hljs-number">0</span> -p <span class="hljs-number">1.251516</span> <span class="hljs-number">2.03705</span> <span class="hljs-number">0</span> -p <span class="hljs-number">1.21112</span> <span class="hljs-number">1.72368</span> <span class="hljs-number">0</span> -p <span class="hljs-number">2.002488</span> <span class="hljs-number">1.503595</span> <span class="hljs-number">0</span> -p <span class="hljs-number">1.456035</span> <span class="hljs-number">1.327409</span> <span class="hljs-number">0</span> -p <span class="hljs-number">1.480586</span> <span class="hljs-number">0.560018</span> <span class="hljs-number">0</span> -p <span class="hljs-number">1.928836</span> <span class="hljs-number">0.340742</span> <span class="hljs-number">0</span> -p <span class="hljs-number">1.158852</span> <span class="hljs-number">0.0512701</span> <span class="hljs-number">0</span> -p <span class="hljs-number">2.1789</span> <span class="hljs-number">-0.666696</span> <span class="hljs-number">0</span> -p <span class="hljs-number">2.57546</span> <span class="hljs-number">-1.21213</span> <span class="hljs-number">0</span> -p <span class="hljs-number">1.419647</span> <span class="hljs-number">-1.938615</span> <span class="hljs-number">0</span> -p <span class="hljs-number">1.294912</span> <span class="hljs-number">-2.516338</span> <span class="hljs-number">0</span> -p <span class="hljs-number">0.935117</span> <span class="hljs-number">-2.299332</span> <span class="hljs-number">0</span> -p <span class="hljs-number">0.80681</span> <span class="hljs-number">-1.944977</span> <span class="hljs-number">0</span> -p <span class="hljs-number">1.035179</span> <span class="hljs-number">-2.048344</span> <span class="hljs-number">0</span> -p <span class="hljs-number">-0.636392</span> <span class="hljs-number">-1.989231</span> <span class="hljs-number">0</span> -p <span class="hljs-number">-1.108525</span> <span class="hljs-number">-2.525225</span> <span class="hljs-number">0</span> -p <span class="hljs-number">-1.335772</span> <span class="hljs-number">-2.213165</span> <span class="hljs-number">0</span> -p <span class="hljs-number">-1.163381</span> <span class="hljs-number">-1.797263</span> <span class="hljs-number">0</span> -p <span class="hljs-number">-0.739298</span> <span class="hljs-number">-0.549653</span> <span class="hljs-number">0</span> -p <span class="hljs-number">-0.835217</span> <span class="hljs-number">-1.121078</span> <span class="hljs-number">0</span> -p <span class="hljs-number">-1.762025</span> <span class="hljs-number">-1.211135</span> <span class="hljs-number">0</span> -p <span class="hljs-number">-0.456917</span> <span class="hljs-number">0.20401</span> <span class="hljs-number">0</span> -p <span class="hljs-number">-0.560278</span> <span class="hljs-number">-0.28985</span> <span class="hljs-number">0</span> -p <span class="hljs-number">-1.613106</span> <span class="hljs-number">0.270444</span> <span class="hljs-number">0</span> -p <span class="hljs-number">-1.005203</span> <span class="hljs-number">0.537676</span> <span class="hljs-number">0</span> -p <span class="hljs-number">-1.175259</span> <span class="hljs-number">1.567658</span> <span class="hljs-number">0</span> -p <span class="hljs-number">-1.344683</span> <span class="hljs-number">1.048434</span> <span class="hljs-number">0</span> -p <span class="hljs-number">-1.463913</span> <span class="hljs-number">2.256511</span> <span class="hljs-number">0</span> -p <span class="hljs-number">-0.736987</span> <span class="hljs-number">1.650197</span> <span class="hljs-number">0</span> -p <span class="hljs-number">-0.823166</span> <span class="hljs-number">1.709551</span> <span class="hljs-number">0</span> -p <span class="hljs-number">-0.866256</span> <span class="hljs-number">1.739227</span> <span class="hljs-number">0</span> -k <span class="hljs-number">0</span> -k <span class="hljs-number">0</span> -k <span class="hljs-number">0</span> -k <span class="hljs-number">1</span> -k <span class="hljs-number">2</span> -k <span class="hljs-number">3</span> -k <span class="hljs-number">4</span> -k <span class="hljs-number">5</span> -k <span class="hljs-number">6</span> -k <span class="hljs-number">7</span> -k <span class="hljs-number">8</span> -k <span class="hljs-number">9</span> -k <span class="hljs-number">10</span> -k <span class="hljs-number">11</span> -k <span class="hljs-number">12</span> -k <span class="hljs-number">13</span> -k <span class="hljs-number">14</span> -k <span class="hljs-number">15</span> -k <span class="hljs-number">16</span> -k <span class="hljs-number">17</span> -k <span class="hljs-number">18</span> -k <span class="hljs-number">19</span> -k <span class="hljs-number">20</span> -k <span class="hljs-number">21</span> -k <span class="hljs-number">22</span> -k <span class="hljs-number">23</span> -k <span class="hljs-number">24</span> -k <span class="hljs-number">25</span> -k <span class="hljs-number">26</span> -k <span class="hljs-number">27</span> -k <span class="hljs-number">28</span> -k <span class="hljs-number">29</span> -k <span class="hljs-number">30</span> -k <span class="hljs-number">31</span> -k <span class="hljs-number">31</span> -k <span class="hljs-number">31</span> ;</code></pre><p>è½¬æˆä»£ç å®ç°</p><pre><code class="hljs python">point_script = <span class="hljs-string">&#x27; -p -0.839395 1.792949 0 -p -0.604013 1.974062 0 -p -0.133248 2.336288 0 -p 1.251516 2.03705 0 -p 1.21112 1.72368 0 -p 2.002488 1.503595 0 -p 1.456035 1.327409 0 -p 1.480586 0.560018 0 -p 1.928836 0.340742 0 -p 1.158852 0.0512701 0 -p 2.1789 -0.666696 0 -p 2.57546 -1.21213 0 -p 1.419647 -1.938615 0 -p 1.294912 -2.516338 0 -p 0.935117 -2.299332 0 -p 0.80681 -1.944977 0 -p 1.035179 -2.048344 0 -p -0.636392 -1.989231 0 -p -1.108525 -2.525225 0 -p -1.335772 -2.213165 0 -p -1.163381 -1.797263 0 -p -0.739298 -0.549653 0 -p -0.835217 -1.121078 0 -p -1.762025 -1.211135 0 -p -0.456917 0.20401 0 -p -0.560278 -0.28985 0 -p -1.613106 0.270444 0 -p -1.005203 0.537676 0 -p -1.175259 1.567658 0 -p -1.344683 1.048434 0 -p -1.463913 2.256511 0 -p -0.736987 1.650197 0 -p -0.823166 1.709551 0 -p -0.866256 1.739227 0&#x27;</span>knot_script = <span class="hljs-string">&#x27; -k 0 -k 0 -k 0 -k 1 -k 2 -k 3 -k 4 -k 5 -k 6 -k 7 -k 8 -k 9 -k 10 -k 11 -k 12 -k 13 -k 14 -k 15 -k 16 -k 17 -k 18 -k 19 -k 20 -k 21 -k 22 -k 23 -k 24 -k 25 -k 26 -k 27 -k 28 -k 29 -k 30 -k 31 -k 31 -k 31&#x27;</span>point_list = point_script.split(<span class="hljs-string">&#x27; -p &#x27;</span>)knot_list = knot_script.split(<span class="hljs-string">&#x27; -k &#x27;</span>)xyz_list = []k_list = []<span class="hljs-keyword">for</span> point <span class="hljs-keyword">in</span> point_list:Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span> point == <span class="hljs-string">&#x27;&#x27;</span>:Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">continue</span>Â Â Â Â Â Â Â Â (x,y,z) = point.split(<span class="hljs-string">&#x27; &#x27;</span>)Â Â Â Â Â Â Â Â xyz_list.append((x,y,z))<span class="hljs-keyword">for</span> k <span class="hljs-keyword">in</span> knot_list:Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span> k == <span class="hljs-string">&#x27;&#x27;</span>:Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">continue</span>Â Â Â Â Â Â Â Â k_list.append(int(k))cmds.curve(d=<span class="hljs-number">3</span>,p=xyz_list,k=k_list)</code></pre><p>ä¿®æ”¹ï¼ˆkæ˜¯ä¸éœ€è¦çš„ï¼‰ï¼š</p><pre><code class="hljs python">point_script = <span class="hljs-string">&#x27; -p -0.839395 1.792949 0 -p -0.604013 1.974062 0 -p -0.133248 2.336288 0 -p 1.251516 2.03705 0 -p 1.21112 1.72368 0 -p 2.002488 1.503595 0 -p 1.456035 1.327409 0 -p 1.480586 0.560018 0 -p 1.928836 0.340742 0 -p 1.158852 0.0512701 0 -p 2.1789 -0.666696 0 -p 2.57546 -1.21213 0 -p 1.419647 -1.938615 0 -p 1.294912 -2.516338 0 -p 0.935117 -2.299332 0 -p 0.80681 -1.944977 0 -p 1.035179 -2.048344 0 -p -0.636392 -1.989231 0 -p -1.108525 -2.525225 0 -p -1.335772 -2.213165 0 -p -1.163381 -1.797263 0 -p -0.739298 -0.549653 0 -p -0.835217 -1.121078 0 -p -1.762025 -1.211135 0 -p -0.456917 0.20401 0 -p -0.560278 -0.28985 0 -p -1.613106 0.270444 0 -p -1.005203 0.537676 0 -p -1.175259 1.567658 0 -p -1.344683 1.048434 0 -p -1.463913 2.256511 0 -p -0.736987 1.650197 0 -p -0.823166 1.709551 0 -p -0.866256 1.739227 0&#x27;</span>point_list = point_script.split(<span class="hljs-string">&#x27; -p &#x27;</span>)xyz_list = []<span class="hljs-keyword">for</span> point <span class="hljs-keyword">in</span> point_list:Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span> point == <span class="hljs-string">&#x27;&#x27;</span>:Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">continue</span>Â Â Â Â Â Â Â Â (x,y,z) = point.split(<span class="hljs-string">&#x27; &#x27;</span>)Â Â Â Â Â Â Â Â xyz_list.append((x,y,z))cmds.curve(d=<span class="hljs-number">3</span>,p=xyz_list)</code></pre><h2 id="L5-èŠ‚ç‚¹ç±»å‹å’Œå±æ€§çš„è·å–"><a href="#L5-èŠ‚ç‚¹ç±»å‹å’Œå±æ€§çš„è·å–" class="headerlink" title="L5 èŠ‚ç‚¹ç±»å‹å’Œå±æ€§çš„è·å–"></a>L5 èŠ‚ç‚¹ç±»å‹å’Œå±æ€§çš„è·å–</h2><h3 id="è·å–é€‰æ‹©ç‰©ä½“çš„ç±»å‹nodeType"><a href="#è·å–é€‰æ‹©ç‰©ä½“çš„ç±»å‹nodeType" class="headerlink" title="è·å–é€‰æ‹©ç‰©ä½“çš„ç±»å‹nodeType"></a>è·å–é€‰æ‹©ç‰©ä½“çš„ç±»å‹nodeType</h3><pre><code class="hljs python"><span class="hljs-keyword">import</span> maya.cmds <span class="hljs-keyword">as</span> cmdssel = cmds.ls(sl=<span class="hljs-literal">True</span>)[<span class="hljs-number">0</span>]<span class="hljs-keyword">print</span> cmds.nodeType(sel)</code></pre><h3 id="è·å–ç‰©ä½“æ‰€æœ‰å±æ€§listAttr"><a href="#è·å–ç‰©ä½“æ‰€æœ‰å±æ€§listAttr" class="headerlink" title="è·å–ç‰©ä½“æ‰€æœ‰å±æ€§listAttr"></a>è·å–ç‰©ä½“æ‰€æœ‰å±æ€§listAttr</h3><pre><code class="hljs python">cmds.listAttr(<span class="hljs-string">&#x27;pCube1&#x27;</span>)</code></pre><h3 id="è·å–ç‰©ä½“å¯kå¸§å±æ€§"><a href="#è·å–ç‰©ä½“å¯kå¸§å±æ€§" class="headerlink" title="è·å–ç‰©ä½“å¯kå¸§å±æ€§"></a>è·å–ç‰©ä½“å¯kå¸§å±æ€§</h3><pre><code class="hljs python">cmds.listAttr(<span class="hljs-string">&#x27;pCube1&#x27;</span>,k=<span class="hljs-literal">True</span>)</code></pre><h3 id="è·å–ç‰©ä½“è‡ªå®šä¹‰å±æ€§"><a href="#è·å–ç‰©ä½“è‡ªå®šä¹‰å±æ€§" class="headerlink" title="è·å–ç‰©ä½“è‡ªå®šä¹‰å±æ€§"></a>è·å–ç‰©ä½“è‡ªå®šä¹‰å±æ€§</h3><pre><code class="hljs python"><span class="hljs-keyword">for</span> attr <span class="hljs-keyword">in</span> cmds.listAttr(box, k=<span class="hljs-literal">True</span>):   _at = <span class="hljs-string">&#x27;&#123;0&#125;.&#123;1&#125;&#x27;</span>.format(box, attr)</code></pre><p>Â Â Â Â Â Â Â Â </p><h3 id="æŸ¥è¯¢å±æ€§getAttr"><a href="#æŸ¥è¯¢å±æ€§getAttr" class="headerlink" title="æŸ¥è¯¢å±æ€§getAttr"></a>æŸ¥è¯¢å±æ€§getAttr</h3><pre><code class="hljs python">cmds.getAttr(_at)</code></pre><h3 id="ä¿®æ”¹å±æ€§setAttr"><a href="#ä¿®æ”¹å±æ€§setAttr" class="headerlink" title="ä¿®æ”¹å±æ€§setAttr"></a>ä¿®æ”¹å±æ€§setAttr</h3><pre><code class="hljs python"><span class="hljs-comment"># ! å½“è®¾ç½®çš„å±æ€§å€¼ä¸ºå­—ç¬¦ä¸²æ—¶ï¼Œéœ€è¦æ·»åŠ å­—ç¬¦ä¸²ç±»å‹</span>cmds.setAttr(_at, <span class="hljs-number">1</span>)cmds.setAttr(_at, <span class="hljs-string">&#x27;1&#x27;</span>, typ=<span class="hljs-string">&#x27;string&#x27;</span>)cmds.setAttr(_at, <span class="hljs-string">&#x27;1&#x27;</span>, typ=<span class="hljs-string">&#x27;string&#x27;</span>, l=<span class="hljs-number">1</span>)</code></pre><h3 id="ç»ƒä¹ -5"><a href="#ç»ƒä¹ -5" class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h3><p>è·å–é€‰æ‹©ç‰©ä½“çš„èŠ‚ç‚¹ç±»å‹å’Œå±æ€§ä¿¡æ¯ï¼Œå­˜å‚¨åˆ°æ–‡ä»¶é‡Œã€‚</p><p><font color="orange">æŠŠä¸€ä¸ªåœºæ™¯å†…éœ€è¦çš„ç‰©ä½“ï¼Œå¯¼å‡ºæˆä¸€ä¸ªjsonæ–‡ä»¶ï¼Œæ¯”å¦‚æ¸²æŸ“è®¾ç½®ã€æ‘„åƒæœºä¿¡æ¯ä¹‹ç±»çš„ï¼Œå­˜å‚¨åˆ°æ–‡ä»¶é‡Œï¼Œç„¶åä»å¦ä¸€ä¸ªæ–‡ä»¶é‡Œï¼Œå¯¼å…¥è¿™äº›å±æ€§è¿›è¡ŒçŠ¶æ€çš„å¤åˆ¶ã€‚</font></p><p>è¾“å‡ºå±æ€§</p><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<span class="hljs-keyword">import</span> jsonnode_name = <span class="hljs-string">&#x27;rmanGlobals&#x27;</span>all_attrs = cmds.listAttr(node_name, hasData=<span class="hljs-number">1</span>, output=<span class="hljs-number">1</span>)save_file = os.path.join(<span class="hljs-string">r&#x27;D:\td_tech\node_info&#x27;</span>, <span class="hljs-string">&#x27;&#123;&#125;.json&#x27;</span>.format(node_name))<span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(os.path.dirname(save_file)):Â Â Â Â Â Â Â Â os.makedirs(os.path.dirname(save_file))attr_dict = &#123;&#125;<span class="hljs-keyword">for</span> attr <span class="hljs-keyword">in</span> all_attrs:Â Â Â Â Â Â Â Â attr_name = <span class="hljs-string">&#x27;&#123;0&#125;.&#123;1&#125;&#x27;</span>.format(node_name, attr)Â Â Â Â Â Â Â Â attr_value = str(cmds.getAttr(<span class="hljs-string">&#x27;&#123;0&#125;.&#123;1&#125;&#x27;</span>.format(node_name, attr)))Â Â Â Â Â Â Â Â attr_dict[attr_name] = attr_value<span class="hljs-keyword">with</span> open(save_file, <span class="hljs-string">&#x27;w+&#x27;</span>) <span class="hljs-keyword">as</span> json_file:Â Â Â Â Â Â Â Â json_str = json.dumps(attr_dict, indent=<span class="hljs-number">4</span>)Â Â Â Â Â Â Â Â json_file.write(json_str)</code></pre><p>å¯¼å…¥å±æ€§ï¼ˆå±æ€§ç±»å‹é—®é¢˜æœªè§£å†³ï¼‰</p><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<span class="hljs-keyword">import</span> jsonnode_name = <span class="hljs-string">&#x27;rmanGlobals&#x27;</span>save_file = os.path.join(<span class="hljs-string">r&#x27;D:\td_tech\node_info&#x27;</span>, <span class="hljs-string">&#x27;&#123;&#125;.json&#x27;</span>.format(node_name))<span class="hljs-keyword">with</span> open(save_file, <span class="hljs-string">&#x27;r+&#x27;</span>) <span class="hljs-keyword">as</span> json_file:Â Â Â Â Â Â Â Â json_dict = json.load(json_file)Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span> attr_name, attr_value <span class="hljs-keyword">in</span> json_dict.items():Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â attr_type = cmds.getAttr(attr_name, type=<span class="hljs-literal">True</span>)</code></pre><h2 id="L6-èŠ‚ç‚¹åŠå…¶å±æ€§çš„æ–­å¼€å’Œè¿æ¥"><a href="#L6-èŠ‚ç‚¹åŠå…¶å±æ€§çš„æ–­å¼€å’Œè¿æ¥" class="headerlink" title="L6 èŠ‚ç‚¹åŠå…¶å±æ€§çš„æ–­å¼€å’Œè¿æ¥"></a>L6 èŠ‚ç‚¹åŠå…¶å±æ€§çš„æ–­å¼€å’Œè¿æ¥</h2><p><font color="orange">æ¯ä¸€ä¸ªåœºæ™¯èµ„äº§ï¼Œéƒ½æ˜¯é€šè¿‡èŠ‚ç‚¹ä¹‹é—´è¿æ¥å½¢æˆç½‘ç»œ</font></p><p>æ‰“å¼€å±æ€§è¿æ¥ç¼–è¾‘å™¨ï¼šWindows-General Editors-Connection Editor</p><p>å·¦è¾¹ä¸ºè¾“å‡ºå±æ€§ç‰©ä½“ï¼Œå³è¾¹ä¸ºè¾“å…¥å±æ€§ç‰©ä½“</p><h3 id="è·å–ç‰©ä½“çš„transformèŠ‚ç‚¹å±æ€§"><a href="#è·å–ç‰©ä½“çš„transformèŠ‚ç‚¹å±æ€§" class="headerlink" title="è·å–ç‰©ä½“çš„transformèŠ‚ç‚¹å±æ€§"></a>è·å–ç‰©ä½“çš„transformèŠ‚ç‚¹å±æ€§</h3><p>æŸ¥çœ‹transformèŠ‚ç‚¹çš„å¸®åŠ©æ–‡æ¡£ï¼Œåªè¦å±æ€§ç±»å‹æ˜¯ä¸€è‡´çš„å°±å¯ä»¥è¿æ¥</p><h3 id="è¿æ¥å±æ€§connectAttr"><a href="#è¿æ¥å±æ€§connectAttr" class="headerlink" title="è¿æ¥å±æ€§connectAttr"></a>è¿æ¥å±æ€§connectAttr</h3><pre><code class="hljs python">cmds.connectAttr(<span class="hljs-string">&#x27;pCube1.t&#x27;</span>,<span class="hljs-string">&#x27;pSphere1.t&#x27;</span>)cmds.connectAttr(<span class="hljs-string">&#x27;pCube1.ry&#x27;</span>,<span class="hljs-string">&#x27;pSphere1.ry&#x27;</span>)<span class="hljs-comment"># ! å½“å±æ€§å·²ç»è¢«è¿ä¸Šï¼Œåˆ™éœ€è¦æ–­å¼€å†é‡æ–°è¿ï¼Œä½¿ç”¨-force å¯ä»¥å¼ºåˆ¶è¿æ¥</span>cmds.connectAttr(<span class="hljs-string">&#x27;pCube2.t&#x27;</span>,<span class="hljs-string">&#x27;pSphere1.t&#x27;</span>)<span class="hljs-comment"># ! ä¸€ä¸ªå¤šè¾¹å½¢çš„å½¢çŠ¶å–å†³äºå®ƒçš„outMeshå’ŒinMesh</span>cmds.connectAttr(<span class="hljs-string">&#x27;pCube1.outMesh&#x27;</span>, <span class="hljs-string">&#x27;pSphere1.inMesh&#x27;</span>, f=<span class="hljs-number">1</span>)</code></pre><h3 id="æ–­å¼€å±æ€§disconnectAttr"><a href="#æ–­å¼€å±æ€§disconnectAttr" class="headerlink" title="æ–­å¼€å±æ€§disconnectAttr"></a>æ–­å¼€å±æ€§disconnectAttr</h3><pre><code class="hljs python">cmds.disconnectAttr(<span class="hljs-string">&#x27;pCube1.outMesh&#x27;</span>, <span class="hljs-string">&#x27;pSphere1.inMesh&#x27;</span>, f=<span class="hljs-number">1</span>)</code></pre><h3 id="ç»ƒä¹ -6"><a href="#ç»ƒä¹ -6" class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h3><p><img src="/2020/10/30/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%B8%80%EF%BC%89/L6_1.png"></p><p>é€šè¿‡åˆ›å»ºèŠ‚ç‚¹å¹¶è¿æ¥ç½‘ç»œï¼Œé€šè¿‡è°ƒèŠ‚blendColorså‚æ•°æ”¹å˜çƒä½“çš„é¢œè‰²</p><pre><code class="hljs python"><span class="hljs-comment"># create nodes</span>lamA = cmds.shadingNode(<span class="hljs-string">&#x27;lambert&#x27;</span>,asShader=<span class="hljs-literal">True</span>)lamB = cmds.shadingNode(<span class="hljs-string">&#x27;lambert&#x27;</span>,asShader=<span class="hljs-literal">True</span>)lamC = cmds.shadingNode(<span class="hljs-string">&#x27;lambert&#x27;</span>,asShader=<span class="hljs-literal">True</span>)bleColor = cmds.shadingNode(<span class="hljs-string">&#x27;blendColors&#x27;</span>,asUtility=<span class="hljs-literal">True</span>)<span class="hljs-comment"># connect attr</span>cmds.connectAttr(<span class="hljs-string">&#x27;&#123;&#125;.outColor&#x27;</span>.format(lamA),<span class="hljs-string">&#x27;&#123;&#125;.color1&#x27;</span>.format(bleColor))cmds.connectAttr(<span class="hljs-string">&#x27;&#123;&#125;.outColor&#x27;</span>.format(lamB),<span class="hljs-string">&#x27;&#123;&#125;.color2&#x27;</span>.format(bleColor))cmds.connectAttr(<span class="hljs-string">&#x27;&#123;&#125;.output&#x27;</span>.format(bleColor),<span class="hljs-string">&#x27;&#123;&#125;.color&#x27;</span>.format(lamC))</code></pre><p><img src="/2020/10/30/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%B8%80%EF%BC%89/L6_2.png"></p><h2 id="L7-è½»æ¾è·å–èŠ‚ç‚¹è¿æ¥å…³ç³»"><a href="#L7-è½»æ¾è·å–èŠ‚ç‚¹è¿æ¥å…³ç³»" class="headerlink" title="L7 è½»æ¾è·å–èŠ‚ç‚¹è¿æ¥å…³ç³»"></a>L7 è½»æ¾è·å–èŠ‚ç‚¹è¿æ¥å…³ç³»</h2><h3 id="listConnectins"><a href="#listConnectins" class="headerlink" title="listConnectins()"></a>listConnectins()</h3><p>è¾“å…¥å¯¹è±¡æ˜¯ä¸€ä¸ªèŠ‚ç‚¹</p><pre><code class="hljs python">lamA = cmds.shadingNode(<span class="hljs-string">&#x27;lambert&#x27;</span>,asShader=<span class="hljs-literal">True</span>)lamB = cmds.shadingNode(<span class="hljs-string">&#x27;lambert&#x27;</span>,asShader=<span class="hljs-literal">True</span>)lamC = cmds.shadingNode(<span class="hljs-string">&#x27;lambert&#x27;</span>,asShader=<span class="hljs-literal">True</span>)bleColor = cmds.shadingNode(<span class="hljs-string">&#x27;blendColors&#x27;</span>,asUtility=<span class="hljs-literal">True</span>)</code></pre><p><img src="/2020/10/30/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%B8%80%EF%BC%89/L7_1.png"></p><h4 id="è·å–æ‰€æœ‰è¿æ¥èŠ‚ç‚¹"><a href="#è·å–æ‰€æœ‰è¿æ¥èŠ‚ç‚¹" class="headerlink" title="è·å–æ‰€æœ‰è¿æ¥èŠ‚ç‚¹"></a>è·å–æ‰€æœ‰è¿æ¥èŠ‚ç‚¹</h4><pre><code class="hljs python">cmds.listConnections(bleColor)</code></pre><p><img src="/2020/10/30/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%B8%80%EF%BC%89/L7_2.png"></p><h4 id="åªè·å–ä¸Šæ¸¸èŠ‚ç‚¹"><a href="#åªè·å–ä¸Šæ¸¸èŠ‚ç‚¹" class="headerlink" title="åªè·å–ä¸Šæ¸¸èŠ‚ç‚¹"></a>åªè·å–ä¸Šæ¸¸èŠ‚ç‚¹</h4><pre><code class="hljs python">cmds.listConnections(bleColor,s=<span class="hljs-literal">True</span>,d=<span class="hljs-literal">False</span>)</code></pre><p><img src="/2020/10/30/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%B8%80%EF%BC%89/L7_3.png"></p><h4 id="è·å–è¿æ¥èŠ‚ç‚¹å±æ€§ä»¥åŠå±æ€§å"><a href="#è·å–è¿æ¥èŠ‚ç‚¹å±æ€§ä»¥åŠå±æ€§å" class="headerlink" title="è·å–è¿æ¥èŠ‚ç‚¹å±æ€§ä»¥åŠå±æ€§å"></a>è·å–è¿æ¥èŠ‚ç‚¹å±æ€§ä»¥åŠå±æ€§å</h4><pre><code class="hljs python">cmds.listConnections(bleColor,s=<span class="hljs-literal">True</span>,d=<span class="hljs-literal">False</span>,p=<span class="hljs-literal">True</span>)</code></pre><p><img src="/2020/10/30/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%B8%80%EF%BC%89/L7_4.png"></p><h4 id="ä»¥ç±»å‹è¿‡æ»¤è¿æ¥èŠ‚ç‚¹"><a href="#ä»¥ç±»å‹è¿‡æ»¤è¿æ¥èŠ‚ç‚¹" class="headerlink" title="ä»¥ç±»å‹è¿‡æ»¤è¿æ¥èŠ‚ç‚¹"></a>ä»¥ç±»å‹è¿‡æ»¤è¿æ¥èŠ‚ç‚¹</h4><pre><code class="hljs python">cmds.listConnections(bleColor,type=<span class="hljs-string">&#x27;lambert&#x27;</span>)</code></pre><p><img src="/2020/10/30/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%B8%80%EF%BC%89/L7_5.png"></p><h3 id="connectionInfo"><a href="#connectionInfo" class="headerlink" title="connectionInfo()"></a>connectionInfo()</h3><p>è¾“å…¥å¯¹è±¡æ˜¯ä¸€ä¸ªèŠ‚ç‚¹çš„å±æ€§</p><h4 id="è·å–è¾“å…¥å±æ€§"><a href="#è·å–è¾“å…¥å±æ€§" class="headerlink" title="è·å–è¾“å…¥å±æ€§"></a>è·å–è¾“å…¥å±æ€§</h4><pre><code class="hljs python">cmds.connectionInfo(<span class="hljs-string">&#x27;&#123;&#125;.color1&#x27;</span>.format(bleColor),sfd=<span class="hljs-literal">True</span>)</code></pre><p><img src="/2020/10/30/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%B8%80%EF%BC%89/L7_6.png"></p><h4 id="è·å–è¾“å‡ºå±æ€§"><a href="#è·å–è¾“å‡ºå±æ€§" class="headerlink" title="è·å–è¾“å‡ºå±æ€§"></a>è·å–è¾“å‡ºå±æ€§</h4><pre><code class="hljs python">cmds.connectionInfo(<span class="hljs-string">&#x27;&#123;&#125;.output&#x27;</span>.format(bleColor),dfs=<span class="hljs-literal">True</span>)</code></pre><p><img src="/2020/10/30/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%B8%80%EF%BC%89/L7_7.png"></p><h4 id="åˆ¤æ–­æ˜¯å¦ä¸ºSourcesè¾“å‡ºçš„æº"><a href="#åˆ¤æ–­æ˜¯å¦ä¸ºSourcesè¾“å‡ºçš„æº" class="headerlink" title="åˆ¤æ–­æ˜¯å¦ä¸ºSourcesè¾“å‡ºçš„æº"></a>åˆ¤æ–­æ˜¯å¦ä¸ºSourcesè¾“å‡ºçš„æº</h4><pre><code class="hljs python">cmds.connectionInfo(<span class="hljs-string">&#x27;&#123;&#125;.output&#x27;</span>.format(bleColor),isSource=<span class="hljs-literal">True</span>)</code></pre><p><img src="/2020/10/30/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%B8%80%EF%BC%89/L7_8.png"></p><h4 id="åˆ¤æ–­æ˜¯å¦ä¸ºDestinationè¢«è¿æ¥"><a href="#åˆ¤æ–­æ˜¯å¦ä¸ºDestinationè¢«è¿æ¥" class="headerlink" title="åˆ¤æ–­æ˜¯å¦ä¸ºDestinationè¢«è¿æ¥"></a>åˆ¤æ–­æ˜¯å¦ä¸ºDestinationè¢«è¿æ¥</h4><pre><code class="hljs python">cmds.connectionInfo(<span class="hljs-string">&#x27;&#123;&#125;.output&#x27;</span>.format(bleColor),isDestination=<span class="hljs-literal">True</span>)</code></pre><p><img src="/2020/10/30/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%B8%80%EF%BC%89/L7_9.png"></p><h3 id="ç»ƒä¹ -7"><a href="#ç»ƒä¹ -7" class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h3><p>è·å–ä¸€ä¸ªåŠ¨ç”»è§’è‰²æ§åˆ¶å™¨çš„å…³é”®å¸§è¿æ¥ä¿¡æ¯ï¼Œè¿æ¥åˆ°å¦ä¸€ä¸ªç›¸åŒçš„è§’è‰²ã€‚</p><h2 id="L8-å‡ ç§ç‰©ä½“çš„çº¦æŸå…³ç³»"><a href="#L8-å‡ ç§ç‰©ä½“çš„çº¦æŸå…³ç³»" class="headerlink" title="L8 å‡ ç§ç‰©ä½“çš„çº¦æŸå…³ç³»"></a>L8 å‡ ç§ç‰©ä½“çš„çº¦æŸå…³ç³»</h2><p>ç”¨å‘½ä»¤åˆ›å»ºçº¦æŸ:</p><p>&emsp;&emsp;å¸¸è§çš„çº¦æŸæœ‰çˆ¶å­çº¦æŸã€ç‚¹çº¦æŸã€æ—‹è½¬çº¦æŸã€ç¼©æ”¾çº¦æŸã€ç›®æ ‡çº¦æŸä»¥åŠæå‘é‡çº¦æŸã€‚</p><h3 id="ç‚¹çº¦æŸ"><a href="#ç‚¹çº¦æŸ" class="headerlink" title="ç‚¹çº¦æŸ"></a>ç‚¹çº¦æŸ</h3><pre><code class="hljs python">cmds.pointConstraint(<span class="hljs-string">&#x27;pSphere1&#x27;</span>,<span class="hljs-string">&#x27;pSphere2&#x27;</span>)<span class="hljs-comment"># ! ä¿æŒç›¸å¯¹ä½ç§»ï¼š</span>cmds.pointConstraint(<span class="hljs-string">&#x27;pSphere1&#x27;</span>,<span class="hljs-string">&#x27;pSphere2&#x27;</span>,mo=<span class="hljs-literal">True</span>)<span class="hljs-comment"># ! ä¿®æ”¹çº¦æŸèŠ‚ç‚¹åç§°</span>cmds.pointConstraint(<span class="hljs-string">&#x27;pSphere1&#x27;</span>,<span class="hljs-string">&#x27;pSphere2&#x27;</span>,mo=<span class="hljs-literal">True</span>,name=<span class="hljs-string">&#x27;ball&#x27;</span>)<span class="hljs-comment"># ! æŸ¥è¯¢çº¦æŸèŠ‚ç‚¹å</span>cmds.pointConstraint(<span class="hljs-string">&#x27;pSphere2&#x27;</span>,q=<span class="hljs-literal">True</span>,name=<span class="hljs-literal">True</span>)<span class="hljs-comment"># ! æŸ¥è¯¢çº¦æŸæƒé‡</span>cmds.pointConstraint(<span class="hljs-string">&#x27;pSphere2&#x27;</span>,q=<span class="hljs-literal">True</span>,wal=<span class="hljs-literal">True</span>)</code></pre><h3 id="æ—‹è½¬çº¦æŸ"><a href="#æ—‹è½¬çº¦æŸ" class="headerlink" title="æ—‹è½¬çº¦æŸ"></a>æ—‹è½¬çº¦æŸ</h3><pre><code class="hljs python">cmds.orientConstraint(<span class="hljs-string">&#x27;pSphere1&#x27;</span>,<span class="hljs-string">&#x27;pSphere2)</span></code></pre><h3 id="çˆ¶å­çº¦æŸ"><a href="#çˆ¶å­çº¦æŸ" class="headerlink" title="çˆ¶å­çº¦æŸ"></a>çˆ¶å­çº¦æŸ</h3><pre><code class="hljs python"><span class="hljs-comment"># ! ç»‘å®šæ—¶ï¼Œéœ€è¦å…ˆæŠŠæ§åˆ¶å™¨å’Œéª¨éª¼çš„è½´å‘ä¸€è‡´ï¼Œå†è¿›è¡Œçº¦æŸ</span>jnt = <span class="hljs-string">&#x27;joint1&#x27;</span>ctl = <span class="hljs-string">&#x27;ctl&#x27;</span>ctg = <span class="hljs-string">&#x27;ctl_grp&#x27;</span>cmds.delete(cmds.parentConstraint(jnt,ctg))cmds.parentConstraint(ctl,jnt)</code></pre><p><img src="/2020/10/30/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%B8%80%EF%BC%89/L8_1.png"></p><h3 id="ç»ƒä¹ -8"><a href="#ç»ƒä¹ -8" class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h3><p>åˆ›å»ºä¸€ä¸ªè„šæœ¬ï¼Œæ ¹æ®é€‰æ‹©çš„ç‰©ä½“åˆ›å»ºæ§åˆ¶å™¨å¹¶å¯¹å…¶çº¦æŸ</p><pre><code class="hljs python">sel = cmds.ls(sl=<span class="hljs-number">1</span>)<span class="hljs-keyword">if</span> len(sel) == <span class="hljs-number">1</span>:Â Â Â Â Â Â Â Â sel_obj = sel[<span class="hljs-number">0</span>]Â Â Â Â Â Â Â Â obj_t = cmds.xform(sel_obj,q=<span class="hljs-number">1</span>,t=<span class="hljs-number">1</span>)Â Â Â Â Â Â Â Â obj_ro = cmds.xform(sel_obj,q=<span class="hljs-number">1</span>,ro=<span class="hljs-number">1</span>)Â Â Â Â Â Â Â Â ctl = cmds.circle(name=<span class="hljs-string">&#x27;ctl&#x27;</span>,c=obj_t,nr=obj_ro)Â Â Â Â Â Â Â Â cmds.parentConstraint(ctl,sel_obj,mo=<span class="hljs-number">1</span>)<span class="hljs-keyword">else</span>:Â Â Â Â Â Â Â Â <span class="hljs-keyword">print</span> <span class="hljs-string">&#x27;please select one obj&#x27;</span></code></pre><h2 id="L9-åˆ›å»ºå’Œè·å–å…³é”®å¸§ä¿¡æ¯"><a href="#L9-åˆ›å»ºå’Œè·å–å…³é”®å¸§ä¿¡æ¯" class="headerlink" title="L9 åˆ›å»ºå’Œè·å–å…³é”®å¸§ä¿¡æ¯"></a>L9 åˆ›å»ºå’Œè·å–å…³é”®å¸§ä¿¡æ¯</h2><p>è®¾ç½®å…³é”®å¸§å¿«æ·é”®ï¼šåœ¨æ—¶é—´è½´ä¸ŠæŒ‰sã€‚</p><h3 id="è®¾ç½®ã€åˆ›å»ºå…³é”®å¸§setKeyframe"><a href="#è®¾ç½®ã€åˆ›å»ºå…³é”®å¸§setKeyframe" class="headerlink" title="è®¾ç½®ã€åˆ›å»ºå…³é”®å¸§setKeyframe()"></a>è®¾ç½®ã€åˆ›å»ºå…³é”®å¸§setKeyframe()</h3><pre><code class="hljs python">cmds.setKeyframe()<span class="hljs-comment"># ! ä¸é€‰ä¸­ç‰©ä½“</span>cmds.setKeyframe(<span class="hljs-string">&#x27;pSphere1&#x27;</span>)<span class="hljs-comment"># ! æ·»åŠ å±æ€§è®¾ç½®å…³é”®å¸§</span>cmds.setKeyframe(<span class="hljs-string">&#x27;pSphere1&#x27;</span>,at=<span class="hljs-string">&#x27;tx&#x27;</span>)cmds.setKeyframe(<span class="hljs-string">&#x27;pSphere1&#x27;</span>,at=[<span class="hljs-string">&#x27;tx&#x27;</span>,<span class="hljs-string">&#x27;ty&#x27;</span>,<span class="hljs-string">&#x27;r&#x27;</span>])<span class="hljs-comment"># !è®¾ç½®æ•°å€¼</span>cmds.setKeyframe(<span class="hljs-string">&#x27;pSphere1&#x27;</span>,at=[<span class="hljs-string">&#x27;tx&#x27;</span>,<span class="hljs-string">&#x27;ty&#x27;</span>,<span class="hljs-string">&#x27;r&#x27;</span>],v=<span class="hljs-number">10</span>)</code></pre><h3 id="æ¡ˆä¾‹ï¼šè®©çƒè½¬åœˆ"><a href="#æ¡ˆä¾‹ï¼šè®©çƒè½¬åœˆ" class="headerlink" title="æ¡ˆä¾‹ï¼šè®©çƒè½¬åœˆ"></a>æ¡ˆä¾‹ï¼šè®©çƒè½¬åœˆ</h3><pre><code class="hljs python"><span class="hljs-keyword">import</span> math<span class="hljs-keyword">import</span> maya.cmds <span class="hljs-keyword">as</span> cmds<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">0</span>,<span class="hljs-number">360</span>):Â Â Â Â Â Â Â Â x = math.sin(i * math.pi/<span class="hljs-number">180</span>) * <span class="hljs-number">10</span>Â Â Â Â Â Â Â Â z = math.cos(i * math.pi/<span class="hljs-number">180</span>) * <span class="hljs-number">10</span>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â cmds.setKeyframe(<span class="hljs-string">&#x27;pSphere1&#x27;</span>, at=<span class="hljs-string">&#x27;tx&#x27;</span>, t=i, v=x)Â Â Â Â Â Â Â Â cmds.setKeyframe(<span class="hljs-string">&#x27;pSphere1&#x27;</span>, at=<span class="hljs-string">&#x27;tz&#x27;</span>, t=i, v=z)</code></pre><h3 id="è·å–å…³é”®å¸§keyframe"><a href="#è·å–å…³é”®å¸§keyframe" class="headerlink" title="è·å–å…³é”®å¸§keyframe()"></a>è·å–å…³é”®å¸§keyframe()</h3><pre><code class="hljs python"><span class="hljs-comment"># ! æŸ¥è¯¢å¸§</span>cmds.keyframe(<span class="hljs-string">&#x27;pSphere1&#x27;</span>, q=<span class="hljs-literal">True</span>, tc=<span class="hljs-literal">True</span>)<span class="hljs-comment"># ! æŸ¥è¯¢å±æ€§</span>cmds.keyframe(<span class="hljs-string">&#x27;pSphere1&#x27;</span>, q=<span class="hljs-literal">True</span>, vc=<span class="hljs-literal">True</span>)<span class="hljs-comment"># ! å±æ€§è¿‡æ»¤</span>cmds.keyframe(<span class="hljs-string">&#x27;pSphere1&#x27;</span>, at=<span class="hljs-string">&#x27;ty&#x27;</span>, q=<span class="hljs-literal">True</span>, tc=<span class="hljs-literal">True</span>)cmds.keyframe(<span class="hljs-string">&#x27;pSphere1&#x27;</span>, at=<span class="hljs-string">&#x27;ty&#x27;</span>, q=<span class="hljs-literal">True</span>, vc=<span class="hljs-literal">True</span>)<span class="hljs-comment"># ! ç¼–è¾‘å±æ€§</span>frame_tc = cmds.keyframe(<span class="hljs-string">&#x27;pSphere1&#x27;</span>, at=<span class="hljs-string">&#x27;ty&#x27;</span>, q=<span class="hljs-literal">True</span>, tc=<span class="hljs-literal">True</span>)cmds.keyframe(<span class="hljs-string">&#x27;pSphere1&#x27;</span>,  <span class="hljs-comment"># ç¼–è¾‘çš„ç‰©ä½“</span>               at=<span class="hljs-string">&#x27;ty&#x27;</span>,   <span class="hljs-comment"># ç¼–è¾‘çš„å±æ€§</span>               e=<span class="hljs-literal">True</span>,    <span class="hljs-comment"># ç¼–è¾‘æ¨¡å¼</span>               time=(min(frame_tc), max(frame_tc)),     <span class="hljs-comment"># ç¼–è¾‘çš„æ—¶é—´èŒƒå›´</span>               tc=<span class="hljs-number">5</span>,     <span class="hljs-comment"># å…³é”®å¸§å˜åŒ–ï¼Œæ­£æ•°å¾€å³ï¼Œè´Ÿæ•°å¾€å·¦</span>               r=<span class="hljs-literal">True</span>    <span class="hljs-comment"># ç›¸å¯¹å˜åŒ–</span></code></pre><h3 id="ç»ƒä¹ -9"><a href="#ç»ƒä¹ -9" class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h3><p>ç»™ä¸€ä¸ªç‰©ä½“ä»1åˆ°200é€æ¸åˆ›å»ºå…³é”®å¸§ï¼Œå®ç°éšæœºæŠ–åŠ¨æ•ˆæœã€‚</p><pre><code class="hljs python"><span class="hljs-keyword">import</span> randomsel = cmds.ls(sl=<span class="hljs-number">1</span>)<span class="hljs-keyword">if</span> len(sel) == <span class="hljs-number">1</span>:Â Â Â Â Â Â Â Â sel_obj = sel[<span class="hljs-number">0</span>]Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">1</span>,<span class="hljs-number">201</span>):Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â rand_x = random.uniform(<span class="hljs-number">-20</span>,<span class="hljs-number">20</span>)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â rand_y = random.uniform(<span class="hljs-number">-20</span>,<span class="hljs-number">20</span>)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â rand_z = random.uniform(<span class="hljs-number">-20</span>,<span class="hljs-number">20</span>)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â cmds.setKeyframe(sel_obj, at=<span class="hljs-string">&#x27;tx&#x27;</span>, t=i, v=rand_x)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â cmds.setKeyframe(sel_obj, at=<span class="hljs-string">&#x27;ty&#x27;</span>, t=i, v=rand_y)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â cmds.setKeyframe(sel_obj, at=<span class="hljs-string">&#x27;tz&#x27;</span>, t=i, v=rand_z)<span class="hljs-keyword">else</span>:Â Â Â Â Â Â Â Â <span class="hljs-keyword">print</span> <span class="hljs-string">&#x27;please select one obj&#x27;</span></code></pre><h2 id="L10-æ–‡ä»¶è¾“å…¥è¾“å‡ºä»¥åŠreferenceå¤„ç†"><a href="#L10-æ–‡ä»¶è¾“å…¥è¾“å‡ºä»¥åŠreferenceå¤„ç†" class="headerlink" title="L10 æ–‡ä»¶è¾“å…¥è¾“å‡ºä»¥åŠreferenceå¤„ç†"></a>L10 æ–‡ä»¶è¾“å…¥è¾“å‡ºä»¥åŠreferenceå¤„ç†</h2><h3 id="file"><a href="#file" class="headerlink" title="file()"></a>file()</h3><pre><code class="hljs python"><span class="hljs-comment"># ! æ–°å»ºåœºæ™¯</span>cmds.file(new=<span class="hljs-literal">True</span>,f=<span class="hljs-literal">True</span>)<span class="hljs-comment"># ! ä¿å­˜åœºæ™¯</span>cmds.file(rename=<span class="hljs-string">&quot;D:/td_tech/test.ma&quot;</span>)cmds.file(save=<span class="hljs-literal">True</span>,typ=<span class="hljs-string">&quot;mayaAscii&quot;</span>)<span class="hljs-comment"># ! æ‰“å¼€æ–‡ä»¶</span>cmds.file(<span class="hljs-string">&quot;D:/td_tech/test.ma&quot;</span>,o=<span class="hljs-literal">True</span>,force=<span class="hljs-literal">True</span>)<span class="hljs-comment"># ! è·å–åœºæ™¯åç§°</span>cmds.file(q=<span class="hljs-literal">True</span>,sn=<span class="hljs-literal">True</span>)cmds.file(q=<span class="hljs-literal">True</span>,sn=<span class="hljs-literal">True</span>,shn=<span class="hljs-literal">True</span>)<span class="hljs-comment"># ! å¯¼å‡ºç‰©ä½“</span>cmds.file(<span class="hljs-string">&quot;D:/td_tech/export.ma&quot;</span>,exportAll=<span class="hljs-literal">True</span>,typ=<span class="hljs-string">&quot;mayaAscii&quot;</span>)cmds.file(<span class="hljs-string">&quot;D:/td_tech/export.ma&quot;</span>,exportSelected=<span class="hljs-literal">True</span>,typ=<span class="hljs-string">&quot;mayaAscii&quot;</span>)<span class="hljs-comment"># ! å¯¼å…¥ç‰©ä½“</span>cmds.file(<span class="hljs-string">&quot;D:/td_tech/export.ma&quot;</span>,i=<span class="hljs-literal">True</span>,ns=<span class="hljs-string">&#x27;ball&#x27;</span>)<span class="hljs-comment"># ! å‚è€ƒæ–‡ä»¶</span>cmds.file(<span class="hljs-string">&quot;D:/td_tech/export.ma&quot;</span>,r=<span class="hljs-literal">True</span>,ns=<span class="hljs-string">&#x27;ball&#x27;</span>)<span class="hljs-comment"># ! æŸ¥è¯¢å‚è€ƒæ–‡ä»¶</span>cmds.file(q=<span class="hljs-literal">True</span>,r=<span class="hljs-literal">True</span>)cmds.file(<span class="hljs-string">&quot;D:/td_tech/export.ma&quot;</span>,q=<span class="hljs-literal">True</span>,r=<span class="hljs-literal">True</span>)</code></pre><h3 id="referenceQuery"><a href="#referenceQuery" class="headerlink" title="referenceQuery()"></a>referenceQuery()</h3><pre><code class="hljs python"><span class="hljs-comment"># ! å‚è€ƒæ–‡ä»¶èŠ‚ç‚¹æŸ¥è¯¢</span>cmds.referenceQuery(<span class="hljs-string">&quot;D:/td_tech/export.ma&quot;</span>,n=<span class="hljs-literal">True</span>)<span class="hljs-comment"># ! å‚è€ƒèŠ‚ç‚¹æ–‡ä»¶æŸ¥è¯¢</span>cmds.referenceQuery(<span class="hljs-string">&#x27;ball1:pSphere1&#x27;</span>,f=<span class="hljs-literal">True</span>)<span class="hljs-comment"># ! æŸ¥è¯¢å‚è€ƒæ˜¯å¦åŠ è½½</span>cmds.referenceQuery(<span class="hljs-string">&quot;D:/td_tech/export.ma&quot;</span>,isLoaded=<span class="hljs-literal">True</span>)</code></pre><h3 id="ç»ƒä¹ -10"><a href="#ç»ƒä¹ -10" class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h3><p>åˆ©ç”¨å¾ªç¯å®ç°æ‰¹é‡referenceåŠŸèƒ½ã€‚</p><pre><code class="hljs python">ref_file = <span class="hljs-string">&quot;D:/td_tech/export.ma&quot;</span><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">0</span>,<span class="hljs-number">5</span>):Â Â Â Â Â Â Â Â cmds.file(ref_file,r=<span class="hljs-literal">True</span>,ns=<span class="hljs-string">&#x27;ball&#123;&#125;&#x27;</span>.format(i))</code></pre><h2 id="L11-Maya-çª—å£ä¸æ§ä»¶ç¼–ç¨‹"><a href="#L11-Maya-çª—å£ä¸æ§ä»¶ç¼–ç¨‹" class="headerlink" title="L11 Maya çª—å£ä¸æ§ä»¶ç¼–ç¨‹"></a>L11 Maya çª—å£ä¸æ§ä»¶ç¼–ç¨‹</h2><p><img src="/2020/10/30/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%B8%80%EF%BC%89/L11_1.png"></p><p><img src="/2020/10/30/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%B8%80%EF%BC%89/L11_2.png"></p><h3 id="åˆ›å»ºçª—å£"><a href="#åˆ›å»ºçª—å£" class="headerlink" title="åˆ›å»ºçª—å£"></a>åˆ›å»ºçª—å£</h3><pre><code class="hljs python">wnd = cmds.window()</code></pre><h3 id="æ˜¾ç¤ºçª—å£"><a href="#æ˜¾ç¤ºçª—å£" class="headerlink" title="æ˜¾ç¤ºçª—å£"></a>æ˜¾ç¤ºçª—å£</h3><pre><code class="hljs python">cmds.showWindow(wnd)</code></pre><h3 id="æ·»åŠ çª—å£å±æ€§"><a href="#æ·»åŠ çª—å£å±æ€§" class="headerlink" title="æ·»åŠ çª—å£å±æ€§"></a>æ·»åŠ çª—å£å±æ€§</h3><pre><code class="hljs python">wnd = cmds.window(w=<span class="hljs-number">600</span>,h=<span class="hljs-number">800</span>,t=<span class="hljs-string">&#x27;main_window&#x27;</span>)</code></pre><h3 id="å®šä¹‰å˜é‡é¿å…çª—å£é‡å¤åˆ›å»ºï¼Œå¹¶æ¢å¤é»˜è®¤çª—å£è®¾ç½®"><a href="#å®šä¹‰å˜é‡é¿å…çª—å£é‡å¤åˆ›å»ºï¼Œå¹¶æ¢å¤é»˜è®¤çª—å£è®¾ç½®" class="headerlink" title="å®šä¹‰å˜é‡é¿å…çª—å£é‡å¤åˆ›å»ºï¼Œå¹¶æ¢å¤é»˜è®¤çª—å£è®¾ç½®"></a>å®šä¹‰å˜é‡é¿å…çª—å£é‡å¤åˆ›å»ºï¼Œå¹¶æ¢å¤é»˜è®¤çª—å£è®¾ç½®</h3><pre><code class="hljs python">wnd_name = <span class="hljs-string">&#x27;my_win&#x27;</span><span class="hljs-keyword">if</span> cmds.window(wnd_name,q=<span class="hljs-literal">True</span>,exists=<span class="hljs-literal">True</span>):Â Â Â Â Â Â Â Â cmds.deleteUI(wnd_name,wnd=<span class="hljs-literal">True</span>)<span class="hljs-keyword">if</span> cmds.windowPref(wnd_name,q=<span class="hljs-literal">True</span>,exists=<span class="hljs-literal">True</span>):Â Â Â Â Â Â Â Â cmds.windowPref(wnd_name,r=<span class="hljs-literal">True</span>)wnd = cmds.window(wnd_name,w=<span class="hljs-number">600</span>,h=<span class="hljs-number">800</span>,t=<span class="hljs-string">&#x27;main_window&#x27;</span>)cmds.showWindow(wnd)</code></pre><h3 id="åˆ›å»ºlayoutå’ŒæŒ‰é’®"><a href="#åˆ›å»ºlayoutå’ŒæŒ‰é’®" class="headerlink" title="åˆ›å»ºlayoutå’ŒæŒ‰é’®"></a>åˆ›å»ºlayoutå’ŒæŒ‰é’®</h3><p><img src="/2020/10/30/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%B8%80%EF%BC%89/L11_3.png"></p><h3 id="ç»ƒä¹ -11"><a href="#ç»ƒä¹ -11" class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h3><p><img src="/2020/10/30/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%B8%80%EF%BC%89/L11_4.png"></p><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">create_ball</span>(<span class="hljs-params">*args</span>):</span>Â Â Â Â Â Â Â Â num = cmds.textField(num_text,q=<span class="hljs-number">1</span>,tx=<span class="hljs-number">1</span>)Â Â Â Â Â Â Â Â ra = cmds.textField(ra_text,q=<span class="hljs-number">1</span>,tx=<span class="hljs-number">1</span>)Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">0</span>,int(num)):Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â cmds.polySphere(r=ra)<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:Â Â Â Â Â Â Â Â wnd_name = <span class="hljs-string">&#x27;my_win&#x27;</span>Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span> cmds.window(wnd_name,q=<span class="hljs-literal">True</span>,exists=<span class="hljs-literal">True</span>):Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â cmds.deleteUI(wnd_name,wnd=<span class="hljs-literal">True</span>)Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span> cmds.windowPref(wnd_name,q=<span class="hljs-literal">True</span>,exists=<span class="hljs-literal">True</span>):Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â cmds.windowPref(wnd_name,r=<span class="hljs-literal">True</span>)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â wnd = cmds.window(wnd_name,w=<span class="hljs-number">300</span>,h=<span class="hljs-number">50</span>,t=<span class="hljs-string">&#x27;main_window&#x27;</span>)Â Â Â Â Â Â Â Â cmds.gridLayout(numberOfColumns=<span class="hljs-number">2</span>,numberOfRows=<span class="hljs-number">2</span>,cellWidthHeight=(<span class="hljs-number">150</span>, <span class="hljs-number">30</span>))Â Â Â Â Â Â Â Â cmds.text(label=<span class="hljs-string">&#x27;num&#x27;</span>)Â Â Â Â Â Â Â Â num_text = cmds.textField()Â Â Â Â Â Â Â Â cmds.text(label=<span class="hljs-string">&#x27;ra&#x27;</span>)Â Â Â Â Â Â Â Â ra_text = cmds.textField()Â Â Â Â Â Â Â Â cmds.button(l=<span class="hljs-string">&#x27;create&#x27;</span>,c=create_ball)Â Â Â Â Â Â Â Â cmds.showWindow(wnd)</code></pre><h2 id="L12-Mayaä¸­çš„è§†å›¾ä¸ç›¸æœºæ“ä½œ"><a href="#L12-Mayaä¸­çš„è§†å›¾ä¸ç›¸æœºæ“ä½œ" class="headerlink" title="L12 Mayaä¸­çš„è§†å›¾ä¸ç›¸æœºæ“ä½œ"></a>L12 Mayaä¸­çš„è§†å›¾ä¸ç›¸æœºæ“ä½œ</h2><h3 id="getPanel"><a href="#getPanel" class="headerlink" title="getPanel()"></a>getPanel()</h3><h4 id="è·å–æ‰€æœ‰è§†å›¾"><a href="#è·å–æ‰€æœ‰è§†å›¾" class="headerlink" title="è·å–æ‰€æœ‰è§†å›¾"></a>è·å–æ‰€æœ‰è§†å›¾</h4><pre><code class="hljs python">cmds.getPanel(all=<span class="hljs-literal">True</span>)</code></pre><h4 id="åªè·å–æ˜¾ç¤ºçš„è§†å›¾"><a href="#åªè·å–æ˜¾ç¤ºçš„è§†å›¾" class="headerlink" title="åªè·å–æ˜¾ç¤ºçš„è§†å›¾"></a>åªè·å–æ˜¾ç¤ºçš„è§†å›¾</h4><pre><code class="hljs python">cmds.getPanel(vis=<span class="hljs-literal">True</span>)</code></pre><h4 id="é€šè¿‡è§†å›¾ç±»å‹è¿”å›è§†å›¾"><a href="#é€šè¿‡è§†å›¾ç±»å‹è¿”å›è§†å›¾" class="headerlink" title="é€šè¿‡è§†å›¾ç±»å‹è¿”å›è§†å›¾"></a>é€šè¿‡è§†å›¾ç±»å‹è¿”å›è§†å›¾</h4><pre><code class="hljs python">cmds.getPanel(typ=<span class="hljs-string">&#x27;outlinerPanel&#x27;</span>)</code></pre><h4 id="è¿”å›å½“å‰æ¿€æ´»è§†å›¾"><a href="#è¿”å›å½“å‰æ¿€æ´»è§†å›¾" class="headerlink" title="è¿”å›å½“å‰æ¿€æ´»è§†å›¾"></a>è¿”å›å½“å‰æ¿€æ´»è§†å›¾</h4><pre><code class="hljs python">cmds.getPanel(withFocus=<span class="hljs-literal">True</span>)</code></pre><h3 id="modelPanel"><a href="#modelPanel" class="headerlink" title="modelPanel()"></a>modelPanel()</h3><h4 id="æŸ¥è¯¢å½“å‰è§†å›¾æ‘„åƒæœº"><a href="#æŸ¥è¯¢å½“å‰è§†å›¾æ‘„åƒæœº" class="headerlink" title="æŸ¥è¯¢å½“å‰è§†å›¾æ‘„åƒæœº"></a>æŸ¥è¯¢å½“å‰è§†å›¾æ‘„åƒæœº</h4><pre><code class="hljs python">cmds.modelPanel(<span class="hljs-string">&#x27;modelPanel4&#x27;</span>,q=<span class="hljs-literal">True</span>,cam=<span class="hljs-literal">True</span>)cmds.modelEditor(<span class="hljs-string">&#x27;modelPanel4&#x27;</span>,q=<span class="hljs-literal">True</span>,cam=<span class="hljs-literal">True</span>)</code></pre><h4 id="ç¼–è¾‘å½“å‰è§†å›¾æ‘„åƒæœº"><a href="#ç¼–è¾‘å½“å‰è§†å›¾æ‘„åƒæœº" class="headerlink" title="ç¼–è¾‘å½“å‰è§†å›¾æ‘„åƒæœº"></a>ç¼–è¾‘å½“å‰è§†å›¾æ‘„åƒæœº</h4><pre><code class="hljs python">cmds.modelPanel(<span class="hljs-string">&#x27;modelPanel4&#x27;</span>,e=<span class="hljs-literal">True</span>,cam=<span class="hljs-string">&#x27;front&#x27;</span>)</code></pre><h4 id="è£å‰ªè§†å›¾"><a href="#è£å‰ªè§†å›¾" class="headerlink" title="è£å‰ªè§†å›¾"></a>è£å‰ªè§†å›¾</h4><pre><code class="hljs python">cmds.modelPanel(<span class="hljs-string">&#x27;modelPanel4&#x27;</span>,e=<span class="hljs-literal">True</span>,tearOff=<span class="hljs-literal">True</span>)</code></pre><h4 id="ç¼–è¾‘è§†å›¾æ˜¾ç¤ºçš„å†…å®¹"><a href="#ç¼–è¾‘è§†å›¾æ˜¾ç¤ºçš„å†…å®¹" class="headerlink" title="ç¼–è¾‘è§†å›¾æ˜¾ç¤ºçš„å†…å®¹"></a>ç¼–è¾‘è§†å›¾æ˜¾ç¤ºçš„å†…å®¹</h4><pre><code class="hljs python">cmds.modelEditor(<span class="hljs-string">&#x27;modelPanel2&#x27;</span>,e=<span class="hljs-literal">True</span>,joints=<span class="hljs-literal">True</span>)</code></pre><h3 id="ç»ƒä¹ -12"><a href="#ç»ƒä¹ -12" class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h3><p><img src="/2020/10/30/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%B8%80%EF%BC%89/L12_1.png"></p><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">playblast_polygon</span>():</span>Â Â Â Â Â Â Â Â my_cam = cmds.camera(p=[<span class="hljs-string">&#x27;8&#x27;</span>,<span class="hljs-string">&#x27;36&#x27;</span>,<span class="hljs-string">&#x27;33&#x27;</span>],rot=[<span class="hljs-string">&#x27;-42&#x27;</span>,<span class="hljs-string">&#x27;10&#x27;</span>,<span class="hljs-string">&#x27;0&#x27;</span>])Â Â Â Â Â Â Â Â my_ball = cmds.polySphere()Â Â Â Â Â Â Â Â cmds.circle(center=(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>))Â Â Â Â Â Â Â Â cmds.setKeyframe(my_ball,at=<span class="hljs-string">&#x27;translateX&#x27;</span>,v=<span class="hljs-number">10</span>,t=<span class="hljs-number">10</span>)Â Â Â Â Â Â Â Â cmds.setKeyframe(my_ball,at=<span class="hljs-string">&#x27;translateX&#x27;</span>,v=<span class="hljs-number">5</span>,t=<span class="hljs-number">20</span>)Â Â Â Â Â Â Â Â cmds.modelPanel(my_panel,e=<span class="hljs-literal">True</span>,cam=my_cam[<span class="hljs-number">0</span>])Â Â Â Â Â Â Â Â cmds.modelEditor(my_panel,e=<span class="hljs-literal">True</span>,alo=<span class="hljs-literal">False</span>,polymeshes=<span class="hljs-literal">True</span>)Â Â Â Â Â Â Â Â cmds.refresh()Â Â Â Â Â Â Â Â cmds.playblast(st=<span class="hljs-number">1</span>,et=<span class="hljs-number">30</span>)Â Â Â Â Â Â Â Â playblast_polygon()</code></pre><h2 id="L13-Maya-ä¸­çš„äº‹ä»¶è§¦å‘"><a href="#L13-Maya-ä¸­çš„äº‹ä»¶è§¦å‘" class="headerlink" title="L13 Maya ä¸­çš„äº‹ä»¶è§¦å‘"></a>L13 Maya ä¸­çš„äº‹ä»¶è§¦å‘</h2><h3 id="æ—¶é—´è½´å˜åŒ–è§¦å‘äº‹ä»¶"><a href="#æ—¶é—´è½´å˜åŒ–è§¦å‘äº‹ä»¶" class="headerlink" title="æ—¶é—´è½´å˜åŒ–è§¦å‘äº‹ä»¶"></a>æ—¶é—´è½´å˜åŒ–è§¦å‘äº‹ä»¶</h3><pre><code class="hljs python">job_id = cmds.scriptJob(tc=<span class="hljs-string">&#x27;print &quot;change&quot;&#x27;</span>)cmds.scriptJob(kill=job_id)</code></pre><h3 id="å±æ€§å˜åŒ–è§¦å‘äº‹ä»¶"><a href="#å±æ€§å˜åŒ–è§¦å‘äº‹ä»¶" class="headerlink" title="å±æ€§å˜åŒ–è§¦å‘äº‹ä»¶"></a>å±æ€§å˜åŒ–è§¦å‘äº‹ä»¶</h3><pre><code class="hljs python">job_id = cmds.scriptJob(attributeChange=(<span class="hljs-string">&#x27;pSphere1.tx&#x27;</span>,<span class="hljs-string">&#x27;print &quot;123&quot;&#x27;</span>))</code></pre><h3 id="åˆ é™¤æ‰€æœ‰ä»»åŠ¡"><a href="#åˆ é™¤æ‰€æœ‰ä»»åŠ¡" class="headerlink" title="åˆ é™¤æ‰€æœ‰ä»»åŠ¡"></a>åˆ é™¤æ‰€æœ‰ä»»åŠ¡</h3><pre><code class="hljs python">cmds.scriptJob(killAll=<span class="hljs-literal">True</span>)</code></pre><h3 id="å…¶ä»–å±æ€§æ›´æ”¹"><a href="#å…¶ä»–å±æ€§æ›´æ”¹" class="headerlink" title="å…¶ä»–å±æ€§æ›´æ”¹"></a>å…¶ä»–å±æ€§æ›´æ”¹</h3><pre><code class="hljs python">cmds.scriptJob(nodeDeleted=(<span class="hljs-string">&#x27;pSphere1&#x27;</span>, <span class="hljs-string">&#x27;print &quot;ball delete&quot;&#x27;</span>))cmds.scriptJob(nodeNameChanged=(<span class="hljs-string">&#x27;pSphere1&#x27;</span>, <span class="hljs-string">&#x27;print &quot;ball rename&quot;&#x27;</span>))</code></pre><h3 id="é˜²æ­¢killAllå…¨éƒ¨åˆ é™¤"><a href="#é˜²æ­¢killAllå…¨éƒ¨åˆ é™¤" class="headerlink" title="é˜²æ­¢killAllå…¨éƒ¨åˆ é™¤"></a>é˜²æ­¢killAllå…¨éƒ¨åˆ é™¤</h3><p>åªæœ‰åœ¨mayaå…³é—­æ‰ä¼šåˆ é™¤</p><p><img src="/2020/10/30/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%B8%80%EF%BC%89/L13_1.png"></p><h3 id="è·Ÿè¸ªæ¡ä»¶"><a href="#è·Ÿè¸ªæ¡ä»¶" class="headerlink" title="è·Ÿè¸ªæ¡ä»¶"></a>è·Ÿè¸ªæ¡ä»¶</h3><p>è‡ªåŠ¨kå¸§æ˜¯å¦æ‰“å¼€</p><pre><code class="hljs python">cmds.scriptJob(conditionTure=(<span class="hljs-string">&#x27;autoKeyFrameState&#x27;</span>, <span class="hljs-string">&#x27;print &quot;auto key enable&quot;&#x27;</span>))cmds.scriptJob(conditionFalse=(<span class="hljs-string">&#x27;autoKeyFrameState&#x27;</span>, <span class="hljs-string">&#x27;print &quot;auto key disable&quot;&#x27;</span>))</code></pre><p>æ˜¯å¦æœ‰ç‰©ä½“è¢«é€‰æ‹©</p><pre><code class="hljs python">cmds.scriptJob(conditionTrue=(<span class="hljs-string">&#x27;Something Selected&#x27;</span>, <span class="hljs-string">&#x27;print &quot;selected&quot;&#x27;</span>))</code></pre><p>ä¼ å…¥æ–¹æ³•</p><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">func</span>():</span>    <span class="hljs-keyword">print</span> cmds.ls(sl=<span class="hljs-literal">True</span>)cmds.scriptJob(conditionTrue=(<span class="hljs-string">&#x27;Something Selected&#x27;</span>, func))</code></pre><h3 id="ç»ƒä¹ -13"><a href="#ç»ƒä¹ -13" class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h3><p>åˆ©ç”¨ scriptJob åˆ›å»ºä¸€ä¸ªå±æ€§å˜åŒ–å½±å“å¦ä¸€ä¸ªå±æ€§å˜åŒ–ã€‚</p><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">ball_tx_change</span>():</span>Â Â Â Â Â Â Â Â new_tx = cmds.getAttr(<span class="hljs-string">&#x27;pCube1.tx&#x27;</span>)Â Â Â Â Â Â Â Â cmds.setAttr(<span class="hljs-string">&#x27;pSphere1.tx&#x27;</span>,new_tx)Â Â Â Â Â Â Â Â job_id = cmds.scriptJob(attributeChange=(<span class="hljs-string">&#x27;pCube1.tx&#x27;</span>,ball_tx_change))cmds.scriptJob(kill=job_id)</code></pre><h2 id="L14-åŸºç¡€éƒ¨åˆ†æ€»ç»“"><a href="#L14-åŸºç¡€éƒ¨åˆ†æ€»ç»“" class="headerlink" title="L14 åŸºç¡€éƒ¨åˆ†æ€»ç»“"></a>L14 åŸºç¡€éƒ¨åˆ†æ€»ç»“</h2><p>Mayaå¸®åŠ©æ–‡æ¡£</p><p>Mayaå‘½ä»¤åé¦ˆ</p><p>mel whatIs</p><p><img src="/2020/10/30/maya/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE/Maya%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5%E8%AF%BE%EF%BC%88%E4%B8%80%EF%BC%89/L14_1.png"></p>]]></content>
    
    
    <categories>
      
      <category>Maya</category>
      
      <category>Mayaå¼€å‘å®è·µè¯¾</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MAYA</tag>
      
      <tag>SCRIPT</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åœ¨Hugoä¸­ä½¿ç”¨cssè‡ªå®šä¹‰å›¾ç‰‡ä½ç½®</title>
    <link href="/2020/10/29/script/%E5%9C%A8Hugo%E4%B8%AD%E4%BD%BF%E7%94%A8css%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9B%BE%E7%89%87%E4%BD%8D%E7%BD%AE/"/>
    <url>/2020/10/29/script/%E5%9C%A8Hugo%E4%B8%AD%E4%BD%BF%E7%94%A8css%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9B%BE%E7%89%87%E4%BD%8D%E7%BD%AE/</url>
    
    <content type="html"><![CDATA[<p>&emsp;&emsp;æœ€è¿‘å…¬å¸å¼€å‘äº†gitlabä¸Šçš„æ–‡æ¡£åŠŸèƒ½ï¼Œå¹¶é…ç½®äº†ä¸»é¢˜ï¼ˆhugo-learn-freeï¼‰ã€‚</p><p>&emsp;&emsp;åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œæˆ‘å‘ç°è¯¥ä¸»é¢˜çš„å›¾ç‰‡ä¼šè‡ªåŠ¨æ¢è¡Œè¿½è¸ªï¼Œä¸èƒ½ä¿®æ”¹å›¾ç‰‡æ˜¾ç¤ºçš„ä½ç½®ã€‚è¿™å¯¹äºéœ€è¦å›¾ç‰‡æ’ç‰ˆçš„æ–‡ç« ååˆ†ä¸å‹å¥½ï¼Œå› æ­¤æˆ‘è‡ªå·±åœ¨æœ¬åœ°é…ç½®äº†ä¸€ä¸ªç›¸åŒä¸»é¢˜çš„ç½‘ç«™åšæµ‹è¯•ã€‚</p><p>æˆ‘åœ¨markdownä¸­ç¼–è¾‘çš„æ•ˆæœï¼š</p><p><img src="/2020/10/29/script/%E5%9C%A8Hugo%E4%B8%AD%E4%BD%BF%E7%94%A8css%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9B%BE%E7%89%87%E4%BD%8D%E7%BD%AE/right.png"></p><p>æˆ‘åœ¨Hugoä¸»é¢˜ä¸­æ˜¾ç¤ºçš„æ•ˆæœï¼š</p><p><img src="/2020/10/29/script/%E5%9C%A8Hugo%E4%B8%AD%E4%BD%BF%E7%94%A8css%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9B%BE%E7%89%87%E4%BD%8D%E7%BD%AE/wrong.png"></p><hr><h3 id="ğŸ¦Š-Hugoå®‰è£…"><a href="#ğŸ¦Š-Hugoå®‰è£…" class="headerlink" title="ğŸ¦Š Hugoå®‰è£…"></a>ğŸ¦Š Hugoå®‰è£…</h3><p>&emsp;&emsp;Hugoæ˜¯ä¸€ä¸ªéå¸¸å—æ¬¢è¿çš„ã€å¼€æºçš„é™æ€ç½‘ç«™ç”Ÿæˆå·¥å…·ï¼Œå’ŒHexoç±»ä¼¼ã€‚ å®ƒé€Ÿåº¦å¿«ï¼Œæ‰©å±•æ€§å¼ºã€‚</p><ol><li>ä» hugo çš„ <a href="https://github.com/gohugoio/hugo/releases">GitHub ä»“åº“</a> ä¸‹è½½å¯¹åº”å®‰è£…åŒ…ï¼ˆæˆ‘çš„win10ç³»ç»Ÿä¸‹è½½çš„æ˜¯â€œ hugo_0.76.5_Windows-64bit.zip â€ï¼‰ã€‚</li><li>è§£å‹å®‰è£…åŒ…åˆ°è‡ªå®šä¹‰ç›®å½•ä¸‹ã€‚</li><li>æŠŠç›®å½•æ·»åŠ åˆ° Windows çš„ç³»ç»Ÿç¯å¢ƒå˜é‡çš„ PATH ä¸­ã€‚</li><li>éªŒè¯Hugoæ˜¯å¦å®‰è£…æˆåŠŸï¼š<code>hugo version</code></li></ol><h3 id="ğŸ®-æ­å»ºç«™ç‚¹"><a href="#ğŸ®-æ­å»ºç«™ç‚¹" class="headerlink" title="ğŸ® æ­å»ºç«™ç‚¹"></a>ğŸ® æ­å»ºç«™ç‚¹</h3><p>&emsp;&emsp;åœ¨æƒ³æ”¾ç½®ç«™ç‚¹çš„æ–‡ä»¶å¤¹ï¼Œæ‰“å¼€â€œGit Bash Hereâ€ï¼Œè¾“å…¥â€œ hugo new site + ç«™ç‚¹åâ€ã€‚</p><pre><code class="hljs haxe">hugo <span class="hljs-keyword">new</span> <span class="hljs-type">site</span> blog</code></pre><h3 id="ğŸ°-é…ç½®ä¸»é¢˜"><a href="#ğŸ°-é…ç½®ä¸»é¢˜" class="headerlink" title="ğŸ° é…ç½®ä¸»é¢˜"></a>ğŸ° é…ç½®ä¸»é¢˜</h3><p>&emsp;&emsp;æ—¢ç„¶è¦æµ‹è¯•ï¼Œé‚£ä¹ˆè‚¯å®šè¦æµ‹è¯•ç›¸åŒçš„ä¸»é¢˜äº†ã€‚</p><ol><li>æŠŠâ€œ hugo-learn-free â€ä¸»é¢˜å†…å®¹è§£å‹åæ”¾åœ¨ â€œblog/themesâ€ ç›®å½•ä¸‹ï¼ˆblogæ›¿æ¢æˆåˆ›å»ºçš„ç«™ç‚¹åï¼‰ã€‚</li><li>åœ¨â€œ blog/hugo-theme-learn/exampleSite â€ä¸­æœ‰ä¸€ä¸ªâ€œconfig.tomlâ€æ–‡ä»¶ï¼Œè¿™æ˜¯ä¸€ä¸ªä¸»é¢˜çš„æ¨¡ç‰ˆé…ç½®æ–‡ä»¶ï¼ŒæŠŠå®ƒå¤åˆ¶åˆ°ä½ çš„ç«™ç‚¹æ ¹ç›®å½•ä¸‹ã€‚</li><li>è¿™æ ·å°±èƒ½åŠ è½½åˆ°è¯¥ä¸»é¢˜äº†ã€‚</li></ol><h3 id="ğŸ¢-æ·»åŠ æ–‡ç« "><a href="#ğŸ¢-æ·»åŠ æ–‡ç« " class="headerlink" title="ğŸ¢ æ·»åŠ æ–‡ç« "></a>ğŸ¢ æ·»åŠ æ–‡ç« </h3><p>&emsp;&emsp;åˆ›å»º blog/content/posts/_index.mdã€‚</p><pre><code class="hljs reasonml">hugo <span class="hljs-keyword">new</span> posts/<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">_index</span>.</span></span>md</code></pre><p>&emsp;&emsp;æ­£å¸¸ä¸»é¢˜è¿™æ ·å°±å¯ä»¥æ˜¾ç¤ºæ–‡ç« äº†ï¼Œä½†æ˜¯â€œ hugo-learn-free â€ä¸»é¢˜ä¸ä¸€æ ·ï¼Œå®ƒæœ‰æ–‡ç« å‘½åè§„åˆ™ï¼š</p><p><img src="/2020/10/29/script/%E5%9C%A8Hugo%E4%B8%AD%E4%BD%BF%E7%94%A8css%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9B%BE%E7%89%87%E4%BD%8D%E7%BD%AE/theme_rules.png"></p><p>&emsp;&emsp;ç¬¬ä¸€ç‚¹å°±æ˜¯ï¼šåœ¨å†…å®¹æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ª_index.mdæ–‡æ¡£ï¼Œå¹¶ç”¨Markdownå†…å®¹å¡«å……å®ƒã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬çš„æ–‡ç« éœ€è¦æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶å¤¹å†…ï¼Œä¸”æ–‡ç« å‘½åè¦ä¸º_index.mdã€‚</p><p>&emsp;&emsp;æ–‡ç« çš„å¤§è‡´ç»“æ„å¦‚ä¸‹ï¼š</p><pre><code class="hljs markdown">contentâ”œâ”€ pagesâ”‚  â”œâ”€ first<span class="hljs-emphasis">_page                //æ–‡ä»¶å¤¹ï¼Œå¯ä»¥è‡ªå®šä¹‰å‘½å</span><span class="hljs-emphasis">â”‚  â”‚  â”œâ”€ index                  //æ–‡ä»¶å¤¹ï¼Œå­˜æ”¾åŒå±‚çº§çš„_</span>index.mdä¸­çš„å›¾ç‰‡â”‚  â”‚  â”‚  â””â”€ test<span class="hljs-emphasis">_pic.png        </span><span class="hljs-emphasis">â”‚  â”‚  â””â”€ _</span>index.md              //æ–‡ç« Aä¸‹çš„æ–‡ç« Bâ”‚  â””â”€ <span class="hljs-emphasis">_index.md                 //æ–‡ç« A</span><span class="hljs-emphasis">â””â”€ _</span>index.md                    //ä¸»é¡µ</code></pre><p>&emsp;&emsp;_index.mdæ–‡ä»¶ä¸­ title å±æ€§ä¸ºåœ¨é¡µé¢ä¸­æ˜¾ç¤ºçš„æ–‡ç« æ ‡é¢˜ã€‚</p><p>&emsp;&emsp;åˆ›å»ºæˆåŠŸçš„é¡µé¢é¢„è§ˆï¼š</p><p><img src="/2020/10/29/script/%E5%9C%A8Hugo%E4%B8%AD%E4%BD%BF%E7%94%A8css%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9B%BE%E7%89%87%E4%BD%8D%E7%BD%AE/show1.png"></p><h3 id="ğŸ­-åˆ©ç”¨cssä¿®æ”¹å›¾ç‰‡ä½ç½®"><a href="#ğŸ­-åˆ©ç”¨cssä¿®æ”¹å›¾ç‰‡ä½ç½®" class="headerlink" title="ğŸ­ åˆ©ç”¨cssä¿®æ”¹å›¾ç‰‡ä½ç½®"></a>ğŸ­ åˆ©ç”¨cssä¿®æ”¹å›¾ç‰‡ä½ç½®</h3><p>&emsp;&emsp;åˆ°è¿™é‡Œï¼Œç«™ç‚¹é…ç½®å·®ä¸å¤šäº†ï¼Œå¯ä»¥å¼€å§‹è¿›è¡Œå›¾ç‰‡è®¾ç½®äº†ã€‚è¿™é‡Œä½¿ç”¨çš„æ–¹æ³•å‚è€ƒäº†è¿™é‡Œï¼š<a href="https://www.jianshu.com/p/5b13d1b3ca3a">è‡ªå®šä¹‰ HUGO Markdown å›¾æ–‡æ··æ’å’Œå›¾ç‰‡ä½ç½®</a>ã€‚</p><ol><li>æ‰¾åˆ° blog\themes\hugo-theme-learn\static\css æ–‡ä»¶å¤¹ä¸‹çš„ theme.css ã€‚</li><li>æ‰“å¼€ theme.css ï¼Œæ‰¾åˆ°è®¾ç½®å›¾ç‰‡çš„cssæ ·å¼ä»£ç ã€‚è¿™é‡Œçš„å®ç°æ•ˆæœæ˜¯å›¾ç‰‡è§†é¢‘éƒ½é»˜è®¤å±…ä¸­ä¸”ä¼šä¸Šä¸‹æ¢è¡Œã€‚  <pre><code class="hljs css"><span class="hljs-selector-id">#body</span> <span class="hljs-selector-tag">img</span>, <span class="hljs-selector-id">#body</span> <span class="hljs-selector-class">.video-container</span> &#123;    <span class="hljs-attribute">margin</span>: <span class="hljs-number">3rem</span> auto;    <span class="hljs-attribute">display</span>: block;    <span class="hljs-attribute">text-align</span>: center;&#125;</code></pre></li><li>å¦‚æœæˆ‘ä»¬æƒ³ä¿ç•™è¿™ä¸ªæ ·å¼ï¼Œä½†åˆæƒ³æœ‰æ—¶ä½¿å›¾ç‰‡å±…ä¸­ï¼Œæ·»åŠ ä»¥ä¸‹cssæ ·å¼åˆ° theme.css æ–‡ä»¶å¤¹ä¸­ï¼š<pre><code class="hljs css"><span class="hljs-selector-id">#body</span> <span class="hljs-selector-tag">img</span><span class="hljs-selector-attr">[alt$=<span class="hljs-string">&quot;&lt;&quot;</span>]</span> &#123;    <span class="hljs-attribute">float</span>: left;&#125;<span class="hljs-selector-id">#body</span> <span class="hljs-selector-tag">img</span><span class="hljs-selector-attr">[alt$=<span class="hljs-string">&quot;&gt;&lt;&quot;</span>]</span> &#123;    <span class="hljs-attribute">float</span>: center;&#125;<span class="hljs-selector-id">#body</span> <span class="hljs-selector-tag">img</span><span class="hljs-selector-attr">[alt$=<span class="hljs-string">&quot;&gt;&quot;</span>]</span> &#123;    <span class="hljs-attribute">float</span>: right;&#125;</code></pre></li></ol><p>åœ¨markdownä¸­å†™å›¾ç‰‡ï¼š</p><pre><code class="hljs markdown"><span class="hljs-section"># å›¾ç‰‡é å·¦</span>![<span class="hljs-string">&lt;</span>](<span class="hljs-link">./index/test_pic.png</span>)<span class="hljs-section"># å›¾ç‰‡å±…ä¸­</span>![](./index/test<span class="hljs-emphasis">_pic.png)</span><span class="hljs-emphasis"></span><span class="hljs-emphasis"># å›¾ç‰‡é å³</span><span class="hljs-emphasis"></span><span class="hljs-emphasis">![<span class="hljs-string">&gt;</span>](<span class="hljs-link">./index/test_pic.png</span>)</span></code></pre><p>æ˜¾ç¤ºæ•ˆæœï¼š</p><p><img src="/2020/10/29/script/%E5%9C%A8Hugo%E4%B8%AD%E4%BD%BF%E7%94%A8css%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9B%BE%E7%89%87%E4%BD%8D%E7%BD%AE/float.png"></p><p>ä¹Ÿå¯ä»¥å°è¯•ä¸‹è¿™ç§å†™æ³•ï¼š</p><pre><code class="hljs css"><span class="hljs-selector-id">#body</span> <span class="hljs-selector-tag">img</span><span class="hljs-selector-attr">[src$=<span class="hljs-string">&quot;#left&quot;</span>]</span> &#123;    <span class="hljs-attribute">float</span>: left;    <span class="hljs-attribute">margin</span>: auto;    <span class="hljs-attribute">display</span>: -moz-inline-box;&#125;</code></pre><p>å¯¹åº”markdownï¼š</p><pre><code class="hljs awk">![](.<span class="hljs-regexp">/index/</span>test_pic.png<span class="hljs-comment">#left)</span></code></pre><hr><p>Over~</p>]]></content>
    
    
    <categories>
      
      <category>SCRIPT</category>
      
      <category>Hogo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>SCRIPT</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Mayaå¼€å‘è¿‡ç¨‹å¸¸ç”¨åŠŸèƒ½é›†åˆ</title>
    <link href="/2020/10/13/maya/Maya%E5%BC%80%E5%8F%91%E8%BF%87%E7%A8%8B%E5%B8%B8%E7%94%A8%E5%8A%9F%E8%83%BD%E9%9B%86%E5%90%88/"/>
    <url>/2020/10/13/maya/Maya%E5%BC%80%E5%8F%91%E8%BF%87%E7%A8%8B%E5%B8%B8%E7%94%A8%E5%8A%9F%E8%83%BD%E9%9B%86%E5%90%88/</url>
    
    <content type="html"><![CDATA[<p>&emsp;&emsp;ç”±äºæˆ‘çš„å·¥ä½œéœ€è¦åœ¨Mayaä¸Šè¿›è¡Œå¼€å‘ï¼Œæ‰€ä»¥æƒ³æ€»ç»“ä¸€ä¸‹è‡ªå·±å¸¸ç”¨çš„åŠŸèƒ½ï¼Œä»¥å…ä¸‹æ¬¡è‡ªå·±ä½¿ç”¨çš„æ—¶å€™å¿˜è®°ã€‚</p><h3 id="âŒ-Traceback-æ˜¾ç¤ºè¯¦ç»†çš„æŠ¥é”™ä¿¡æ¯"><a href="#âŒ-Traceback-æ˜¾ç¤ºè¯¦ç»†çš„æŠ¥é”™ä¿¡æ¯" class="headerlink" title="âŒ Traceback æ˜¾ç¤ºè¯¦ç»†çš„æŠ¥é”™ä¿¡æ¯"></a>âŒ <font color="FireBrick">Traceback æ˜¾ç¤ºè¯¦ç»†çš„æŠ¥é”™ä¿¡æ¯</font></h3><p>&emsp;&emsp;ä½¿ç”¨tracebackç±»å¯ä»¥æ•æ‰å¼‚å¸¸å¹¶æ‰“å°ä¿¡æ¯ã€‚ç”±äºåœ¨ç¼–å†™ä»£ç æ—¶ï¼Œç»å¸¸éœ€è¦importå¤šä¸ªç±»ï¼Œä½†æ˜¯å¦‚æœåœ¨mayaçš„è„šæœ¬ç¼–è¾‘å™¨ä¸­ç›´æ¥è¿è¡Œé”™è¯¯çš„ä»£ç ï¼Œä¸ä¸€å®šèƒ½è¿”å›è¯¦ç»†çš„æŠ¥é”™ä¿¡æ¯ï¼Œæ— æ³•å¾—çŸ¥æ˜¯å“ªä¸€ä¸ªæ–‡ä»¶å“ªä¸€è¡Œçš„é”™è¯¯ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªå°ä¾‹å­ã€‚</p><ul><li><strong>åˆ›å»ºä¸¤ä¸ªæ–‡ä»¶ï¼štest.py å’Œ errorfile.py</strong><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<span class="hljs-keyword">import</span> errorfile<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test_func</span>():</span>    errorfile.error_func()</code></pre>  errorfile.py<pre><code class="hljs python"><span class="hljs-keyword">import</span> os<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">error_func</span>():</span>    os.makedirs(<span class="hljs-string">r&quot;C:\test_folder&quot;</span>)</code></pre></li></ul><ul><li><strong>åœ¨mayaä¸­çš„è¿è¡Œä»£ç ï¼š</strong><ul><li>ä¸ä½¿ç”¨tracebackçš„ä»£ç <pre><code class="hljs python"><span class="hljs-keyword">import</span> syssys.path.insert(<span class="hljs-number">0</span>,<span class="hljs-string">r&#x27;D:\git_script&#x27;</span>)<span class="hljs-keyword">import</span> testreload(test)test.test_func()</code></pre>  æŠ¥é”™ï¼š<br>  <font color="red"># Error: WindowsError: file C:\Program Files\Autodesk\Maya2018\bin\python27.zip\os.py line 157: 183 # </font></li><li>ä½¿ç”¨tracebackçš„ä»£ç <pre><code class="hljs python"><span class="hljs-keyword">try</span>:    <span class="hljs-keyword">import</span> test    reload(test)    test.test_func()<span class="hljs-keyword">except</span>:    <span class="hljs-keyword">import</span> traceback    traceback.print_exc()</code></pre>  æŠ¥é”™ï¼š<br>  <font color="red"># Traceback (most recent call last):<br>  #   File â€œ<maya console>â€œ, line 7, in <module><br>  #   File â€œD:\git_script\test.pyâ€, line 5, in test_func<br>  #     faa.error_func()<br>  #   File â€œD:\git_script\errorfile.pyâ€, line 4, in error_func<br>  #     os.makedirs(râ€C:\test_folderâ€)<br>  #   File â€œC:\Program Files\Autodesk\Maya2018\bin\python27.zip\os.pyâ€, line 157, in makedirs<br>  #     mkdir(name, mode)<br>  # WindowsError: [Error 183] : â€˜C:\test_folderâ€™  </module></maya></font></li></ul></li></ul><p>&emsp;&emsp;ä»ä¸Šé¢ä¾‹å­å¯ä»¥çœ‹åˆ°ï¼Œä½¿ç”¨tracebackåæ˜¾ç¤ºçš„é”™è¯¯ä¿¡æ¯ååˆ†å®Œæ•´ï¼Œå¯¹äºæ‰¾bugååˆ†æœ‰ç”¨ã€‚ğŸ‘</p><h3 id="ğŸ’¡-ä¿®æ”¹å‚è€ƒæ–‡ä»¶çš„è·¯å¾„"><a href="#ğŸ’¡-ä¿®æ”¹å‚è€ƒæ–‡ä»¶çš„è·¯å¾„" class="headerlink" title="ğŸ’¡ ä¿®æ”¹å‚è€ƒæ–‡ä»¶çš„è·¯å¾„"></a>ğŸ’¡ <font color="FireBrick">ä¿®æ”¹å‚è€ƒæ–‡ä»¶çš„è·¯å¾„</font></h3><p>&emsp;&emsp;å¼€å‘æŸäº›å·¥å…·çš„è¿‡ç¨‹ä¸­éœ€è¦ä¿®æ”¹mayaåœºæ™¯å‚è€ƒèµ„äº§çš„è·¯å¾„ï¼Œä»¥ä¸‹æ˜¯cmdså’Œpmè·å–referenceèŠ‚ç‚¹ä»¥åŠä¿®æ”¹è·¯å¾„çš„æ–¹æ³•ï¼š</p><ul><li><strong>ä½¿ç”¨pm</strong><pre><code class="hljs python">pm.FileReference(rn_node).unresolvedPath()pm.FileReference(rn_node).replaceWith(new_path)</code></pre></li><li><strong>ä½¿ç”¨cmds</strong>ï¼š<pre><code class="hljs python">cmds.referenceQuery(rn_node, filename=<span class="hljs-number">1</span>)cmds.file(new_path, loadReference=rn_node)</code></pre></li></ul><h3 id="â°-åœºæ™¯æ—¶é—´è½´èŠ‚ç‚¹-sceneConfigurationScriptNode"><a href="#â°-åœºæ™¯æ—¶é—´è½´èŠ‚ç‚¹-sceneConfigurationScriptNode" class="headerlink" title="â° åœºæ™¯æ—¶é—´è½´èŠ‚ç‚¹ sceneConfigurationScriptNode"></a>â° <font color="FireBrick">åœºæ™¯æ—¶é—´è½´èŠ‚ç‚¹ sceneConfigurationScriptNode</font></h3><p>&emsp;&emsp;Mayaåœ¨ä¿å­˜æ–‡ä»¶æ—¶ä¼šè®°å½•ä¸€ä¸ªè®°å½•åœºæ™¯æ—¶é—´è½´ä¿¡æ¯çš„èŠ‚ç‚¹â€œsceneConfigurationScriptNodeâ€ï¼Œè¯¥èŠ‚ç‚¹å¯ä»¥åœ¨è¡¨è¾¾å¼ç¼–è¾‘å™¨â€œExpression Editorâ€ä¸­æ‰¾åˆ°ã€‚<br><img src="/2020/10/13/maya/Maya%E5%BC%80%E5%8F%91%E8%BF%87%E7%A8%8B%E5%B8%B8%E7%94%A8%E5%8A%9F%E8%83%BD%E9%9B%86%E5%90%88/editor.png"></p><p>&emsp;&emsp;åœ¨å±æ€§ç¼–è¾‘å™¨â€œAttribute Editorâ€ä¸­ï¼Œå¯ä»¥çœ‹åˆ°è¯¥èŠ‚ç‚¹çš„è¯¦ç»†ä¿¡æ¯ã€‚<br><img src="/2020/10/13/maya/Maya%E5%BC%80%E5%8F%91%E8%BF%87%E7%A8%8B%E5%B8%B8%E7%94%A8%E5%8A%9F%E8%83%BD%E9%9B%86%E5%90%88/script_editor.png"></p><p>&emsp;&emsp;å¯ä»¥é€šè¿‡cmds.objExists()æŸ¥è¯¢èŠ‚ç‚¹æ˜¯å¦å­˜åœ¨ã€‚åœ¨å¯¹é€‰æ‹©å¯¼å‡ºæ—¶ï¼Œå¯ä»¥æŠŠè¯¥èŠ‚ç‚¹ä¸€åŒé€‰æ‹©å¯¼å‡ºï¼Œä½¿åœºæ™¯ä¿ç•™æ—¶é—´è½´ä¿¡æ¯ã€‚</p><pre><code class="hljs python">cmds.objExists(<span class="hljs-string">&#x27;sceneConfigurationScriptNode&#x27;</span>)cmds.objectType(<span class="hljs-string">&#x27;sceneConfigurationScriptNode&#x27;</span>)</code></pre><h3 id="ğŸ’-ä½¿ç”¨PySide2åˆ›å»ºMayaç½®é¡¶çš„çª—å£"><a href="#ğŸ’-ä½¿ç”¨PySide2åˆ›å»ºMayaç½®é¡¶çš„çª—å£" class="headerlink" title="ğŸ’ ä½¿ç”¨PySide2åˆ›å»ºMayaç½®é¡¶çš„çª—å£"></a>ğŸ’ <font color="FireBrick">ä½¿ç”¨PySide2åˆ›å»ºMayaç½®é¡¶çš„çª—å£</font></h3><p>&emsp;&emsp;Maya2016ç‰ˆæœ¬ä»¥ä¸Šä¼šè‡ªå¸¦PySide2ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨PySide2åœ¨Mayaä¸­åˆ›å»ºçª—å£ã€‚</p><p>&emsp;&emsp;Mè¯¥å†…å®¹å‚è€ƒæ¥æº <a href="https://blog.l0v0.com/%2Fposts%2F2e0af969.html">æ™ºä¼¤å¸ - Python Qt å¼€å‘æ•™ç¨‹ æ‰©å±•è¯´æ˜</a>ã€‚</p><pre><code class="hljs python"><span class="hljs-keyword">import</span> maya.OpenMayaUI <span class="hljs-keyword">as</span> omui<span class="hljs-keyword">try</span>:    <span class="hljs-keyword">from</span> shiboken2 <span class="hljs-keyword">import</span> wrapInstance<span class="hljs-keyword">except</span> ImportError:    <span class="hljs-keyword">from</span> shiboken <span class="hljs-keyword">import</span> wrapInstance<span class="hljs-comment"># ! è¿™ä¸ªå‡½æ•°å¯ä»¥å®ç°å°† Maya çš„ UI è½¬æ¢ä¸º Qt çš„ QWidget ç»„ä»¶</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">mayaToQT</span>(<span class="hljs-params">name</span>):</span>    ptr = omui.MQtUtil.findControl(name)    <span class="hljs-keyword">if</span> ptr <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:        ptr = omui.MQtUtil.findLayout(name)    <span class="hljs-keyword">if</span> ptr <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:        ptr = omui.MQtUtil.findMenuItem(name)    <span class="hljs-keyword">if</span> ptr <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:        <span class="hljs-keyword">return</span> wrapInstance(long(ptr), QWidget)<span class="hljs-comment"># ! æ£€æŸ¥çª—å£å¤šå¼€</span><span class="hljs-keyword">global</span> XG_WIN<span class="hljs-keyword">if</span> <span class="hljs-string">&#x27;XG_WIN&#x27;</span> <span class="hljs-keyword">in</span> globals():    <span class="hljs-keyword">if</span> cmds.window(XG_WIN, q=<span class="hljs-number">1</span>, ex=<span class="hljs-number">1</span>):        cmds.evalDeferred(<span class="hljs-string">&quot;cmds.deleteUI(\&quot;&quot;</span> + XG_WIN + <span class="hljs-string">&quot;\&quot;)&quot;</span>)<span class="hljs-comment"># ! è·å– Qt çª—å£æ§ä»¶</span>tool_ui = p_xgmArchiveExportBatchUI(<span class="hljs-literal">False</span>)<span class="hljs-comment"># ! åˆ›å»º Maya çª—å£</span>XG_WIN = cmds.window(title=tool_ui.windowTitle())<span class="hljs-comment"># ! æ˜¾ç¤º Maya çª—å£</span>cmds.showWindow(XG_WIN)<span class="hljs-comment"># ! Maya çª—å£è½¬æ¢ä¸º Qt å¯¹è±¡</span>ptr = mayaToQT(XG_WIN)<span class="hljs-comment"># ! Maya çª—å£æ·»åŠ  Qt å¸ƒå±€</span>ptr.setLayout(QVBoxLayout())ptr.layout().setContentsMargins(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<span class="hljs-comment"># ! æŠŠ Qt çª—å£æ§ä»¶æ·»åŠ åˆ° Maya çª—å£å¸ƒå±€ä¸­</span>ptr.layout().addWidget(tool_ui)ptr.setFixedSize(QSize(tool_ui.width(), tool_ui.height()))</code></pre><h3 id="ğŸ”-åŠ å¿«Mayaå¯åŠ¨é€Ÿåº¦"><a href="#ğŸ”-åŠ å¿«Mayaå¯åŠ¨é€Ÿåº¦" class="headerlink" title="ğŸ” åŠ å¿«Mayaå¯åŠ¨é€Ÿåº¦"></a>ğŸ” <font color="FireBrick">åŠ å¿«Mayaå¯åŠ¨é€Ÿåº¦</font></h3><p>&emsp;&emsp;Mayaåœ¨å¯åŠ¨æ—¶ä¼šè·å–æœåŠ¡å™¨ç™»é™†ä¿¡æ¯ï¼Œåœ¨æ–­ç½‘çš„å·¥ä½œçŠ¶æ€ä¸‹ï¼Œä¼šç”±äºæ— æ³•è”ç½‘è€Œä¸æ–­é‡æ–°è·å–ï¼Œå› æ­¤ä¼šå¡ä½ä¸€æ®µæ—¶é—´ï¼Œå¯¹äºéœ€è¦é¢‘ç¹æ‰“å¼€å…³é—­mayaæµ‹è¯•ä¼šååˆ†å½±å“æ•ˆç‡ã€‚</p><p>&emsp;&emsp;åœ¨â€œæ–‡æ¡£\maya\2018ï¼ˆè§†ä¸‹è½½ç‰ˆæœ¬è€Œå®šï¼‰â€æ–‡ä»¶å¤¹çš„â€œMaya.envâ€æ–‡ä»¶ä¸­ï¼Œæ·»åŠ <code>MAYA_DISABLE_CLIC_IPM=1</code>å³å¯å…³é—­åœ¨çº¿ç™»å…¥åŠŸèƒ½ï¼Œæé«˜mayaæ‰“å¼€çš„é€Ÿåº¦ã€‚</p><p><img src="/2020/10/13/maya/Maya%E5%BC%80%E5%8F%91%E8%BF%87%E7%A8%8B%E5%B8%B8%E7%94%A8%E5%8A%9F%E8%83%BD%E9%9B%86%E5%90%88/%E5%8A%A0%E5%BF%ABmaya%E5%90%AF%E5%8A%A8.png"></p><p>&emsp;&emsp;è¿è¡Œä»¥ä¸‹æ–‡ä»¶å¯ä»¥å¯¹è¯¥ç”µè„‘å†…æ‰€æœ‰mayaç‰ˆæœ¬çš„â€œMaya.envâ€æ–‡ä»¶æ·»åŠ â€œMAYA_DISABLE_CLIC_IPM=1â€ã€‚</p><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: utf-8 -*-</span><span class="hljs-keyword">import</span> os<span class="hljs-keyword">import</span> re<span class="hljs-keyword">import</span> ctypes<span class="hljs-keyword">from</span> ctypes.wintypes <span class="hljs-keyword">import</span> MAX_PATH<span class="hljs-keyword">import</span> win32api,win32con<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">setting</span>():</span>    <span class="hljs-comment"># ! è·å–æ–‡æ¡£è·¯å¾„</span>    dll = ctypes.windll.shell32    buf = ctypes.create_unicode_buffer(MAX_PATH + <span class="hljs-number">1</span>)    <span class="hljs-keyword">if</span> dll.SHGetSpecialFolderPathW(<span class="hljs-literal">None</span>, buf, <span class="hljs-number">0x0005</span>, <span class="hljs-literal">False</span>):        doc_path = buf.value    <span class="hljs-keyword">else</span>:        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>    maya_path = doc_path + <span class="hljs-string">&#x27;/&#x27;</span> + <span class="hljs-string">&#x27;maya&#x27;</span>    maya_path = maya_path.replace(<span class="hljs-string">&#x27;\\&#x27;</span>, <span class="hljs-string">&#x27;/&#x27;</span>)    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(maya_path):        win32api.MessageBox(<span class="hljs-number">0</span>,<span class="hljs-string">u&#x27;æ–‡æ¡£ä¸‹æ²¡æœ‰mayaæ–‡ä»¶å¤¹!&#x27;</span>, <span class="hljs-string">u&#x27;MayaEnvé…ç½®å¤±è´¥&#x27;</span>,win32con.MB_OK)        <span class="hljs-keyword">return</span>    <span class="hljs-comment"># ! è·å–mayaenvè·¯å¾„</span>    maya_env_list = []    file_list = os.listdir(maya_path)    <span class="hljs-keyword">for</span> _file <span class="hljs-keyword">in</span> file_list:        match = re.match(<span class="hljs-string">&#x27;^(20\d\d)&#x27;</span>,_file)        maya_dir = maya_path + <span class="hljs-string">&#x27;/&#x27;</span> + _file        <span class="hljs-keyword">if</span> match <span class="hljs-keyword">and</span> os.path.isdir(maya_dir):            maya_env_list.append(maya_path + <span class="hljs-string">&#x27;/&#x27;</span> + _file + <span class="hljs-string">&#x27;/maya.env&#x27;</span>)    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> maya_env_list:        win32api.MessageBox(<span class="hljs-number">0</span>, <span class="hljs-string">u&#x27;mayaæ–‡ä»¶å¤¹ä¸‹æ²¡æœ‰å¯¹åº”ç‰ˆæœ¬çš„maya!&#x27;</span>, <span class="hljs-string">u&#x27;MayaEnvé…ç½®å¤±è´¥&#x27;</span>,win32con.MB_OK)        <span class="hljs-keyword">return</span>    setting_content = <span class="hljs-string">&#x27;MAYA_DISABLE_CLIC_IPM=1&#x27;</span>    lines = []    <span class="hljs-keyword">for</span> path <span class="hljs-keyword">in</span> maya_env_list:        <span class="hljs-comment"># ! æ·»åŠ é…ç½®</span>        <span class="hljs-keyword">with</span> open(path,<span class="hljs-string">&#x27;a+&#x27;</span>) <span class="hljs-keyword">as</span> fp:            content = fp.read()            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> setting_content <span class="hljs-keyword">in</span> content:                fp.seek(<span class="hljs-number">0</span>)                fp.write(<span class="hljs-string">&#x27;\n&#x27;</span> + setting_content)    win32api.MessageBox(<span class="hljs-number">0</span>, <span class="hljs-string">u&#x27;é…ç½®æˆåŠŸ!&#x27;</span>, <span class="hljs-string">u&#x27;MayaEnvé…ç½®&#x27;</span>,win32con.MB_OK)<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:    setting()</code></pre><h3 id="ğŸ’-è·å–Mayaçš„runTimeCommandæ‰€åœ¨è·¯å¾„"><a href="#ğŸ’-è·å–Mayaçš„runTimeCommandæ‰€åœ¨è·¯å¾„" class="headerlink" title="ğŸ’ è·å–Mayaçš„runTimeCommandæ‰€åœ¨è·¯å¾„"></a>ğŸ’ <font color="FireBrick">è·å–Mayaçš„runTimeCommandæ‰€åœ¨è·¯å¾„</font></h3><p>&emsp;&emsp;åœ¨Mayaå¼€å‘ç»å¸¸ä¼šåœ¨ä¸€äº›Mayaè‡ªå¸¦çš„åŠŸèƒ½ä¸Šè¿›è¡Œæ”¹è¿›ï¼Œå‡è®¾éœ€è¦å¯¹å·¥å…·æ ä¸Šçš„æŸä¸ªåŠŸèƒ½è¿›è¡Œæ”¹è¿›ï¼Œå¦‚ä½•æ‰¾åˆ°è¿™äº›å‘½ä»¤çš„ä»£ç å‘¢ï¼Ÿ</p><p>&emsp;&emsp;ä»¥Mayaçš„Attach Cacheä¸ºä¾‹æ¥è¯´æ˜ï¼Œè¿™ä¸ªå‘½ä»¤å¯ä»¥é€šè¿‡é€‰æ‹©éœ€è¦æ›¿æ¢çš„èŠ‚ç‚¹ï¼ŒæŒ‡å®šç¼“å­˜è·¯å¾„æ¥æ›¿æ¢ç¼“å­˜ï¼Œä½†æ˜¯åªèƒ½å¯¹é€‰æ‹©çš„èŠ‚ç‚¹è¿›è¡Œæ›¿æ¢ã€‚å‡å¦‚æˆ‘ä»¬éœ€è¦å¯¹åœºæ™¯ä¸­æ‰€æœ‰çš„æ¯›å‘èŠ‚ç‚¹æ ¹æ®èŠ‚ç‚¹åç§°æ›¿æ¢ä¸åŒç¼“å­˜ï¼Œè¯¥å¦‚ä½•å®ç°å‘¢ï¼Ÿ</p><p><img src="/2020/10/13/maya/Maya%E5%BC%80%E5%8F%91%E8%BF%87%E7%A8%8B%E5%B8%B8%E7%94%A8%E5%8A%9F%E8%83%BD%E9%9B%86%E5%90%88/ncache1.png"></p><ol><li>é¦–å…ˆï¼Œæ‰¾åˆ°è¿™ä¸ªåŠŸèƒ½çš„åç§°ã€‚é€šè¿‡ç»„åˆé”®â€œCtrl+Shift+å·¦é”®â€ç‚¹å‡»â€œAttach Cacheâ€ï¼Œå¯ä»¥æŠŠå®ƒæ·»åŠ åˆ°å·¥å…·æ ä¸Šã€‚<br><img src="/2020/10/13/maya/Maya%E5%BC%80%E5%8F%91%E8%BF%87%E7%A8%8B%E5%B8%B8%E7%94%A8%E5%8A%9F%E8%83%BD%E9%9B%86%E5%90%88/ncache2.png"></li><li>åœ¨å·¥å…·æ ä¸­å³å‡»è¯¥å·¥å…·ï¼Œé€‰æ‹©â€œEditâ€ï¼Œæ‰“å¼€å·¥å…·ç¼–è¾‘å™¨ã€‚<br><img src="/2020/10/13/maya/Maya%E5%BC%80%E5%8F%91%E8%BF%87%E7%A8%8B%E5%B8%B8%E7%94%A8%E5%8A%9F%E8%83%BD%E9%9B%86%E5%90%88/ncache3.png"></li><li>åœ¨â€œShelf Editorâ€ä¸­ï¼Œå¯ä»¥é€šè¿‡Commandé¢æ¿æŸ¥çœ‹åˆ°è¯¥å·¥å…·ä½¿ç”¨çš„è¯­è¨€ä»¥åŠè°ƒç”¨çš„å‘½ä»¤ã€‚å¯ä»¥çœ‹åˆ°ï¼Œâ€œAttach Cacheâ€å·¥å…·ç”¨çš„æ˜¯Melè¯­è¨€ï¼Œè°ƒç”¨çš„å‘½ä»¤ä¸ºâ€œattachCacheâ€ã€‚åœ¨è„šæœ¬ç¼–è¾‘å™¨â€œMELâ€ä¸­è¿è¡Œâ€œattachCacheâ€ï¼Œæ•ˆæœä¸ç›´æ¥ç‚¹å‡»è¯¥å·¥å…·ç›¸åŒã€‚<br><img src="/2020/10/13/maya/Maya%E5%BC%80%E5%8F%91%E8%BF%87%E7%A8%8B%E5%B8%B8%E7%94%A8%E5%8A%9F%E8%83%BD%E9%9B%86%E5%90%88/ncache4.png"></li><li>é€šè¿‡whatIså‘½ä»¤æŸ¥è¯¢melæ–‡ä»¶æ‰€åœ¨ä½ç½®ã€‚  <pre><code class="hljs MEL"><span class="hljs-comment">// ç›´æ¥è¿è¡Œ</span> attachCache <span class="hljs-comment">// æŸ¥è¯¢attachCacheç±»å‹</span> <span class="hljs-keyword">whatIs</span> attachCache <span class="hljs-comment">// Result: Run Time Command // </span> <span class="hljs-comment">// æŸ¥è¯¢runTimeCommandè°ƒç”¨çš„æ–¹æ³•</span> <span class="hljs-keyword">runTimeCommand</span> -q -command attachCache <span class="hljs-comment">// Result: doAttachCacheArgList(0,&#123;&#125;) // </span> <span class="hljs-comment">// æŸ¥è¯¢doAttachCacheArgList</span> <span class="hljs-keyword">whatIs</span> doAttachCacheArgList <span class="hljs-comment">// Result: Mel procedure found in: C:/Program Files/Autodesk/Maya2018/scripts/others/doAttachCacheArgList.mel //</span></code></pre></li><li>æ‰¾åˆ°æ‰€åœ¨melæ–‡ä»¶åï¼Œæˆ‘ä»¬å°±å¯ä»¥æŸ¥çœ‹é‡Œé¢çš„ä»£ç å†…å®¹è‡ªå·±è¿›è¡Œä¿®æ”¹äº†~ã€‚</li></ol><p>ğŸ–Œ å¾…ç»­æœªå®Œâ€¦</p>]]></content>
    
    
    <categories>
      
      <category>Maya</category>
      
      <category>collection</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MAYA</tag>
      
      <tag>SUM</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä½¿ç”¨cv2è¿›è¡Œå›¾åƒåŒ¹é…</title>
    <link href="/2020/10/12/script/python/cv2/%E4%BD%BF%E7%94%A8cv2%E8%BF%9B%E8%A1%8C%E5%9B%BE%E5%83%8F%E5%8C%B9%E9%85%8D/"/>
    <url>/2020/10/12/script/python/cv2/%E4%BD%BF%E7%94%A8cv2%E8%BF%9B%E8%A1%8C%E5%9B%BE%E5%83%8F%E5%8C%B9%E9%85%8D/</url>
    
    <content type="html"><![CDATA[<p>&emsp;&emsp;æœ¬èŠ‚ä»‹ç»cv2åœ¨pythonä¸­çš„å®‰è£…ï¼ŒåŠå…¶è¯»å–ã€æ˜¾ç¤ºã€ä¿å­˜å›¾ç‰‡åŠŸèƒ½ç”¨æ³•ã€‚</p><h3 id="ğŸ”»-å®‰è£…cv2"><a href="#ğŸ”»-å®‰è£…cv2" class="headerlink" title="ğŸ”» å®‰è£…cv2"></a>ğŸ”» å®‰è£…cv2</h3><p>&emsp;&emsp;åˆ©ç”¨pip3 install å®‰è£…</p><pre><code class="hljs cmake">pip3 <span class="hljs-keyword">install</span> opencv-python</code></pre><p>&emsp;&emsp;å®‰è£…æˆåŠŸï¼š</p><p><img src="/2020/10/12/script/python/cv2/%E4%BD%BF%E7%94%A8cv2%E8%BF%9B%E8%A1%8C%E5%9B%BE%E5%83%8F%E5%8C%B9%E9%85%8D/pip%E5%AE%89%E8%A3%85.png"></p><p>ğŸ˜® <font color="orange">é¢˜å¤–è¯ Begin</font></p><p>&emsp;&emsp;ä¸ºä»€ä¹ˆæˆ‘ä½¿ç”¨pipå®‰è£…æ—¶å€™æ˜¯ä½¿ç”¨å›½å†…é•œåƒå‘¢ï¼Ÿå…¶å®åªéœ€è¦é…ç½®ä¸€ä¸ªæ–‡ä»¶å³å¯å®ç°é»˜è®¤ä½¿ç”¨å›½å†…æºã€‚åœ¨Windowsç³»ç»Ÿä¸‹çš„å…·ä½“æ“ä½œå¦‚ä¸‹ï¼š</p><ol><li>åœ¨ç”¨æˆ·ç›®å½•â€œC:/Users/<font color="pink">ç”¨æˆ·å</font>â€ä¸­åˆ›å»ºä¸€ä¸ªåä¸ºâ€œpipâ€çš„æ–‡ä»¶å¤¹</li><li>åœ¨â€œpipâ€æ–‡ä»¶å¤¹ä¸­æ–°å»ºæ–‡ä»¶â€œpip.iniâ€</li><li>åœ¨â€œpip.iniâ€æ–‡ä»¶ä¸­å†™å…¥ä¸€ä¸‹å†…å®¹å¹¶ä¿å­˜   <pre><code class="hljs ini"><span class="hljs-section">[global]</span><span class="hljs-attr">index-url</span>=https://pypi.tuna.tsinghua.edu.cn/simple <span class="hljs-section">[install]</span>  <span class="hljs-attr">trusted-host</span>=pypi.tuna.tsinghua.edu.cn<span class="hljs-attr">disable-pip-version-check</span> = <span class="hljs-literal">true</span>  <span class="hljs-attr">timeout</span> = <span class="hljs-number">6000</span></code></pre></li><li>ä¹‹åä½¿ç”¨pipå®‰è£…çš„åº“éƒ½ä¼šé»˜è®¤ä¸‹è½½æ¸…åå›½å†…æºå•¦</li></ol><p>ğŸ˜® <font color="orange">é¢˜å¤–è¯ Over</font></p><p>&emsp;&emsp;ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨python3ä¸­å¯¼å…¥cv2è¿™ä¸ªåº“äº†ã€‚</p><pre><code class="hljs python"><span class="hljs-keyword">import</span> cv2</code></pre><h3 id="ğŸ‘€-è¯»å–ã€æ˜¾ç¤ºã€ä¿å­˜å›¾åƒ"><a href="#ğŸ‘€-è¯»å–ã€æ˜¾ç¤ºã€ä¿å­˜å›¾åƒ" class="headerlink" title="ğŸ‘€ è¯»å–ã€æ˜¾ç¤ºã€ä¿å­˜å›¾åƒ"></a>ğŸ‘€ è¯»å–ã€æ˜¾ç¤ºã€ä¿å­˜å›¾åƒ</h3><p>å‚è€ƒï¼š<a href="https://blog.csdn.net/qq_42079689/article/details/102535329">https://blog.csdn.net/qq_42079689/article/details/102535329</a></p><h4 id="è¯»å–å›¾åƒ-cv2-imread-filepath-flags"><a href="#è¯»å–å›¾åƒ-cv2-imread-filepath-flags" class="headerlink" title="è¯»å–å›¾åƒ cv2.imread(filepath,flags)"></a><font color="pink">è¯»å–å›¾åƒ cv2.imread(filepath,flags)</font></h4><ul><li>filepathï¼šè¯»å…¥å›¾åƒè·¯å¾„ï¼ˆç´¢å¼•åœ°å€ï¼‰</li><li>flagsï¼šç”¨äºæŒ‡å®šä»¥ä»€ä¹ˆæ ·çš„æ ¼å¼æ¥è¯»å–å›¾åƒ<ul><li>flags = 1 / cv2.IMREAD_UNCHANGEDï¼šé‡‡ç”¨ä¿æŒåŸå§‹æ ¼å¼çš„æ–¹å¼è¯»å–å›¾åƒã€‚é»˜è®¤å‚æ•°ã€‚</li><li>flags = 2 / cv2.IMREAD_GRAYSCALEï¼šä»¥ç°åº¦å›¾åƒæ ¼å¼è¯»å–å›¾åƒã€‚æ— è®ºåŸå§‹å›¾åƒåŸæ¥æ˜¯ä»€ä¹ˆæ ¼å¼ï¼Œè¯»å–åéƒ½çš„ç»“æœéƒ½è½¬å˜ä¸ºç°åº¦å›¾åƒã€‚</li><li>flags = 3 / cv2.IMREAD_COLORï¼šä»¥BGRæ ¼å¼è¯»å–å›¾åƒã€‚æ— è®ºåŸå§‹å›¾åƒåŸæ¥æ˜¯ä»€ä¹ˆæ ¼å¼ï¼Œè¯»å–åéƒ½çš„ç»“æœéƒ½è½¬å˜ä¸ºBGRå½¢å¼çš„ä¸‰é€šé“å›¾åƒã€‚</li></ul></li></ul><p>éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼šcv2.imread()å‡½æ•°è¯»å–RGBå›¾åƒæ—¶ï¼Œè¿”å›çš„å›¾åƒæ ¼å¼çš„é€šé“å¹¶ä¸æ˜¯æŒ‰Rã€Gã€Bæ’åˆ—çš„ï¼Œè€Œæ˜¯æŒ‰Bã€Gã€Ré¡ºåºæ’åˆ—çš„ã€‚</p><h4 id="æ˜¾ç¤ºå›¾åƒ-cv2-imshow-wname-img"><a href="#æ˜¾ç¤ºå›¾åƒ-cv2-imshow-wname-img" class="headerlink" title="æ˜¾ç¤ºå›¾åƒ cv2.imshow(wname,img)"></a><font color="pink">æ˜¾ç¤ºå›¾åƒ cv2.imshow(wname,img)</font></h4><ul><li>wnameï¼šæ˜¾ç¤ºçª—å£çš„åå­—</li><li>imgï¼šéœ€è¦æ˜¾ç¤ºçš„å›¾åƒï¼ˆä½¿ç”¨imreadè¯»å…¥ï¼‰</li></ul><h4 id="ä¿å­˜å›¾åƒ-cv2-imwrite-fileï¼Œimgï¼Œnum"><a href="#ä¿å­˜å›¾åƒ-cv2-imwrite-fileï¼Œimgï¼Œnum" class="headerlink" title="ä¿å­˜å›¾åƒ cv2.imwrite(fileï¼Œimgï¼Œnum)"></a><font color="pink">ä¿å­˜å›¾åƒ cv2.imwrite(fileï¼Œimgï¼Œnum)</font></h4><ul><li><p>fileï¼šè¦ä¿å­˜çš„æ–‡ä»¶å</p></li><li><p>imgï¼šéœ€è¦ä¿å­˜çš„å›¾åƒï¼ˆä½¿ç”¨imreadè¯»å…¥ï¼‰</p></li><li><p>numï¼šå¯é€‰å‚æ•°ï¼Œé’ˆå¯¹ç‰¹å®šçš„æ ¼å¼ï¼šå¯¹äºJPEGï¼Œå…¶è¡¨ç¤ºçš„æ˜¯å›¾åƒçš„è´¨é‡ï¼Œç”¨0 - 100çš„æ•´æ•°è¡¨ç¤ºï¼Œé»˜è®¤95ï¼›å¯¹äºpng ç¬¬ä¸‰ä¸ªå‚æ•°è¡¨ç¤ºçš„æ˜¯å‹ç¼©çº§åˆ«ï¼Œé»˜è®¤ä¸º3ã€‚</p><ul><li>cv2.IMWRITE_JPEG_QUALITYç±»å‹ä¸º long ,å¿…é¡»è½¬æ¢æˆ int</li><li>cv2.IMWRITE_PNG_COMPRESSION, ä»0åˆ°9 å‹ç¼©çº§åˆ«è¶Šé«˜å›¾åƒè¶Šå°</li></ul></li></ul><h4 id="å®ä¾‹"><a href="#å®ä¾‹" class="headerlink" title="å®ä¾‹"></a><font color="orange">å®ä¾‹</font></h4><p>&emsp;&emsp;ä»¥â€œsky.jpgâ€å›¾ç‰‡ä¸ºä¾‹è¿›è¡Œå›¾åƒè¯»å–ã€æ˜¾ç¤ºåŠä¿å­˜ã€‚</p><pre><code class="hljs python"><span class="hljs-comment"># -*- coding:utf-8 -*-</span><span class="hljs-keyword">import</span> cv2<span class="hljs-comment"># ! è¯»å…¥ä¸€å¼ å›¾åƒï¼Œè¯»å–æ–¹å¼ä¸ºç°åº¦æ¨¡å¼</span>img = cv2.imread(<span class="hljs-string">&#x27;sky.jpg&#x27;</span>,cv2.IMREAD_GRAYSCALE)<span class="hljs-comment"># ! æ˜¾ç¤ºè¯»å…¥çš„å›¾åƒï¼Œå¹¶è®¾ç½®çª—å£åä¸ºâ€œsky_imageâ€</span>cv2.imshow(<span class="hljs-string">&#x27;sky_image&#x27;</span>,img)<span class="hljs-comment"># ! ç­‰å¾…é”®ç›˜è¾“å…¥ï¼Œå•ä½ä¸ºæ¯«ç§’ï¼Œå³ç­‰å¾…æŒ‡å®šçš„æ¯«ç§’æ•°çœ‹æ˜¯å¦æœ‰é”®ç›˜è¾“å…¥</span><span class="hljs-comment"># ! è‹¥åœ¨ç­‰å¾…æ—¶é—´å†…æŒ‰ä¸‹ä»»æ„é”®åˆ™è¿”å›æŒ‰é”®çš„ASCIIç ï¼Œç¨‹åºç»§ç»­è¿è¡Œã€‚è‹¥æ²¡æœ‰æŒ‰ä¸‹ä»»ä½•é”®ï¼Œè¶…æ—¶åè¿”å›-1ã€‚å‚æ•°ä¸º0è¡¨ç¤ºæ— é™ç­‰å¾…ã€‚</span><span class="hljs-comment"># ! ä¸è°ƒç”¨waitKeyçš„è¯ï¼Œçª—å£ä¼šä¸€é—ªè€Œé€ï¼Œçœ‹ä¸åˆ°æ˜¾ç¤ºçš„å›¾ç‰‡ã€‚</span>cv2.waitKey(<span class="hljs-number">0</span>)<span class="hljs-comment"># ! é”€æ¯æŒ‡å®šçª—å£</span>cv2.destroyWindow(<span class="hljs-string">&#x27;sky_image&#x27;</span>)<span class="hljs-comment"># ! é”€æ¯æ‰€æœ‰çª—å£</span><span class="hljs-comment"># cv2.destroyAllWindow()</span><span class="hljs-comment"># ! ä¿å­˜å›¾åƒ</span>cv2.imwrite(<span class="hljs-string">&#x27;sky_1.jpeg&#x27;</span>,img, [int( cv2.IMWRITE_JPEG_QUALITY), <span class="hljs-number">95</span>])cv2.imwrite(<span class="hljs-string">&#x27;sky_2.png&#x27;</span>,img, [int(cv2.IMWRITE_PNG_COMPRESSION), <span class="hljs-number">9</span>])</code></pre><p>è¿è¡Œåæ˜¾ç¤ºå›¾ç‰‡ï¼š</p><p><img src="/2020/10/12/script/python/cv2/%E4%BD%BF%E7%94%A8cv2%E8%BF%9B%E8%A1%8C%E5%9B%BE%E5%83%8F%E5%8C%B9%E9%85%8D/%E6%98%BE%E7%A4%BA%E7%9A%84%E5%9B%BE%E5%83%8F.png"></p><p>è¿è¡Œç»“æŸåä¿å­˜å›¾ç‰‡ï¼š</p><p><img src="/2020/10/12/script/python/cv2/%E4%BD%BF%E7%94%A8cv2%E8%BF%9B%E8%A1%8C%E5%9B%BE%E5%83%8F%E5%8C%B9%E9%85%8D/%E4%BF%9D%E5%AD%98%E7%9A%84%E5%9B%BE%E5%83%8F.png"></p><h3 id="ğŸ†-ç¿»è½¬ã€å¤åˆ¶ã€é¢œè‰²ç©ºé—´è½¬æ¢å›¾åƒ"><a href="#ğŸ†-ç¿»è½¬ã€å¤åˆ¶ã€é¢œè‰²ç©ºé—´è½¬æ¢å›¾åƒ" class="headerlink" title="ğŸ† ç¿»è½¬ã€å¤åˆ¶ã€é¢œè‰²ç©ºé—´è½¬æ¢å›¾åƒ"></a>ğŸ† ç¿»è½¬ã€å¤åˆ¶ã€é¢œè‰²ç©ºé—´è½¬æ¢å›¾åƒ</h3><p>å‚è€ƒï¼š<a href="https://blog.csdn.net/djcxym/article/details/52097812">https://blog.csdn.net/djcxym/article/details/52097812</a></p><h4 id="ç¿»è½¬å›¾åƒ-cv2-flip-img-flipcode"><a href="#ç¿»è½¬å›¾åƒ-cv2-flip-img-flipcode" class="headerlink" title="ç¿»è½¬å›¾åƒ cv2.flip(img,flipcode)"></a><font color="pink">ç¿»è½¬å›¾åƒ cv2.flip(img,flipcode)</font></h4><ul><li>imgï¼šéœ€è¦ç¿»è½¬çš„å›¾åƒï¼ˆä½¿ç”¨imreadè¯»å…¥ï¼‰</li><li>flipcodeï¼šæ§åˆ¶ç¿»è½¬æ•ˆæœ<ul><li>flipcode = 0ï¼šæ²¿xè½´ç¿»è½¬</li><li>flipcode &gt; 0ï¼šæ²¿yè½´ç¿»è½¬</li><li>flipcode &lt; 0ï¼šx,yè½´åŒæ—¶ç¿»è½¬</li></ul></li></ul><pre><code class="hljs python"><span class="hljs-comment"># ! ç¿»è½¬å›¾åƒ</span>img = cv2.flip(img,<span class="hljs-number">0</span>)</code></pre><h4 id="å¤åˆ¶å›¾åƒ-cv2-flip-img-flipcode"><a href="#å¤åˆ¶å›¾åƒ-cv2-flip-img-flipcode" class="headerlink" title="å¤åˆ¶å›¾åƒ cv2.flip(img,flipcode)"></a><font color="pink">å¤åˆ¶å›¾åƒ cv2.flip(img,flipcode)</font></h4><pre><code class="hljs python">imgcopy = img.copy()</code></pre><h4 id="é¢œè‰²ç©ºé—´è½¬åŒ–-cv2-flip-img-flipcode"><a href="#é¢œè‰²ç©ºé—´è½¬åŒ–-cv2-flip-img-flipcode" class="headerlink" title="é¢œè‰²ç©ºé—´è½¬åŒ– cv2.flip(img,flipcode)"></a><font color="pink">é¢œè‰²ç©ºé—´è½¬åŒ– cv2.flip(img,flipcode)</font></h4><pre><code class="hljs python"><span class="hljs-comment"># å½©è‰²å›¾åƒè½¬ä¸ºç°åº¦å›¾åƒ</span>img2 = cv2.cvtColor(img,cv2.COLOR_RGB2GRAY) <span class="hljs-comment"># ç°åº¦å›¾åƒè½¬ä¸ºå½©è‰²å›¾åƒ</span>img3 = cv2.cvtColor(img,cv2.COLOR_GRAY2RGB)<span class="hljs-comment"># cv2.COLOR_X2Yï¼Œå…¶ä¸­X,Y = RGB, BGR, GRAY, HSV, YCrCb, XYZ, Lab, Luv, HLS</span></code></pre><h3 id="ğŸ”-å›¾åƒåŒ¹é…"><a href="#ğŸ”-å›¾åƒåŒ¹é…" class="headerlink" title="ğŸ” å›¾åƒåŒ¹é…"></a>ğŸ” å›¾åƒåŒ¹é…</h3><p>å‚è€ƒï¼š<a href="https://blog.csdn.net/zhusongziye/article/details/93393725">https://blog.csdn.net/zhusongziye/article/details/93393725</a></p><h4 id="æ¨¡ç‰ˆåŒ¹é…-cv2-matchTemplate"><a href="#æ¨¡ç‰ˆåŒ¹é…-cv2-matchTemplate" class="headerlink" title="æ¨¡ç‰ˆåŒ¹é… cv2.matchTemplate()"></a><font color="pink">æ¨¡ç‰ˆåŒ¹é… cv2.matchTemplate()</font></h4><p>&emsp;&emsp;åœ¨æ¨¡æ¿å’Œè¾“å…¥å›¾åƒä¹‹é—´å¯»æ‰¾åŒ¹é…ï¼Œè·å¾—åŒ¹é…ç»“æœå›¾åƒã€‚</p><p>&emsp;&emsp;æ¨¡æ¿åŒ¹é…å…·æœ‰è‡ªèº«çš„å±€é™æ€§ï¼Œä¸»è¦è¡¨ç°åœ¨å®ƒåªèƒ½è¿›è¡Œå¹³è¡Œç§»åŠ¨ï¼Œè‹¥åŸå›¾åƒä¸­çš„åŒ¹é…ç›®æ ‡å‘ç”Ÿæ—‹è½¬æˆ–å¤§å°å˜åŒ–ï¼Œè¯¥ç®—æ³•æ— æ•ˆã€‚</p><p><img src="/2020/10/12/script/python/cv2/%E4%BD%BF%E7%94%A8cv2%E8%BF%9B%E8%A1%8C%E5%9B%BE%E5%83%8F%E5%8C%B9%E9%85%8D/%E6%A8%A1%E7%89%88%E5%8C%B9%E9%85%8D.png"></p><p>&emsp;&emsp;å…¶ä¸­æ¨¡æ¿åŒ¹é…çš„ç®—æ³•ï¼š</p><ol><li>åˆ©ç”¨å¹³æ–¹å·®æ¥è¿›è¡ŒåŒ¹é…ï¼Œæœ€å¥½åŒ¹é…ä¸º0ã€‚åŒ¹é…è¶Šå·®ï¼ŒåŒ¹é…å€¼è¶Šå¤§ã€‚<ul><li>å¹³æ–¹å·®åŒ¹é…ï¼šCV_TM_SQDIFF</li><li>æ ‡å‡†å¹³æ–¹å·®åŒ¹é…ï¼šCV_TM_SQDIFF_NORMED</li></ul></li><li>é‡‡ç”¨æ¨¡æ¿å’Œå›¾åƒé—´çš„ä¹˜æ³•æ“ä½œï¼Œå¾—å‡ºæ•°å€¼è¶Šå¤§è¡¨ç¤ºåŒ¹é…ç¨‹åº¦è¾ƒé«˜ï¼Œ0ä¸ºæœ€ååŒ¹é…ã€‚<ul><li>ç›¸å…³åŒ¹é…ï¼šCV_TM_CCORR</li><li>æ ‡å‡†ç›¸å…³åŒ¹é…ï¼šCV_TM_CCORR_NORMED</li></ul></li><li>å°†æ¨¡ç‰ˆå¯¹å…¶å‡å€¼çš„ç›¸å¯¹å€¼ä¸å›¾åƒå¯¹å…¶å‡å€¼çš„ç›¸å…³å€¼è¿›è¡ŒåŒ¹é…ï¼Œ1è¡¨ç¤ºå®Œç¾åŒ¹é…ï¼Œ-1è¡¨ç¤ºç³Ÿç³•çš„åŒ¹é…ï¼Œ0è¡¨ç¤ºæ²¡æœ‰ä»»ä½•ç›¸å…³æ€§(éšæœºåºåˆ—)ã€‚<ul><li>ç›¸å…³ç³»æ•°åŒ¹é…ï¼šCV_TM_CCOEFF</li><li>æ ‡å‡†ç›¸å…³ç³»æ•°åŒ¹é…ï¼šCV_TM_CCOEFF_NORMED</li></ul></li></ol><p>&emsp;&emsp;æ ‡å‡†åŒ–æ„å‘³ç€å°†æ•°å€¼ç»Ÿä¸€åˆ°0~1ã€‚é™¤äº†å¹³æ–¹å·®ç±»å‹çš„æ˜¯å€¼è¶Šå°è¶Šå¥½ï¼Œå…¶ä»–çš„éƒ½æ˜¯å€¼è¶Šå¤§è¶Šå¥½ã€‚</p><h4 id="æ‰¾å‡ºçŸ©é˜µæœ€å¤§å€¼å’Œæœ€å°å€¼çš„ä½ç½®-cv2-minMaxLoc"><a href="#æ‰¾å‡ºçŸ©é˜µæœ€å¤§å€¼å’Œæœ€å°å€¼çš„ä½ç½®-cv2-minMaxLoc" class="headerlink" title="æ‰¾å‡ºçŸ©é˜µæœ€å¤§å€¼å’Œæœ€å°å€¼çš„ä½ç½® cv2.minMaxLoc()"></a><font color="pink">æ‰¾å‡ºçŸ©é˜µæœ€å¤§å€¼å’Œæœ€å°å€¼çš„ä½ç½® cv2.minMaxLoc()</font></h4><p>&emsp;&emsp;åœ¨ç»™å®šçš„çŸ©é˜µä¸­å¯»æ‰¾æœ€å¤§å’Œæœ€å°å€¼ï¼Œå¹¶ç»™å‡ºå®ƒä»¬çš„ä½ç½®ã€‚</p><h4 id="å®ä¾‹-1"><a href="#å®ä¾‹-1" class="headerlink" title="å®ä¾‹"></a><font color="orange">å®ä¾‹</font></h4><pre><code class="hljs python"><span class="hljs-comment"># -*- coding:utf-8 -*-</span><span class="hljs-keyword">import</span> cv2<span class="hljs-comment"># ! è¯»å–åŒ¹é…å›¾åƒ</span>img = cv2.imread(<span class="hljs-string">&#x27;sky.jpg&#x27;</span>,<span class="hljs-number">1</span>)<span class="hljs-comment"># ! è¯»å–æ¨¡ç‰ˆå›¾åƒ</span>temple = cv2.imread(<span class="hljs-string">&#x27;people.png&#x27;</span>,<span class="hljs-number">1</span>)<span class="hljs-comment"># ! è·å–åŒ¹é…å›¾åƒçš„å®½é«˜</span>ih, iw = img.shape[:<span class="hljs-number">2</span>]<span class="hljs-comment"># ! è·å–æ¨¡ç‰ˆå›¾åƒçš„å®½é«˜</span>th, tw = temple.shape[:<span class="hljs-number">2</span>]<span class="hljs-comment"># ! ä½¿ç”¨æ ‡å‡†ç›¸å…³ç³»æ•°åŒ¹é…ï¼Œè¿”å›ä¸€ä¸ªçŸ©é˜µ</span>result = cv2.matchTemplate(img, temple, cv2.TM_CCOEFF_NORMED)<span class="hljs-comment"># ! è·å–çŸ©é˜µçš„æœ€å¤§å€¼å’Œæœ€å°å€¼ï¼Œä»¥åŠå…¶ä½ç½®</span>min_val, max_val, min_loc, max_loc = cv2.minMaxLoc(result)<span class="hljs-comment"># ! æ­¤å¤„é€‰å–æœ€å¤§å€¼çš„ä½ç½®,å³åŒ¹é…ç»“æœå›¾åƒçš„å·¦ä¸Šè§’</span>tl = max_loc<span class="hljs-comment"># ! æ ¹æ®æ¨¡ç‰ˆå¤§å°ï¼Œå¾—å‡ºåŒ¹é…ç»“æœå›¾åƒçš„å³ä¸‹è§’</span>br = (tl[<span class="hljs-number">0</span>]+tw, tl[<span class="hljs-number">1</span>]+th)<span class="hljs-comment"># ! ç»˜åˆ¶çŸ©å½¢æ¡†</span>cv2.rectangle(img, tl, br, (<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">255</span>), <span class="hljs-number">2</span>)<span class="hljs-comment"># ! æ˜¾ç¤ºåŒ¹é…ç»“æœçª—å£</span>cv2.namedWindow(<span class="hljs-string">&#x27;match&#x27;</span>, <span class="hljs-number">0</span>)cv2.resizeWindow(<span class="hljs-string">&#x27;match&#x27;</span>, iw, ih)cv2.imshow(<span class="hljs-string">&#x27;match&#x27;</span>, img)cv2.waitKey(<span class="hljs-number">0</span>)</code></pre><p>&emsp;&emsp;å›¾åƒæ˜¾ç¤ºçš„åŒ¹é…ç»“æœï¼š</p><p><img src="/2020/10/12/script/python/cv2/%E4%BD%BF%E7%94%A8cv2%E8%BF%9B%E8%A1%8C%E5%9B%BE%E5%83%8F%E5%8C%B9%E9%85%8D/%E5%8C%B9%E9%85%8D%E7%BB%93%E6%9E%9C.png"></p>]]></content>
    
    
    <categories>
      
      <category>SCRIPT</category>
      
      <category>cv2</category>
      
    </categories>
    
    
    <tags>
      
      <tag>SCRIPT</tag>
      
      <tag>PYTHON</tag>
      
      <tag>cv2</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Mayaåˆ¶ä½œæ–‡ä»¶é—®é¢˜é›†åˆ</title>
    <link href="/2020/10/12/maya/Maya%E5%88%B6%E4%BD%9C%E6%96%87%E4%BB%B6%E9%97%AE%E9%A2%98%E9%9B%86%E5%90%88/"/>
    <url>/2020/10/12/maya/Maya%E5%88%B6%E4%BD%9C%E6%96%87%E4%BB%B6%E9%97%AE%E9%A2%98%E9%9B%86%E5%90%88/</url>
    
    <content type="html"><![CDATA[<p>&emsp;&emsp;ç”±äºå·¥ä½œä¸­ç»å¸¸é‡åˆ°Mayaä¸­å¥‡å¥‡æ€ªæ€ªçš„é—®é¢˜ä¸Šï¼Œæ‰€ä»¥æ€»ç»“ä¸€ä¸‹ä¸€äº›é‡åˆ°çš„å°é—®é¢˜ã€‚</p><h3 id="ğŸ¥-æ–‡ä»¶ä¸­å¤šä½™çš„ç›¸æœºæ— æ³•åˆ é™¤"><a href="#ğŸ¥-æ–‡ä»¶ä¸­å¤šä½™çš„ç›¸æœºæ— æ³•åˆ é™¤" class="headerlink" title="ğŸ¥ æ–‡ä»¶ä¸­å¤šä½™çš„ç›¸æœºæ— æ³•åˆ é™¤"></a>ğŸ¥ <font color="FireBrick">æ–‡ä»¶ä¸­å¤šä½™çš„ç›¸æœºæ— æ³•åˆ é™¤</font></h3><p><img src="/2020/10/12/maya/Maya%E5%88%B6%E4%BD%9C%E6%96%87%E4%BB%B6%E9%97%AE%E9%A2%98%E9%9B%86%E5%90%88/%E7%9B%B8%E6%9C%BA%E6%97%A0%E6%B3%95%E5%88%A0%E9%99%A4.png"></p><p>&emsp;&emsp;<font color="orange">åŸå› ï¼š</font>ç›¸æœºé‡å¤å‡ºç°å¯èƒ½æ˜¯å› ä¸ºåœ¨å¯¼å…¥æˆ–å‚è€ƒæ—¶å‡ºé”™äº†ï¼Œéœ€è¦æŠŠç›¸æœºè®¾ç½®æˆéé»˜è®¤æ‘„åƒæœºæ‰å¯ä»¥åˆ é™¤ã€‚</p><p>&emsp;&emsp;<font color="orange">è§£å†³ï¼š</font>é€‰ä¸­éœ€è¦åˆ é™¤çš„ç›¸æœºæ‰§è¡Œã€‚</p><pre><code class="hljs mel"><span class="hljs-comment">// MEL</span><span class="hljs-keyword">string</span> $selection[] = <span class="hljs-string">`ls -selection -long`</span>;<span class="hljs-keyword">string</span> $object;<span class="hljs-keyword">for</span> ( $object <span class="hljs-keyword">in</span> $selection ) &#123;<span class="hljs-keyword">camera</span> -e -startupCamera false $object;<span class="hljs-keyword">lockNode</span> -lock off $object;<span class="hljs-keyword">delete</span> $object;&#125;</code></pre><pre><code class="hljs python"><span class="hljs-comment"># python</span>cams = cmds.ls(sl=<span class="hljs-number">1</span>)<span class="hljs-keyword">for</span> cam <span class="hljs-keyword">in</span> cams:cmds.camera(cam,startupCamera=<span class="hljs-number">0</span>,edit=<span class="hljs-number">1</span>)cmds.lockNode(cam,lock=<span class="hljs-number">0</span>)cmds.delete(cam)</code></pre><h3 id="ğŸŒ„-å†…å­˜ä¸è¶³ï¼Œçº¹ç†åŠ è½½å¤±è´¥è­¦å‘Š"><a href="#ğŸŒ„-å†…å­˜ä¸è¶³ï¼Œçº¹ç†åŠ è½½å¤±è´¥è­¦å‘Š" class="headerlink" title="ğŸŒ„ å†…å­˜ä¸è¶³ï¼Œçº¹ç†åŠ è½½å¤±è´¥è­¦å‘Š"></a>ğŸŒ„ <font color="FireBrick">å†…å­˜ä¸è¶³ï¼Œçº¹ç†åŠ è½½å¤±è´¥è­¦å‘Š</font></h3><p>&emsp;&emsp;<font color="orange">åŸå› ï¼š</font>åœºæ™¯ä¸­åŒ…å«å¤šä¸ªé«˜åˆ†è¾¨ç‡çº¹ç†ï¼Œä»¥è‡´æ‚¨çš„æ˜¾å¡æ²¡æœ‰è¶³å¤Ÿçš„å†…å­˜æ¥å¤„ç†ï¼Œåˆ™ä¸ä¼šåŠ è½½è¿™äº›çº¹ç†å¹¶ä»¥éçº¹ç†æ¨¡å¼æ˜¾ç¤ºè¯¥åœºæ™¯ã€‚</p><p>&emsp;&emsp;<font color="orange">è§£å†³ï¼š</font></p><ol><li>é€‰æ‹©æ¸²æŸ“å™¨ &gt; Viewport 2.0 (Renderer &gt; Viewport 2.0) &gt; ã€‚<br><img src="/2020/10/12/maya/Maya%E5%88%B6%E4%BD%9C%E6%96%87%E4%BB%B6%E9%97%AE%E9%A2%98%E9%9B%86%E5%90%88/vp%E6%B8%B2%E6%9F%93%E5%99%A8.png"></li><li>åœ¨â€œæœ€å¤§çº¹ç†åˆ†è¾¨ç‡é’³åˆ¶â€(Maximum Texture Resolution Clamping)ä¸‹ï¼Œå¯ç”¨â€œé’³åˆ¶çº¹ç†åˆ†è¾¨ç‡â€(Clamp Texture Resolution)å¹¶å‡å°â€œæœ€å¤§çº¹ç†åˆ†è¾¨ç‡â€(Max Texture Resolution)ã€‚<br><img src="/2020/10/12/maya/Maya%E5%88%B6%E4%BD%9C%E6%96%87%E4%BB%B6%E9%97%AE%E9%A2%98%E9%9B%86%E5%90%88/%E8%AE%BE%E7%BD%AE%E6%9C%80%E5%A4%A7%E7%BA%B9%E7%90%86%E5%88%86%E8%BE%A8%E7%8E%87.png"></li><li>å•å‡»â€œé‡æ–°åŠ è½½æ‰€æœ‰çº¹ç†â€(Re-load All Textures)ã€‚</li><li>åœ¨å¸¦çº¹ç†çš„æ¨¡å¼çš„åœºæ™¯è§†å›¾ä¸­æŒ‰ 6ã€‚</li></ol><p>&emsp;&emsp;<font color="orange">å®˜æ–¹è§£å†³æ–¹å¼å‚è€ƒï¼š</font></p><p><img src="/2020/10/12/maya/Maya%E5%88%B6%E4%BD%9C%E6%96%87%E4%BB%B6%E9%97%AE%E9%A2%98%E9%9B%86%E5%90%88/%E7%BA%B9%E7%90%86%E5%AE%98%E6%96%B9%E8%A7%A3%E5%86%B3.png"></p><p>ğŸ–Œ å¾…ç»­æœªå®Œâ€¦</p>]]></content>
    
    
    <categories>
      
      <category>Maya</category>
      
      <category>collection</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MAYA</tag>
      
      <tag>SUM</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å·¥å…·æ¶ç•Œé¢å¼€å‘</title>
    <link href="/2020/10/09/qt/%E5%B7%A5%E5%85%B7%E6%9E%B6%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/"/>
    <url>/2020/10/09/qt/%E5%B7%A5%E5%85%B7%E6%9E%B6%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/</url>
    
    <content type="html"><![CDATA[<p>&emsp;&emsp;æœ€è¿‘æœ‰ä¸€ä¸ªä»»åŠ¡æ˜¯å¼€å‘å·¥å…·æ¶ï¼Œä¸»è¦åŠŸèƒ½ä¸ºå·¥å…·çš„æ˜¾ç¤ºå’Œç¼–è¾‘ã€‚ç”±äºè¿™æ¬¡å¼€å‘æ¶‰åŠæœªæ¥è§¦è¿‡çš„çŸ¥è¯†ç‚¹æ¯”è¾ƒå¤šï¼Œè€Œä¸”å¯¹ç¾è§‚è®¾è®¡æ–¹é¢ä¹Ÿæœ‰æ‰€æ¬ ç¼ºï¼Œå› æ­¤å¼€å‘å‘¨æœŸæ¯”è¾ƒé•¿ï¼Œä½†æ”¶è·è‰¯å¤šã€‚</p><p>&emsp;&emsp;Qtæ˜¯è·¨å¹³å°çš„ï¼Œè™½ç„¶è¯¥å·¥å…·ä¸»è¦æ˜¯åœ¨ Maya ä¸­ä½¿ç”¨ï¼Œä½†æ˜¯åŒæ ·å¯ä»¥æ‹“å±•åˆ°å…¶ä»–å¹³å°ä¸Šã€‚åœ¨å¼€å‘è¿™ä¸ªå·¥å…·çš„è¿‡ç¨‹ä¸­æ›´åŠ æ·±å…¥å­¦ä¹ äº† Qt çš„ MVC æ¡†æ¶ä»¥åŠå¯¹æ¥æ•°æ®åº“çš„ QSql ç›¸å…³çš„çŸ¥è¯†ï¼Œä¸‹é¢è¯¦ç»†è®²ä¸€ä¸‹è¿™ä¸ªå·¥å…·è¿‡ç¨‹å’Œæ¼”ç¤ºã€‚</p><hr><h1 id="ğŸ™-å·¥å…·å±•ç¤º"><a href="#ğŸ™-å·¥å…·å±•ç¤º" class="headerlink" title="ğŸ™ å·¥å…·å±•ç¤º"></a>ğŸ™ å·¥å…·å±•ç¤º</h1><h2 id="ç•Œé¢å±•ç¤º"><a href="#ç•Œé¢å±•ç¤º" class="headerlink" title="ç•Œé¢å±•ç¤º"></a>ç•Œé¢å±•ç¤º</h2><ul><li>ç”¨æˆ·ç•Œé¢<br>ç”¨æˆ·æ¨¡å¼ä¸»è¦è¿›è¡Œå·¥å…·çš„è°ƒç”¨ã€‚<br><img src="/2020/10/09/qt/%E5%B7%A5%E5%85%B7%E6%9E%B6%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/1.png"></li><li>ç®¡ç†å‘˜ç•Œé¢<br>ç®¡ç†å‘˜æ¨¡å¼ä¸»è¦è¿›è¡Œå·¥å…·çš„ç¼–è¾‘ï¼ŒåŠŸèƒ½åŒ…æ‹¬å·¥å…·çš„å¢åŠ ã€åˆ é™¤ã€ä¿®æ”¹ã€ç§»åŠ¨ã€æ”¹å˜åˆ†ç»„ã€‚<br><img src="/2020/10/09/qt/%E5%B7%A5%E5%85%B7%E6%9E%B6%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/2.png"></li></ul><hr><h2 id="é€šç”¨åŠŸèƒ½"><a href="#é€šç”¨åŠŸèƒ½" class="headerlink" title="é€šç”¨åŠŸèƒ½"></a>é€šç”¨åŠŸèƒ½</h2><ol><li>åˆ‡æ¢ç»„åˆ†ç±»<br>é€šè¿‡ç‚¹å‡»ç»„é€‰é¡¹æ¡†ï¼Œé€‰æ‹©éœ€è¦åˆ‡æ¢çš„ç»„åï¼Œå³å¯æ›´æ”¹è§†å›¾ä¸­æ˜¾ç¤ºçš„å·¥å…·ä¸ºæ‰€é€‰ç»„å†…çš„å·¥å…·ã€‚<br><img src="/2020/10/09/qt/%E5%B7%A5%E5%85%B7%E6%9E%B6%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/14.gif"></li><li>æœç´¢å·¥å…·<br>é€šè¿‡åœ¨æœç´¢æ¡†ä¸­è¾“å…¥éœ€è¦æœç´¢çš„å·¥å…·åç§°æˆ–å¤‡æ³¨ä¿¡æ¯ï¼Œå³å¯ä»è§†å›¾ä¸­ç­›é€‰ç¬¦åˆæœç´¢æ¡ä»¶çš„å·¥å…·å¹¶æ˜¾ç¤ºã€‚<br><img src="/2020/10/09/qt/%E5%B7%A5%E5%85%B7%E6%9E%B6%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/15.gif"></li><li>åˆ‡æ¢ç”¨æˆ·æ¨¡å¼ä¸ç®¡ç†å‘˜æ¨¡å¼<br>å¯ä»¥é€šè¿‡ç‚¹å‡»è®¾ç½®èœå•ä¸­çš„â€œè¿›å…¥ç”¨æˆ·/ç®¡ç†å‘˜æ¨¡å¼â€è¿›è¡Œå·¥å…·æ¨¡å¼åˆ‡æ¢ã€‚<br>å½“å·¥å…·é¦–æ¬¡è¿›å…¥ç®¡ç†å‘˜æ¨¡å¼æ—¶ä¼šè¦æ±‚è¾“å…¥å¯†ç ï¼Œåªæœ‰åœ¨å¯†ç è¾“å…¥æ­£ç¡®åæ‰èƒ½è¿›å…¥ç®¡ç†å‘˜æ¨¡å¼ï¼Œåœ¨ä¸‹æ¬¡åˆå§‹åŒ–å·¥å…·å‰ä¸éœ€è¦é‡æ–°è¾“å…¥å¯†ç è¿›å…¥ç®¡ç†å‘˜æ¨¡å¼ã€‚<br><img src="/2020/10/09/qt/%E5%B7%A5%E5%85%B7%E6%9E%B6%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/17.gif"></li><li>æŠ˜å ç•Œé¢<br>å¯ä»¥é€šè¿‡ç‚¹å‡»å·¥å…·å³ä¸Šè§’çš„ â€œ-â€ æŒ‰é’®ï¼ŒæŠŠç•Œé¢è¿›è¡ŒæŠ˜å æˆ–è€…å±•å¼€ã€‚æŠ˜å åçš„æ ‡é¢˜æ å¯ä»¥ç‚¹å‡»è¿›è¡Œæ‹–æ‹½ã€‚<br><img src="/2020/10/09/qt/%E5%B7%A5%E5%85%B7%E6%9E%B6%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/22.gif"></li><li>çª—å£æ‹–æ‹½<br>å¯ä»¥åœ¨ç•Œé¢ç©ºç™½å¤„æŒ‰ä½é¼ æ ‡å·¦é”®å¹¶ç§»åŠ¨é¼ æ ‡ï¼Œå®ç°ç•Œé¢æ‹–æ‹½åŠŸèƒ½ã€‚<br><img src="/2020/10/09/qt/%E5%B7%A5%E5%85%B7%E6%9E%B6%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/23.gif"></li><li>çª—å£ç¼©æ”¾<br>å¯ä»¥æŠŠé¼ æ ‡ç§»åŠ¨åˆ°çª—å£è¾¹ç¼˜ï¼Œå½“é¼ æ ‡å‡ºç°ç¼©æ”¾æ ·å¼æ—¶ï¼Œå¯ä»¥æŒ‰ä½é¼ æ ‡å·¦é”®å¹¶ç§»åŠ¨é¼ æ ‡ï¼Œå®ç°ç•Œé¢ç¼©æ”¾åŠŸèƒ½ã€‚<br><img src="/2020/10/09/qt/%E5%B7%A5%E5%85%B7%E6%9E%B6%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/24.gif"></li></ol><hr><h2 id="ç”¨æˆ·åŠŸèƒ½å±•ç¤º"><a href="#ç”¨æˆ·åŠŸèƒ½å±•ç¤º" class="headerlink" title="ç”¨æˆ·åŠŸèƒ½å±•ç¤º"></a>ç”¨æˆ·åŠŸèƒ½å±•ç¤º</h2><ol><li>åˆ‡æ¢è§†å›¾æ˜¾ç¤ºæ¨¡å¼<br>åœ¨ç”¨æˆ·æ¨¡å¼ä¸‹ï¼Œå·¥å…·è§†å›¾æ˜¾ç¤ºæ¨¡å¼æœ‰åˆ—è¡¨æ˜¾ç¤ºå’Œå›¾æ ‡æ˜¾ç¤ºä¸¤ç§ï¼Œå¯ä»¥é€šè¿‡ç‚¹å‡»è®¾ç½®èœå•ä¸Šçš„â€œåˆ‡æ¢æ˜¾ç¤ºæ¨¡å¼â€ï¼Œå¯¹è§†å›¾çš„æ˜¾ç¤ºæ¨¡å¼è¿›è¡Œäº¤æ›¿æ›´æ¢ã€‚<br><img src="/2020/10/09/qt/%E5%B7%A5%E5%85%B7%E6%9E%B6%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/3.gif"></li><li>è°ƒèŠ‚è§†å›¾æ˜¾ç¤ºæ¯”ä¾‹<br>åœ¨ç”¨æˆ·æ¨¡å¼ä¸‹ï¼Œå¯ä»¥é€šè¿‡æ»‘åŠ¨è®¾ç½®èœå•ä¸Šçš„â€œè°ƒèŠ‚æ˜¾ç¤ºæ¯”ä¾‹â€çš„æ»‘åŠ¨æ¡ï¼Œå¯¹è§†å›¾çš„æ˜¾ç¤ºæ¯”ä¾‹è¿›è¡Œç¼©æ”¾ã€‚<br>ä¸åŒæ˜¾ç¤ºæ¨¡å¼è§†å›¾çš„ç¼©æ”¾å€¼å®Œå…¨ç‹¬ç«‹ï¼Œè°ƒèŠ‚æ¯”ä¾‹æ—¶ä»…å¯¹å½“å‰æ˜¾ç¤ºæ¨¡å¼è§†å›¾ç”Ÿæ•ˆï¼Œä¸å½±å“å…¶ä»–æ˜¾ç¤ºæ¨¡å¼æ¯”ä¾‹ã€‚<br><img src="/2020/10/09/qt/%E5%B7%A5%E5%85%B7%E6%9E%B6%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/4.gif"></li><li>æŸ¥çœ‹å¤‡æ³¨<br>åœ¨ç”¨æˆ·æ¨¡å¼ä¸‹ï¼Œå½“é¼ æ ‡æ‚¬åœåœ¨å·¥å…·ä¸Šï¼Œä¼šå¼¹å‡ºè¯¥å·¥å…·çš„å¤‡æ³¨ã€‚<br>å¯¹äºè®¾ç½®äº†è¯´æ˜æ–‡æ¡£é“¾æ¥çš„å·¥å…·ï¼Œè¿˜å¯ä»¥ç‚¹å‡»â€œHelpâ€æ‰“å¼€è¯´æ˜é“¾æ¥ã€‚<br><img src="/2020/10/09/qt/%E5%B7%A5%E5%85%B7%E6%9E%B6%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/16.gif"></li><li>è¿è¡Œå·¥å…·<br>&emsp;&emsp;å•å‡»ç”¨æˆ·ç•Œé¢ä¸­çš„å·¥å…·å³å¯è¿è¡Œé€‰ä¸­å·¥å…·ã€‚</li></ol><hr><h2 id="ç®¡ç†å‘˜åŠŸèƒ½å±•ç¤º"><a href="#ç®¡ç†å‘˜åŠŸèƒ½å±•ç¤º" class="headerlink" title="ç®¡ç†å‘˜åŠŸèƒ½å±•ç¤º"></a>ç®¡ç†å‘˜åŠŸèƒ½å±•ç¤º</h2><h3 id="ç¼–è¾‘å·¥å…·"><a href="#ç¼–è¾‘å·¥å…·" class="headerlink" title="ç¼–è¾‘å·¥å…·"></a>ç¼–è¾‘å·¥å…·</h3><ol><li>åœ¨å½“å‰è¡Œå‰æ’å…¥å·¥å…·<br>åœ¨ç®¡ç†å‘˜æ¨¡å¼ä¸‹ï¼Œé€‰ä¸­å…¶ä¸­ä¸€è¡Œå·¥å…·ï¼Œç‚¹å‡»å›¾ç¤ºâ€œæ·»åŠ â€æŒ‰é’®ï¼Œå¯ä»¥åœ¨é€‰ä¸­è¡Œå‰æ’å…¥ä¸€è¡Œæ–°å·¥å…·ã€‚<br>å¦‚æœå½“å‰ç»„ä¸æ˜¯ All ç»„ï¼Œåˆ›å»ºçš„å·¥å…·ä¼šè‡ªåŠ¨åŠ å…¥åˆ° All ç»„ä¸­ã€‚<br><img src="/2020/10/09/qt/%E5%B7%A5%E5%85%B7%E6%9E%B6%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/5.gif"></li><li>åˆ é™¤å½“å‰è¡Œçš„å·¥å…·<br>åœ¨ç®¡ç†å‘˜æ¨¡å¼ä¸‹ï¼Œé€‰ä¸­éœ€è¦ç§»é™¤çš„å·¥å…·ï¼Œç‚¹å‡»å›¾ç¤ºâ€œåˆ é™¤â€æŒ‰é’®ï¼Œå¯ä»¥åˆ é™¤é€‰ä¸­è¡Œçš„å·¥å…·ã€‚<br>åˆ é™¤å·¥å…·ä¼šæŠŠå·¥å…·ä»æ‰€æœ‰ç»„ä¸­ç§»é™¤ã€‚<br><img src="/2020/10/09/qt/%E5%B7%A5%E5%85%B7%E6%9E%B6%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/6.gif"></li><li>ä¸Šç§»å½“å‰è¡Œ<br>åœ¨ç®¡ç†å‘˜æ¨¡å¼ä¸‹ï¼Œé€‰æ‹©éœ€è¦ä¸Šç§»çš„å·¥å…·è¡Œï¼Œç‚¹å‡»å›¾ç¤ºâ€œä¸Šç§»â€æŒ‰é’®ï¼Œå¯ä»¥æŠŠé€‰ä¸­å·¥å…·ä¸Šç§»ä¸€ä½ã€‚<br><img src="/2020/10/09/qt/%E5%B7%A5%E5%85%B7%E6%9E%B6%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/7.gif"></li><li>ä¸‹ç§»å½“å‰è¡Œ<br>åœ¨ç®¡ç†å‘˜æ¨¡å¼ä¸‹ï¼Œé€‰æ‹©éœ€è¦ä¸‹ç§»çš„å·¥å…·è¡Œï¼Œç‚¹å‡»å›¾ç¤ºâ€œä¸‹ç§»â€æŒ‰é’®ï¼Œå¯ä»¥æŠŠé€‰ä¸­å·¥å…·ä¸‹ç§»ä¸€ä½ã€‚<br><img src="/2020/10/09/qt/%E5%B7%A5%E5%85%B7%E6%9E%B6%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/8.gif"></li><li>æ‹–æ‹½ç§»åŠ¨è¡Œ<br>åœ¨ç®¡ç†å‘˜æ¨¡å¼ä¸‹ï¼Œé¼ æ ‡å·¦é”®æŒ‰ä½éœ€è¦æ‹–æ‹½ç§»åŠ¨çš„å·¥å…·è¡Œï¼ŒæŒ‰ä½æ‹–åŠ¨é¼ æ ‡åˆ°éœ€è¦æ’å…¥çš„è¡Œä½ç½®åæ¾å¼€é¼ æ ‡å·¦é”®ï¼Œå¯ä»¥æŠŠå·¥å…·ç§»åŠ¨åˆ°æŒ‡å®šè¡Œä½ç½®ã€‚<br><img src="/2020/10/09/qt/%E5%B7%A5%E5%85%B7%E6%9E%B6%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/13.gif"></li><li>ç¼–è¾‘å·¥å…·å†…å®¹<br>åœ¨ç®¡ç†å‘˜æ¨¡å¼ä¸‹ï¼Œé¼ æ ‡å·¦é”®åŒå‡»é€‰ä¸­éœ€è¦ç¼–è¾‘çš„å†…å®¹ï¼Œå¯ä»¥ç¼–è¾‘å½“å‰å·¥å…·ã€‚å…¶ä¸­ ä½¿ç”¨æ¬¡æ•°ã€ tid å’Œ tdatetime ä¸ºä¸å¯ç¼–è¾‘åˆ—ã€‚<br><img src="/2020/10/09/qt/%E5%B7%A5%E5%85%B7%E6%9E%B6%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/21.gif"></li></ol><h3 id="è¿è¡Œå·¥å…·å’Œæ‰“å¼€å·¥å…·å¸®åŠ©"><a href="#è¿è¡Œå·¥å…·å’Œæ‰“å¼€å·¥å…·å¸®åŠ©" class="headerlink" title="è¿è¡Œå·¥å…·å’Œæ‰“å¼€å·¥å…·å¸®åŠ©"></a>è¿è¡Œå·¥å…·å’Œæ‰“å¼€å·¥å…·å¸®åŠ©</h3><ol><li>è¿è¡Œå·¥å…·<br>åœ¨ç®¡ç†å‘˜æ¨¡å¼ä¸‹ï¼Œå³é”®ç‚¹å‡»é€‰ä¸­å·¥å…·ï¼Œåœ¨å¼¹å‡ºèœå•ä¸­é€‰æ‹©â€œè¿è¡Œå·¥å…·â€ï¼Œå³å¯è¿è¡Œé€‰ä¸­å·¥å…·ã€‚  </li><li>æ‰“å¼€å¸®åŠ©<br>åœ¨ç®¡ç†å‘˜æ¨¡å¼ä¸‹ï¼Œå³é”®ç‚¹å‡»é€‰ä¸­å·¥å…·ï¼Œåœ¨å¼¹å‡ºèœå•ä¸­é€‰æ‹©â€œæ‰“å¼€å¸®åŠ©â€ï¼Œå³å¯æ‰“å¼€é€‰ä¸­å·¥å…·çš„å¸®åŠ©æ–‡æ¡£ã€‚  </li></ol><h3 id="ä¿®æ”¹å·¥å…·çš„åˆ†ç»„"><a href="#ä¿®æ”¹å·¥å…·çš„åˆ†ç»„" class="headerlink" title="ä¿®æ”¹å·¥å…·çš„åˆ†ç»„"></a>ä¿®æ”¹å·¥å…·çš„åˆ†ç»„</h3><ol><li>æ·»åŠ åˆ°ç»„<br>åœ¨ç®¡ç†å‘˜æ¨¡å¼ä¸‹ï¼Œå³é”®ç‚¹å‡»é€‰ä¸­å·¥å…·ï¼Œåœ¨å¼¹å‡ºèœå•ä¸­é€‰æ‹©â€œæ·»åŠ åˆ°ç»„â€ï¼Œå¼¹å‡ºåˆ—è¡¨ä¼šæ˜¾ç¤ºé™¤äº†å½“å‰ç»„ã€ All ç»„ä»¥åŠ Unsorted ç»„å¤–çš„å…¶ä»–ç»„ï¼Œé€‰æ‹©éœ€è¦æ·»åŠ çš„ç»„ï¼Œå¯ä»¥æŠŠé€‰ä¸­å·¥å…·æ·»åŠ åˆ°é€‰æ‹©çš„ç»„å†…ã€‚<br>â€œæ·»åŠ åˆ°ç»„â€åŠŸèƒ½ä¸ä¼šæŠŠå·¥å…·ä»åŸæ¥çš„ç»„ä¸­ç§»é™¤ï¼Œè€Œæ˜¯ç›´æ¥åœ¨éœ€è¦æ·»åŠ çš„ç»„ä¸­æ·»åŠ è¯¥å·¥å…·ã€‚<br>å‡å¦‚é€‰ä¸­å·¥å…·å·²ç»å­˜åœ¨äºéœ€è¦æ·»åŠ çš„ç»„ï¼Œåˆ™ä¼šè·³è¿‡æ·»åŠ æ“ä½œã€‚<br><img src="/2020/10/09/qt/%E5%B7%A5%E5%85%B7%E6%9E%B6%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/18.gif"></li><li>ç§»åŠ¨åˆ°ç»„<br>åœ¨ç®¡ç†å‘˜æ¨¡å¼ä¸‹ï¼Œå³é”®ç‚¹å‡»é€‰ä¸­å·¥å…·ï¼Œåœ¨å¼¹å‡ºèœå•ä¸­é€‰æ‹©â€œç§»åŠ¨åˆ°ç»„â€ï¼Œå¼¹å‡ºåˆ—è¡¨ä¼šæ˜¾ç¤ºé™¤äº†å½“å‰ç»„ã€ All ç»„ä»¥åŠ Unsorted ç»„å¤–çš„å…¶ä»–ç»„ï¼Œé€‰æ‹©éœ€è¦ç§»åŠ¨çš„ç»„ï¼Œå¯ä»¥æŠŠé€‰ä¸­å·¥å…·ç§»åŠ¨åˆ°é€‰æ‹©çš„ç»„å†…ã€‚<br>â€œç§»åŠ¨åˆ°ç»„â€åŠŸèƒ½ä¼šæŠŠå·¥å…·ä»åŸæ¥ç»„ä¸­ç§»é™¤ï¼Œå¹¶åœ¨éœ€è¦ç§»åŠ¨çš„ç»„ä¸­æ·»åŠ è¯¥å·¥å…·ã€‚<br>å‡å¦‚é€‰ä¸­å·¥å…·å·²ç»å­˜åœ¨äºéœ€è¦ç§»åŠ¨çš„ç»„ï¼Œåˆ™ä¼šè·³è¿‡æ·»åŠ æ“ä½œï¼Œä½†ä»ä¼šä»åŸæ¥ç»„ä¸­ç§»é™¤ã€‚<br><img src="/2020/10/09/qt/%E5%B7%A5%E5%85%B7%E6%9E%B6%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/19.gif"></li><li>ç§»å‡ºè¯¥ç»„<br>åœ¨ç®¡ç†å‘˜æ¨¡å¼ä¸‹ï¼Œå³é”®ç‚¹å‡»é€‰ä¸­å·¥å…·ï¼Œåœ¨å¼¹å‡ºèœå•ä¸­é€‰æ‹©â€œç§»å‡ºè¯¥ç»„â€ï¼Œå¯ä»¥æŠŠå·¥å…·ä»å½“å‰ç»„ä¸­ç§»é™¤ã€‚<br>ä¸â€œåˆ é™¤å·¥å…·â€ä¸åŒçš„æ˜¯ï¼Œâ€œåˆ é™¤å·¥å…·â€ä¼šæŠŠå·¥å…·ä»æ‰€æœ‰ç»„ä¸­åˆ é™¤ï¼Œè€Œâ€œç§»å‡ºè¯¥ç»„â€åªä¼šæŠŠå·¥å…·ä»è¯¥ç»„ä¸­ç§»é™¤ï¼Œè€Œä¸ä¼šå½±å“å·¥å…·åœ¨å…¶ä»–ç»„çš„å­˜åœ¨æƒ…å†µã€‚<br>å‡å¦‚å·¥å…·åœ¨è¯¥ç»„ä¸­ç§»é™¤åä¸å­˜åœ¨äºé™¤äº† All ç»„å¤–çš„ä»»ä½•å…¶ä»–åˆ†ç»„ï¼Œåˆ™å·¥å…·ä¼šè‡ªåŠ¨æ·»åŠ åˆ° Unsorted åˆ†ç»„ä¸­ã€‚<br><img src="/2020/10/09/qt/%E5%B7%A5%E5%85%B7%E6%9E%B6%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/20.gif"></li></ol><h3 id="ç¼–è¾‘ç»„"><a href="#ç¼–è¾‘ç»„" class="headerlink" title="ç¼–è¾‘ç»„"></a>ç¼–è¾‘ç»„</h3><p>åœ¨ç®¡ç†å‘˜æ¨¡å¼ä¸‹ï¼Œç‚¹å‡»â€œç¼–è¾‘ç»„â€æŒ‰é’®ï¼Œä¼šå¼¹å‡ºç¼–è¾‘ç»„çª—å£ç•Œé¢ã€‚æˆ‘ä»¬å¯ä»¥åœ¨ç•Œé¢ä¸­æŸ¥çœ‹åˆ°å·²ç»åˆ›å»ºçš„ç»„åï¼Œä»¥åŠè¿›è¡Œæ·»åŠ æ–°ç»„ã€åˆ é™¤ç»„å’Œé‡å‘½åç»„æ“ä½œã€‚ç¼–è¾‘ç»„ä¸­çš„ç»„ä¼šåŒæ­¥åˆ°å·¥å…·çš„åˆ†ç»„ä¸­ã€‚<br><img src="/2020/10/09/qt/%E5%B7%A5%E5%85%B7%E6%9E%B6%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/9.gif">   </p><ol><li>æ·»åŠ æ–°ç»„<br>åœ¨æ‰“å¼€çš„ç¼–è¾‘ç»„çª—å£ä¸­ï¼Œç‚¹å‡»â€œæ·»åŠ ç»„â€æŒ‰é’®ï¼Œä¼šå¼¹å‡ºéœ€è¦è¾“å…¥æ–°ç»„åçš„çª—å£ï¼Œåœ¨çª—å£ä¸­è¾“å…¥éœ€è¦åˆ›å»ºçš„ç»„ååï¼Œç‚¹å‡»â€œOKâ€æŒ‰é’®ï¼Œå³å¯æŠŠåœ¨ç»„åˆ—è¡¨æœ€ä¸‹æ–¹åˆ›å»ºä¸€ä¸ªæ–°ç»„ã€‚<br><img src="/2020/10/09/qt/%E5%B7%A5%E5%85%B7%E6%9E%B6%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/10.gif"></li><li>åˆ é™¤ç»„<br>åœ¨æ‰“å¼€çš„ç¼–è¾‘ç»„çª—å£ä¸­ï¼Œé€‰æ‹©éœ€è¦åˆ é™¤çš„ç»„ï¼Œç‚¹å‡»â€œåˆ é™¤ç»„â€æŒ‰é’®ï¼Œä¼šå¼¹å‡ºæç¤ºæ¡†ï¼šâ€œç¡®å®šåˆ é™¤ xxx ç»„ï¼Ÿåˆ é™¤åæœªåˆ†ç±»å·¥å…·ä¼šç§»åŠ¨åˆ° Unsorted ç»„â€ã€‚ç‚¹å‡»æç¤ºæ¡†çš„â€œOkâ€æŒ‰é’®ï¼Œå³å¯åˆ é™¤é€‰ä¸­ç»„ã€‚<br>å‡å¦‚é€‰ä¸­ç»„ä¸­å­˜åœ¨å¤šä¸ªå·¥å…·ï¼Œåˆ™ä¼šåˆ¤æ–­æ¯ä¸ªå·¥å…·æ˜¯å¦å­˜åœ¨ä¸åˆ«çš„ç»„ä¸­ï¼Œå¦‚æœå·¥å…·ä¸å­˜åœ¨äºä»»ä½•ç»„ï¼ˆâ€œAllâ€ç»„é™¤å¤–ï¼‰ï¼Œåˆ™ä¼šæŠŠå·¥å…·ç§»åŠ¨åˆ° Unsorted æœªåˆ†ç±»ç»„ä¸­ã€‚<br><img src="/2020/10/09/qt/%E5%B7%A5%E5%85%B7%E6%9E%B6%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/11.gif"></li><li>é‡å‘½åç»„<br>åœ¨æ‰“å¼€çš„ç¼–è¾‘çª—å£ä¸­ï¼Œé€‰æ‹©éœ€è¦é‡å‘½åçš„ç»„ï¼Œç‚¹å‡»â€œé‡å‘½åç»„â€ï¼Œä¼šå¼¹å‡ºéœ€è¦è¾“å…¥æ–°ç»„åçš„çª—å£ï¼Œåœ¨çª—å£ä¸­è¾“å…¥æ–°ç»„ååï¼Œç‚¹å‡»â€œOkâ€æŒ‰é’®ï¼Œå³å¯æŠŠé€‰ä¸­ç»„é‡å‘½åã€‚<br><img src="/2020/10/09/qt/%E5%B7%A5%E5%85%B7%E6%9E%B6%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/12.gif"></li></ol><hr><h1 id="ğŸ-æ•°æ®ç»“æ„"><a href="#ğŸ-æ•°æ®ç»“æ„" class="headerlink" title="ğŸ æ•°æ®ç»“æ„"></a>ğŸ æ•°æ®ç»“æ„</h1><h2 id="æ•°æ®åº“"><a href="#æ•°æ®åº“" class="headerlink" title="æ•°æ®åº“"></a>æ•°æ®åº“</h2><p>&emsp;&emsp;æœ¬æ¥ä¸€å¼€å§‹æ˜¯è®¡åˆ’ç”¨ PostgreSQL æ¥å®ç°çš„ï¼Œä½†æ˜¯ç”±äº Maya çš„ PySide2 ä¸­æ²¡æœ‰ PSql çš„é©±åŠ¨ï¼Œæœ¬æ¥ä½¿ç”¨ PSql å·²ç»å¼€å‘ä¸€åŠäº†ï¼Œä¹Ÿæ— å¥ˆè¢«è¿«ä¸­æ­¢ï¼Œè½¬ç”¨ sqlite ã€‚</p><p>&emsp;&emsp;è‡³äº Model ï¼Œä¸€å¼€å§‹ä¸æ¸…æ¥š Qt æœ‰ç›´æ¥å¤„ç†æ•°æ®åº“çš„ç±»ï¼Œä½¿ç”¨äº†ä¼ ç»Ÿçš„ QAbstractTableModel ç»“åˆè‡ªå®šä¹‰ Node ç±»å‹èŠ‚ç‚¹å®ç°æ˜¾ç¤ºã€‚è™½ç„¶ä¹Ÿå¯ä»¥æ­£å¸¸æ˜¾ç¤ºæ•°æ®ï¼Œä½†æ˜¯åœ¨å¾—çŸ¥å¯ä»¥ä½¿ç”¨ QSqlTableModel ç›´æ¥æ“ä½œæ•°æ®åº“æ•°æ®åï¼Œå°±èˆå¼ƒäº†ä¼ ç»Ÿæ¨¡å‹ï¼Œæ”¹ç”¨ QSqlTableModel äº†ã€‚</p><h3 id="PSQL"><a href="#PSQL" class="headerlink" title="PSQL"></a>PSQL</h3><p>&emsp;&emsp;è™½ç„¶æœ€ç»ˆå¹¶æ²¡æœ‰ä½¿ç”¨ Psql ï¼Œä½†æ˜¯æ¯•ç«ŸæŠ•å…¥äº†ä¸€ç‚¹æ—¶é—´è¿›è¡Œç ”ç©¶ï¼Œæ‰€ä»¥è¿˜æ˜¯è®°å½•ä¸€ä¸‹ Psql ä¸­çš„å¼€å‘ä½¿ç”¨å§ã€‚</p><h4 id="åˆ›å»ºæ•°æ®åº“"><a href="#åˆ›å»ºæ•°æ®åº“" class="headerlink" title="åˆ›å»ºæ•°æ®åº“"></a>åˆ›å»ºæ•°æ®åº“</h4><p>&emsp;&emsp;ä½¿ç”¨ pgAdmin 4 åˆ›å»ºæ•°æ®åº“ã€‚</p><h4 id="è·å–æ•°æ®åº“è¿æ¥"><a href="#è·å–æ•°æ®åº“è¿æ¥" class="headerlink" title="è·å–æ•°æ®åº“è¿æ¥"></a>è·å–æ•°æ®åº“è¿æ¥</h4><pre><code class="hljs Python"><span class="hljs-keyword">import</span> psycopg2conn = psycopg2.connect(                database=<span class="hljs-string">&#x27;database name&#x27;</span>,                user=<span class="hljs-string">&#x27;user name&#x27;</span>,                password=<span class="hljs-string">&#x27;database password&#x27;</span>,                host=<span class="hljs-string">&#x27;your host&#x27;</span>,                port=<span class="hljs-string">&#x27;your port&#x27;</span>)TOOL_TABLE = <span class="hljs-string">&#x27;public.tool_manager&#x27;</span></code></pre><h4 id="æ’å…¥æ•°æ®"><a href="#æ’å…¥æ•°æ®" class="headerlink" title="æ’å…¥æ•°æ®"></a>æ’å…¥æ•°æ®</h4><pre><code class="hljs Python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">insert_data</span>(<span class="hljs-params">conn, table, tname, tcommand, tlocation, ttooltip=<span class="hljs-string">&#x27;&#x27;</span>,  tenabled=True, ticon=<span class="hljs-string">&#x27;&#x27;</span>, thelp=<span class="hljs-string">&#x27;&#x27;</span>, tgitlab=<span class="hljs-string">&#x27;&#x27;</span>, tused=<span class="hljs-number">0</span>, tid=<span class="hljs-number">0</span>, tdatetime=<span class="hljs-string">&#x27;&#x27;</span></span>):</span>    cursor = conn.cursor()    cursor.execute(<span class="hljs-string">&quot;INSERT INTO &#123;&#125;(tname, ttooltip, tcommand, tenabled, ticon, tlocation, thelp, tgitlab, tused, tid, tdate) \</span><span class="hljs-string">        VALUES(&#x27;&#123;&#125;&#x27;, &#x27;&#123;&#125;&#x27;, &#x27;&#123;&#125;&#x27;, &#x27;&#123;&#125;&#x27;, &#x27;&#123;&#125;&#x27;, &#x27;&#123;&#125;&#x27;, &#x27;&#123;&#125;&#x27;, &#x27;&#123;&#125;&#x27;, &#123;&#125;, &#123;&#125;, &#x27;&#123;&#125;&#x27;)&quot;</span>.format(            table, tname, ttooltip.encode(<span class="hljs-string">&#x27;utf-8&#x27;</span>), tcommand, tenabled, ticon, tlocation, thelp, tgitlab, tused, tid, tdatetime        ))insert_data(conn, <span class="hljs-string">&#x27;public.group_&#123;&#125;&#x27;</span>.format(tgroups.lower().replace(<span class="hljs-string">&#x27; &#x27;</span>,<span class="hljs-string">&#x27;_&#x27;</span>)), tname=tname, tcommand=tcommand, tlocation=tlocation, ttooltip=ttooltip, ticon=ticon, tenabled=tenabled, thelp=thelp, tused=tused, tid=tid, tdatetime=tdatetime)</code></pre><h4 id="åˆ é™¤æ•°æ®"><a href="#åˆ é™¤æ•°æ®" class="headerlink" title="åˆ é™¤æ•°æ®"></a>åˆ é™¤æ•°æ®</h4><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">delete_data</span>(<span class="hljs-params">conn, table, condition_key, condition_value</span>):</span>    cursor = conn.cursor()    cursor.execute(<span class="hljs-string">&quot;DELETE FROM &#123;&#125; \</span><span class="hljs-string">        WHERE &#123;&#125;=&#x27;&#123;&#125;&#x27;&quot;</span>.format(table, condition_key, condition_value))delete_data(conn, TOOL_TABLE, <span class="hljs-string">&#x27;tname&#x27;</span>, <span class="hljs-string">&#x27;first_tool&#x27;</span>)</code></pre><h4 id="æ¸…ç©ºè¡¨æ•°æ®"><a href="#æ¸…ç©ºè¡¨æ•°æ®" class="headerlink" title="æ¸…ç©ºè¡¨æ•°æ®"></a>æ¸…ç©ºè¡¨æ•°æ®</h4><p>&emsp;&emsp;truncate æ–¹æ³•åœ¨ sqlite æ˜¯æ²¡æœ‰çš„ã€‚</p><pre><code class="hljs Python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">truncate_table</span>(<span class="hljs-params">conn, table</span>):</span>    cursor = conn.cursor()    cursor.execute(<span class="hljs-string">&quot;truncate &#123;&#125;&quot;</span>.format(table))truncate_table(TOOL_TABLE)</code></pre><h4 id="æŸ¥è¯¢æ•°æ®"><a href="#æŸ¥è¯¢æ•°æ®" class="headerlink" title="æŸ¥è¯¢æ•°æ®"></a>æŸ¥è¯¢æ•°æ®</h4><pre><code class="hljs Python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">query_data</span>(<span class="hljs-params">conn, table, key, condition=<span class="hljs-string">&#x27;&#x27;</span></span>):</span>    cursor = conn.cursor()    <span class="hljs-keyword">if</span> condition:        cursor.execute(<span class="hljs-string">&quot;SELECT &#123;&#125; from &#123;&#125; where &#123;&#125;&quot;</span>.format(key, table, condition))    <span class="hljs-keyword">else</span>:        cursor.execute(<span class="hljs-string">&quot;SELECT &#123;&#125; from &#123;&#125;&quot;</span>.format(key, table))    data = cursor.fetchall()    <span class="hljs-keyword">return</span> dataquery_data(conn, TOOL_TABLE, <span class="hljs-string">&#x27;tname&#x27;</span>)</code></pre><h4 id="æ›´æ–°æ•°æ®"><a href="#æ›´æ–°æ•°æ®" class="headerlink" title="æ›´æ–°æ•°æ®"></a>æ›´æ–°æ•°æ®</h4><pre><code class="hljs Python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">update_data</span>(<span class="hljs-params">conn, table, key, value, condition</span>):</span>    cursor = conn.cursor()    <span class="hljs-keyword">try</span>:        cursor.execute(<span class="hljs-string">&quot;UPDATE &#123;&#125; SET &#123;&#125;=&#x27;&#123;&#125;&#x27; WHERE &#123;&#125;;&quot;</span>.format(table, key, value.encode(<span class="hljs-string">&#x27;utf-8&#x27;</span>), condition))    <span class="hljs-keyword">except</span>:        cursor.execute(<span class="hljs-string">&quot;UPDATE &#123;&#125; SET &#123;&#125;=&#123;&#125; WHERE &#123;&#125;;&quot;</span>.format(table, key, value, condition))update_data(conn, TOOL_TABLE, <span class="hljs-string">&#x27;thelp&#x27;</span>, thelp, <span class="hljs-string">&quot;tname=&#x27;&#123;&#125;&#x27;&quot;</span>.format(tname))</code></pre><hr><h3 id="SQlite"><a href="#SQlite" class="headerlink" title="SQlite"></a>SQlite</h3><p>&emsp;&emsp;SQLite æ˜¯ä¸€ä¸ªè½¯ä»¶åº“ï¼Œå®ç°äº†è‡ªç»™è‡ªè¶³çš„ã€æ— æœåŠ¡å™¨çš„ã€é›¶é…ç½®çš„ã€äº‹åŠ¡æ€§çš„ SQL æ•°æ®åº“å¼•æ“ã€‚SQLite æ˜¯åœ¨ä¸–ç•Œä¸Šæœ€å¹¿æ³›éƒ¨ç½²çš„ SQL æ•°æ®åº“å¼•æ“ã€‚SQLite æºä»£ç ä¸å—ç‰ˆæƒé™åˆ¶ã€‚</p><h4 id="åˆ›å»ºæ•°æ®åº“-1"><a href="#åˆ›å»ºæ•°æ®åº“-1" class="headerlink" title="åˆ›å»ºæ•°æ®åº“"></a>åˆ›å»ºæ•°æ®åº“</h4><p>&emsp;&emsp;SQLite å¯ä»¥æŒ‡å®šæ•°æ®åº“ä½ç½®ï¼Œå‡å¦‚ä½ç½®ä¸å­˜åœ¨åˆ™ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªæ•°æ®åº“ã€‚</p><pre><code class="hljs Python">TOOLS_DB = <span class="hljs-string">&#x27;tools.db&#x27;</span>conn = sqlite3.connect(TOOLS_DB)cursor = conn.cursor()</code></pre><h4 id="åˆ›å»ºè¡¨"><a href="#åˆ›å»ºè¡¨" class="headerlink" title="åˆ›å»ºè¡¨"></a>åˆ›å»ºè¡¨</h4><p>&emsp;&emsp;SQLite æ²¡æœ‰å•ç‹¬çš„ Boolean å­˜å‚¨ç±»ã€‚ç›¸åï¼Œå¸ƒå°”å€¼è¢«å­˜å‚¨ä¸ºæ•´æ•° 0ï¼ˆfalseï¼‰å’Œ 1ï¼ˆtrueï¼‰ã€‚</p><p>&emsp;&emsp;SQLite æ²¡æœ‰ä¸€ä¸ªå•ç‹¬çš„ç”¨äºå­˜å‚¨æ—¥æœŸå’Œ/æˆ–æ—¶é—´çš„å­˜å‚¨ç±»ï¼Œä½† SQLite èƒ½å¤ŸæŠŠæ—¥æœŸå’Œæ—¶é—´å­˜å‚¨ä¸º TEXTã€REAL æˆ– INTEGER å€¼ã€‚</p><pre><code class="hljs Python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">create_table</span>(<span class="hljs-params">table_name</span>):</span>    cursor.execute(<span class="hljs-string">&#x27;&#x27;&#x27;select name from sqlite_master where type=&#x27;table&#x27; order by name;&#x27;&#x27;&#x27;</span>)    table_tuples = cursor.fetchall()    <span class="hljs-keyword">if</span> tuple([table_name]) <span class="hljs-keyword">in</span> table_tuples:        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>    cursor.execute(<span class="hljs-string">&#x27;&#x27;&#x27;create table &#123;&#125;(</span><span class="hljs-string">        tname       text,</span><span class="hljs-string">        ttooltip    text,</span><span class="hljs-string">        tenabled    boolean,</span><span class="hljs-string">        tsetup      boolean,</span><span class="hljs-string">        tcommand    text,</span><span class="hljs-string">        ticon       text,</span><span class="hljs-string">        tlocation   text,</span><span class="hljs-string">        thelp       text,</span><span class="hljs-string">        tgitlab     text,</span><span class="hljs-string">        tused       integer,</span><span class="hljs-string">        tid         integer,</span><span class="hljs-string">        tdate       text</span><span class="hljs-string">        );&#x27;&#x27;&#x27;</span>.format(table_name))    <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>create_table(<span class="hljs-string">&#x27;group_all&#x27;</span>)</code></pre><h4 id="åˆ é™¤è¡¨"><a href="#åˆ é™¤è¡¨" class="headerlink" title="åˆ é™¤è¡¨"></a>åˆ é™¤è¡¨</h4><p>&emsp;&emsp;SQLite çš„ DROP TABLE è¯­å¥ç”¨æ¥åˆ é™¤è¡¨å®šä¹‰åŠå…¶æ‰€æœ‰ç›¸å…³æ•°æ®ã€ç´¢å¼•ã€è§¦å‘å™¨ã€çº¦æŸå’Œè¯¥è¡¨çš„æƒé™è§„èŒƒã€‚</p><p>&emsp;&emsp;ä½¿ç”¨æ­¤å‘½ä»¤æ—¶è¦ç‰¹åˆ«æ³¨æ„ï¼Œå› ä¸ºä¸€æ—¦ä¸€ä¸ªè¡¨è¢«åˆ é™¤ï¼Œè¡¨ä¸­æ‰€æœ‰ä¿¡æ¯ä¹Ÿå°†æ°¸è¿œä¸¢å¤±ã€‚</p><pre><code class="hljs Python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">drop_table</span>(<span class="hljs-params">table_name</span>):</span>    cursor.execute(<span class="hljs-string">&#x27;&#x27;&#x27;DROP TABLE &#123;&#125;;&#x27;&#x27;&#x27;</span>.format(table_name))drop_table(<span class="hljs-string">&#x27;group_all&#x27;</span>)</code></pre><h4 id="é‡å‘½åè¡¨å"><a href="#é‡å‘½åè¡¨å" class="headerlink" title="é‡å‘½åè¡¨å"></a>é‡å‘½åè¡¨å</h4><pre><code class="hljs Python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">rename_table</span>(<span class="hljs-params">old_table, new_table</span>):</span>    cursor.execute(<span class="hljs-string">&#x27;&#x27;&#x27;select name from sqlite_master where type=&#x27;table&#x27; order by name;&#x27;&#x27;&#x27;</span>)    table_tuples = cursor.fetchall()    <span class="hljs-keyword">if</span> tuple([new_table]) <span class="hljs-keyword">in</span> table_tuples:        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>    cursor.execute(<span class="hljs-string">&#x27;&#x27;&#x27;ALTER TABLE &#123;&#125; RENAME TO &#123;&#125;;&#x27;&#x27;&#x27;</span>.format(old_table, new_table))    <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>rename_table(<span class="hljs-string">&#x27;old&#x27;</span>, <span class="hljs-string">&#x27;new&#x27;</span>)</code></pre><h4 id="æ¸…ç©ºè¡¨"><a href="#æ¸…ç©ºè¡¨" class="headerlink" title="æ¸…ç©ºè¡¨"></a>æ¸…ç©ºè¡¨</h4><p>&emsp;&emsp;åœ¨ SQLite ä¸­ï¼Œå¹¶æ²¡æœ‰ TRUNCATE TABLE å‘½ä»¤ï¼Œä½†å¯ä»¥ä½¿ç”¨ SQLite çš„ DELETE å‘½ä»¤ä»å·²æœ‰çš„è¡¨ä¸­åˆ é™¤å…¨éƒ¨çš„æ•°æ®ã€‚</p><pre><code class="hljs Python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">truncate_table</span>(<span class="hljs-params">table</span>):</span>    cursor.execute(<span class="hljs-string">&#x27;&#x27;&#x27;delete from &#123;&#125;;&#x27;&#x27;&#x27;</span>.format(table))truncate_table(<span class="hljs-string">&#x27;group_all&#x27;</span>)</code></pre><h4 id="æ’å…¥æ•°æ®-1"><a href="#æ’å…¥æ•°æ®-1" class="headerlink" title="æ’å…¥æ•°æ®"></a>æ’å…¥æ•°æ®</h4><pre><code class="hljs Python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">insert_record</span>(<span class="hljs-params">table, tname=<span class="hljs-string">&#x27;NewTool&#x27;</span>, tcommand=<span class="hljs-string">&#x27;&lt;Command&gt;&#x27;</span>, tlocation=<span class="hljs-string">&#x27;&lt;Location&gt;&#x27;</span>, ttooltip=<span class="hljs-string">&#x27;&lt;ToolTip&gt;&#x27;</span>,  tenabled=True, ticon=<span class="hljs-string">&#x27;&lt;Icon&gt;&#x27;</span>, thelp=<span class="hljs-string">&#x27;&lt;Help&gt;&#x27;</span>, tgitlab=<span class="hljs-string">&#x27;&lt;Gitlab&gt;&#x27;</span>, tused=<span class="hljs-number">0</span>, tid=<span class="hljs-number">0</span>, tdate=<span class="hljs-string">&#x27;&#x27;</span>, tsetup=False</span>):</span>    cursor.execute(<span class="hljs-string">&#x27;&#x27;&#x27;insert into &#123;&#125;(tname, ttooltip, tenabled, tsetup, tcommand, ticon, tlocation, thelp, tgitlab, tused, tid, tdate)</span><span class="hljs-string">        VALUES(?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?</span><span class="hljs-string">        )&#x27;&#x27;&#x27;</span>.format(table), (tname, ttooltip, tenabled, tsetup, tcommand, ticon, tlocation, thelp, tgitlab, tused, tid, tdate))insert_record(<span class="hljs-string">&#x27;group_&#123;&#125;&#x27;</span>.format(tgroups.lower().replace(<span class="hljs-string">&#x27; &#x27;</span>,<span class="hljs-string">&#x27;_&#x27;</span>)), tname=tname, tcommand=tcommand, tlocation=tlocation, ttooltip=ttooltip, ticon=ticon, tenabled=tenabled, thelp=thelp, tused=tused, tid=tid, tdate=tdatetime, tsetup=tsetup)</code></pre><hr><h2 id="QSqlTableModel"><a href="#QSqlTableModel" class="headerlink" title="QSqlTableModel"></a>QSqlTableModel</h2><p>&emsp;&emsp;QSqlTableModel å¯ä»¥ä½œä¸º QTableView çš„æ•°æ®æºã€‚</p><h3 id="è¿æ¥æ•°æ®åº“"><a href="#è¿æ¥æ•°æ®åº“" class="headerlink" title="è¿æ¥æ•°æ®åº“"></a>è¿æ¥æ•°æ®åº“</h3><pre><code class="hljs Python">TOOLS_DB = <span class="hljs-string">&#x27;tools.db&#x27;</span><span class="hljs-meta">@staticmethod</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">sql_db</span>():</span>    <span class="hljs-keyword">if</span> QSqlDatabase.contains(<span class="hljs-string">&quot;qt_sql_default_connection&quot;</span>):        db = QSqlDatabase.database(<span class="hljs-string">&quot;qt_sql_default_connection&quot;</span>)    <span class="hljs-keyword">else</span>:        db = QSqlDatabase.addDatabase(<span class="hljs-string">&quot;QSQLITE&quot;</span>)            db.setDatabaseName(TOOLS_DB)    <span class="hljs-keyword">if</span> db.open():        <span class="hljs-keyword">return</span> db    <span class="hljs-keyword">else</span>:        <span class="hljs-keyword">return</span> QSqlDatabase()</code></pre><h3 id="è®¾ç½®ç¼–è¾‘ç­–ç•¥"><a href="#è®¾ç½®ç¼–è¾‘ç­–ç•¥" class="headerlink" title="è®¾ç½®ç¼–è¾‘ç­–ç•¥"></a>è®¾ç½®ç¼–è¾‘ç­–ç•¥</h3><p>QSqlTableModel.setEditStrategy(strategy)</p><p>å‚æ•°ä¸ºæšä¸¾ç±»å‹ï¼š</p><ul><li>OnFieldChange å­—æ®µå€¼å˜åŒ–æ—¶ç«‹å³æ›´æ–°åˆ°æ•°æ®åº“</li><li>OnRowChange å½“å‰è¡Œå˜åŒ–æ—¶æ›´æ–°åˆ°æ•°æ®åº“</li><li>OnManualSubmitÂ  æ‰€æœ‰ä¿®æ”¹æš‚æ—¶ç¼“å­˜ï¼Œæ‰‹åŠ¨è°ƒç”¨submitAllä¿å­˜</li></ul><pre><code class="hljs Python">self.setEditStrategy(QSqlTableModel.OnManualSubmit)</code></pre><hr><h1 id="â­-å…·ä½“åŠŸèƒ½è¯¦è§£"><a href="#â­-å…·ä½“åŠŸèƒ½è¯¦è§£" class="headerlink" title="â­ å…·ä½“åŠŸèƒ½è¯¦è§£"></a>â­ å…·ä½“åŠŸèƒ½è¯¦è§£</h1><h2 id="MVC-æ¡†æ¶-æ˜¾ç¤ºå·¥å…·æ•°æ®"><a href="#MVC-æ¡†æ¶-æ˜¾ç¤ºå·¥å…·æ•°æ®" class="headerlink" title="MVC æ¡†æ¶ æ˜¾ç¤ºå·¥å…·æ•°æ®"></a>MVC æ¡†æ¶ æ˜¾ç¤ºå·¥å…·æ•°æ®</h2><p>&emsp;&emsp;ç»å…¸ MVC æ¨¡å¼ä¸­ï¼ŒM æ˜¯æŒ‡ä¸šåŠ¡æ¨¡å‹ï¼ŒV æ˜¯æŒ‡ç”¨æˆ·ç•Œé¢ï¼ŒC åˆ™æ˜¯æ§åˆ¶å™¨ï¼Œä½¿ç”¨ MVC çš„ç›®çš„æ˜¯å°† M å’Œ V çš„å®ç°ä»£ç åˆ†ç¦»ï¼Œä»è€Œä½¿åŒä¸€ä¸ªç¨‹åºå¯ä»¥ä½¿ç”¨ä¸åŒçš„è¡¨ç°å½¢å¼ã€‚å…¶ä¸­ï¼ŒView çš„å®šä¹‰æ¯”è¾ƒæ¸…æ™°ï¼Œå°±æ˜¯ç”¨æˆ·ç•Œé¢ã€‚</p><p>&emsp;&emsp;åœ¨ Qt ä¸­çš„ MVC å¹¶ä¸å«MVCï¼Œè€Œæ˜¯å«â€œMVDâ€ï¼ŒQtä¸­æ²¡æœ‰ Controller çš„è¯´æ³•ï¼Œè€Œæ˜¯ä½¿ç”¨äº†å¦å¤–ä¸€ç§æŠ½è±¡: Delegate (å§”æ‰˜) ï¼Œå…¶è¡Œä¸ºå’Œä¼ ç»Ÿçš„ MVC æ˜¯ç›¸åŒçš„ã€‚</p><p>&emsp;&emsp;åœ¨æœ¬å·¥å…·ä¸­ï¼ŒView ä½¿ç”¨äº† QListViewï¼ˆç”¨æˆ·ç•Œé¢ï¼‰å’Œ QTableViewï¼ˆç®¡ç†å‘˜ç•Œé¢ï¼‰ï¼ŒModel ä½¿ç”¨äº† QSqlTableModelï¼ŒDelegate ä½¿ç”¨äº† QStyledItemDelegateï¼ˆcombobox æ˜¾ç¤º dataï¼‰ã€‚</p><h3 id="å·¥å…·è§†å›¾-ToolView"><a href="#å·¥å…·è§†å›¾-ToolView" class="headerlink" title="å·¥å…·è§†å›¾ ToolView"></a>å·¥å…·è§†å›¾ ToolView</h3><p>&emsp;&emsp;ç»§æ‰¿æ¶æ„ï¼š</p><p><img src="/2020/10/09/qt/%E5%B7%A5%E5%85%B7%E6%9E%B6%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/ToolView%E7%BB%A7%E6%89%BF%E5%9B%BE.jpg"></p><h3 id="æ•°æ®æ¨¡å‹-sqlTableModel"><a href="#æ•°æ®æ¨¡å‹-sqlTableModel" class="headerlink" title="æ•°æ®æ¨¡å‹ sqlTableModel"></a>æ•°æ®æ¨¡å‹ sqlTableModel</h3><p>&emsp;&emsp;æ¨¡å‹æ–¹æ³•ï¼š</p><p><img src="/2020/10/09/qt/%E5%B7%A5%E5%85%B7%E6%9E%B6%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/sqlTableModel%E7%BB%A7%E6%89%BF%E5%9B%BE.jpg"></p><h3 id="å§”æ‰˜ä»£ç†-ComboBoxDelegate"><a href="#å§”æ‰˜ä»£ç†-ComboBoxDelegate" class="headerlink" title="å§”æ‰˜ä»£ç† ComboBoxDelegate"></a>å§”æ‰˜ä»£ç† ComboBoxDelegate</h3><p>&emsp;&emsp;å¯¹ tenabledã€tsetup è¿™ç±»å¸ƒå°”å€¼é¡¹è®¾ç½®ä»£ç†ï¼Œä½¿å¾—ç¼–è¾‘æ—¶æ˜¾ç¤ºè‡ªå®šä¹‰ä¸‹æ‹‰æ¡†ä»¥é€‰æ‹©â€œYesâ€æˆ–è€…â€œNoâ€ã€‚</p><p><img src="/2020/10/09/qt/%E5%B7%A5%E5%85%B7%E6%9E%B6%E7%95%8C%E9%9D%A2%E5%BC%80%E5%8F%91/ComboBoxDelegate%E7%BB%A7%E6%89%BF%E5%9B%BE.jpg"></p><h3 id="ä¸ºè§†å›¾è®¾ç½®æ¨¡å‹å’Œä»£ç†"><a href="#ä¸ºè§†å›¾è®¾ç½®æ¨¡å‹å’Œä»£ç†" class="headerlink" title="ä¸ºè§†å›¾è®¾ç½®æ¨¡å‹å’Œä»£ç†"></a>ä¸ºè§†å›¾è®¾ç½®æ¨¡å‹å’Œä»£ç†</h3><p>ui_main_sql.py</p><pre><code class="hljs Python"><span class="hljs-comment"># init list view</span>self.UserView = self.icon_list_viewself.tool_view = self.UserView<span class="hljs-comment"># init model</span>self.tool_model = _sql_table_model.sqlTableModel(self.tool_view)<span class="hljs-comment"># set list view model</span>self.icon_list_view.setModel(self.tool_model)self.list_list_view.setModel(self.tool_model)<span class="hljs-comment"># --- change to AdminMode --- </span><span class="hljs-comment"># init table view</span>self.AdminView = _table_view.TableView(self)<span class="hljs-comment"># init combobox delegate</span>combo_model = QStandardItemModel(<span class="hljs-number">2</span>, <span class="hljs-number">1</span>, self.AdminView)combo_model.setData(combo_model.index(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, QModelIndex()), <span class="hljs-string">&quot;Yes&quot;</span>)combo_model.setData(combo_model.index(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, QModelIndex()), <span class="hljs-string">&quot;No&quot;</span>)<span class="hljs-comment"># set table view delegate</span>self.AdminView.setItemDelegateForColumn(self.tool_model._column_key[<span class="hljs-string">&#x27;tenabled&#x27;</span>], _combobox_delegate.ComboBoxDelegate(combo_model, self.AdminView))self.AdminView.setItemDelegateForColumn(self.tool_model._column_key[<span class="hljs-string">&#x27;tsetup&#x27;</span>], _combobox_delegate.ComboBoxDelegate(combo_model, self.AdminView))<span class="hljs-comment"># set table view model</span>self.AdminView.setModel(self.tool_model)</code></pre><hr><h2 id="åˆ‡æ¢ç»„æ—¶æ›´æ–°å·¥å…·è§†å›¾"><a href="#åˆ‡æ¢ç»„æ—¶æ›´æ–°å·¥å…·è§†å›¾" class="headerlink" title="åˆ‡æ¢ç»„æ—¶æ›´æ–°å·¥å…·è§†å›¾"></a>åˆ‡æ¢ç»„æ—¶æ›´æ–°å·¥å…·è§†å›¾</h2><p>&emsp;&emsp;å½“åˆ‡æ¢ç»„æ—¶ï¼ŒsqkTableModelé‡æ–°è®¾ç½®æ•°æ®è¡¨ã€‚</p><p>ui_main_sql.py</p><pre><code class="hljs Python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ToolWin</span>(<span class="hljs-params">QMainWindow</span>):</span>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, parent=None</span>):</span>        <span class="hljs-comment"># init group combobox</span>        self.group_combobox = _combo_box.ComboBox(self.group_list)        <span class="hljs-comment"># parse group combobox to model</span>        self.tool_model.set_group_combobox(self.group_combobox)        <span class="hljs-comment"># set group combobox signal</span>        self.group_combobox.currentTextChanged.connect(self.change_group)    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">change_group</span>(<span class="hljs-params">self, cur_group</span>):</span>        group_table = _table_view.TableView.group_to_table(cur_group)        self.tool_model.change_db_table(group_table)</code></pre><p>sql_table_model.py</p><pre><code class="hljs Python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">sqlTableModel</span>(<span class="hljs-params">QSqlTableModel</span>):</span>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">change_db_table</span>(<span class="hljs-params">self, table_name</span>):</span>        <span class="hljs-string">&quot;&quot;&quot;æ›´å˜å½“å‰æ•°æ®åº“è¡¨ä¸ºæŒ‡å®šæ–°è¡¨å</span><span class="hljs-string"></span><span class="hljs-string">        Args:</span><span class="hljs-string">            table_name (str): æ•°æ®åº“è¡¨å</span><span class="hljs-string">        &quot;&quot;&quot;</span>        self.setTable(table_name)        <span class="hljs-comment"># é‡æ–°ç­›é€‰ç¬¦åˆæœç´¢æ¡ä»¶çš„å·¥å…·</span>        self.setFilter(<span class="hljs-string">&quot;lower(tname) like &#x27;%&#123;&#125;%&#x27; or lower(ttooltip) like &#x27;%&#123;&#125;%&#x27;&quot;</span>.format(self._filter_text.lower(), self._filter_text.lower()))        self.setSort(self._sort_key, Qt.AscendingOrder)        self.select()        self.setHeaderData(self._column_key[<span class="hljs-string">&#x27;tname&#x27;</span>], Qt.Horizontal, <span class="hljs-string">u&quot;å·¥å…·åç§°&quot;</span>)        self.setHeaderData(self._column_key[<span class="hljs-string">&#x27;ttooltip&#x27;</span>], Qt.Horizontal, <span class="hljs-string">u&quot;è¯´æ˜&quot;</span>)        self.setHeaderData(self._column_key[<span class="hljs-string">&#x27;tcommand&#x27;</span>], Qt.Horizontal, <span class="hljs-string">u&quot;è°ƒç”¨å‘½ä»¤&quot;</span>)        self.setHeaderData(self._column_key[<span class="hljs-string">&#x27;tenabled&#x27;</span>], Qt.Horizontal, <span class="hljs-string">u&quot;å¯è§æ€§&quot;</span>)        self.setHeaderData(self._column_key[<span class="hljs-string">&#x27;tsetup&#x27;</span>], Qt.Horizontal, <span class="hljs-string">u&quot;å¯åŠ¨æ—¶è°ƒç”¨&quot;</span>)        self.setHeaderData(self._column_key[<span class="hljs-string">&#x27;ticon&#x27;</span>], Qt.Horizontal, <span class="hljs-string">u&quot;å›¾æ ‡&quot;</span>)        self.setHeaderData(self._column_key[<span class="hljs-string">&#x27;tlocation&#x27;</span>], Qt.Horizontal, <span class="hljs-string">u&quot;è°ƒç”¨ä½ç½®&quot;</span>)        self.setHeaderData(self._column_key[<span class="hljs-string">&#x27;thelp&#x27;</span>], Qt.Horizontal, <span class="hljs-string">u&quot;å¸®åŠ©æ–‡æ¡£&quot;</span>)        self.setHeaderData(self._column_key[<span class="hljs-string">&#x27;tgitlab&#x27;</span>], Qt.Horizontal, <span class="hljs-string">u&quot;Gitlabä»“åº“&quot;</span>)        self.setHeaderData(self._column_key[<span class="hljs-string">&#x27;tused&#x27;</span>], Qt.Horizontal, <span class="hljs-string">u&quot;ä½¿ç”¨æ¬¡æ•°&quot;</span>)        <span class="hljs-comment"># è®¾ç½®ç»„ä¸‹æ‹‰æ¡†å½“å‰å€¼ä¸ºæ–°è¡¨åå¯¹åº”çš„ç»„å</span>        <span class="hljs-keyword">if</span> self._group_combobox:            cur_table_group = self._parent_view.table_to_group(table_name)            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> cur_table_group == self._group_combobox.currentText():                self._group_combobox.setCurrentText(cur_table_group)        <span class="hljs-comment"># è¡¨æ ¼æ ¹æ®è®°å½•çš„tdateé€‰æ‹©å·¥å…·</span>        <span class="hljs-keyword">if</span> self._parent_view.inherits(<span class="hljs-string">&#x27;QTableView&#x27;</span>):            self._parent_view.setColumnWidth(self._column_key[<span class="hljs-string">&#x27;tname&#x27;</span>], <span class="hljs-number">150</span>)            self.set_select_row()</code></pre><hr><h2 id="æ— è¾¹æ¡†çª—å£æ·»åŠ é˜´å½±"><a href="#æ— è¾¹æ¡†çª—å£æ·»åŠ é˜´å½±" class="headerlink" title="æ— è¾¹æ¡†çª—å£æ·»åŠ é˜´å½±"></a>æ— è¾¹æ¡†çª—å£æ·»åŠ é˜´å½±</h2><p>&emsp;&emsp;æŠŠé˜´å½±çª—å£ ShadowWidget è®¾ç½®ä¸ºæ˜¾ç¤ºä¸»çª—å£çš„çˆ¶çª—ä½“ã€‚</p><p>ui_main_sql.py</p><pre><code class="hljs Python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ShadowWidget</span>(<span class="hljs-params">QWidget</span>):</span>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, main_win, parent=None</span>):</span>        super(ShadowWidget, self).__init__(parent)        self.setWindowFlags(Qt.FramelessWindowHint | Qt.Windo        self.setAttribute(Qt.WA_TranslucentBackground)        self.main_widget = main_win        self.main_widget.setParent(self)        self.main_layout = QVBoxLayout(self)        self.main_layout.addWidget(self.main_widget)        self.main_layout.setContentsMargins(<span class="hljs-number">6</span>,<span class="hljs-number">6</span>,<span class="hljs-number">6</span>,<span class="hljs-number">6</span>)        wndShadow = QGraphicsDropShadowEffect(self)        wndShadow.setBlurRadius(<span class="hljs-number">20</span>)        wndShadow.setColor(Qt.gray)        wndShadow.setOffset(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>)        self.main_widget.setGraphicsEffect(wndShadow)</code></pre><hr><h2 id="æ— è¾¹æ¡†çª—å£æ‹–æ‹½åŠŸèƒ½"><a href="#æ— è¾¹æ¡†çª—å£æ‹–æ‹½åŠŸèƒ½" class="headerlink" title="æ— è¾¹æ¡†çª—å£æ‹–æ‹½åŠŸèƒ½"></a>æ— è¾¹æ¡†çª—å£æ‹–æ‹½åŠŸèƒ½</h2><p>&emsp;&emsp;é€šè¿‡é‡å†™é¼ æ ‡ç‚¹å‡»ã€é‡Šæ”¾å’Œç§»åŠ¨äº‹ä»¶å®ç°çª—å£æ‹–æ‹½åŠŸèƒ½ã€‚</p><p>&emsp;&emsp;ç”¨ ismoving å±æ€§è®°å½•çª—å£ç§»åŠ¨çŠ¶æ€ã€‚</p><p>ui_main_sql.py</p><pre><code class="hljs Python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ShadowWidget</span>(<span class="hljs-params">QWidget</span>):</span>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, main_win, parent=None</span>):</span>        self.ismoving = <span class="hljs-literal">False</span>        self.main_widget.setMouseTracking(<span class="hljs-literal">True</span>)        self.setMouseTracking(<span class="hljs-literal">True</span>)        <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">mouseMoveEvent</span>(<span class="hljs-params">self, event</span>):</span>        super(ShadowWidget, self).mouseMoveEvent(event)        <span class="hljs-keyword">if</span> self.ismoving:            relpos = event.globalPos() - self.start_point            self.move(self.window_point + relpos)    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">mousePressEvent</span>(<span class="hljs-params">self, event</span>):</span>        super(ShadowWidget, self).mousePressEvent(event)        <span class="hljs-keyword">if</span> event.button() == Qt.LeftButton:            self.ismoving = <span class="hljs-literal">True</span>            self.setCursor(Qt.ClosedHandCursor)            self.start_point = event.globalPos()            self.window_point = self.frameGeometry().topLeft()    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">mouseReleaseEvent</span>(<span class="hljs-params">self, event</span>):</span>        super(ShadowWidget, self).mouseReleaseEvent(event)        self.ismoving = <span class="hljs-literal">False</span>        <span class="hljs-keyword">if</span> event.button() == Qt.LeftButton:            self.setCursor(Qt.ArrowCursor)</code></pre><hr><h2 id="æ— è¾¹æ¡†çª—å£ç¼©æ”¾åŠŸèƒ½"><a href="#æ— è¾¹æ¡†çª—å£ç¼©æ”¾åŠŸèƒ½" class="headerlink" title="æ— è¾¹æ¡†çª—å£ç¼©æ”¾åŠŸèƒ½"></a>æ— è¾¹æ¡†çª—å£ç¼©æ”¾åŠŸèƒ½</h2><p>å±æ€§ï¼š</p><ul><li>Margins: åˆ¤å®šçª—å£è¾¹ç¼˜è·ç¦»é¼ æ ‡çš„å€¼</li><li>current_edit_rect: é¼ æ ‡æ‰€åœ¨ç•Œé¢çš„åŒºåŸŸèŒƒå›´</li><li>on_left_btnï¼šæ˜¯å¦æŒ‰ä¸‹å·¦é”®</li></ul><p>æ–¹æ³•ï¼š</p><ul><li>judgeReigon(pos): åˆ¤æ–­é¼ æ ‡åœ¨çª—å£è¾¹ç¼˜çš„å“ªä¸€éƒ¨åˆ†åŒºåŸŸ</li><li>resizeWin(mgPos): é¼ æ ‡åœ¨å¯ä»¥ç¼©æ”¾çš„åŒºåŸŸèŒƒå›´å¹¶å·¦é”®ç‚¹å‡»å’Œæ‹–æ‹½ï¼Œåˆ™è¿›è¡Œç¼©æ”¾</li></ul><p>ui_main_sql.py</p><pre><code class="hljs Python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ShadowWidget</span>(<span class="hljs-params">QWidget</span>):</span>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, main_win, parent=None</span>):</span>        self.Margins = <span class="hljs-number">10</span>        self.current_edit_rect = <span class="hljs-literal">None</span>        self.on_left_btn = <span class="hljs-literal">False</span>        self.main_widget.setMouseTracking(<span class="hljs-literal">True</span>)        self.setMouseTracking(<span class="hljs-literal">True</span>)    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">mouseMoveEvent</span>(<span class="hljs-params">self, event</span>):</span>        super(ShadowWidget, self).mouseMoveEvent(event)        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> self.on_left_btn:            self.judgeReigon(self.mapToParent(event.pos()))        <span class="hljs-keyword">elif</span> self.cursor() != Qt.ArrowCursor:            self.resizeWin(event.globalPos())    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">mousePressEvent</span>(<span class="hljs-params">self, event</span>):</span>        super(ShadowWidget, self).mousePressEvent(event)        <span class="hljs-keyword">if</span> event.button() == Qt.LeftButton:            self.on_left_btn = <span class="hljs-literal">True</span>        <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">mouseReleaseEvent</span>(<span class="hljs-params">self, event</span>):</span>        super(ShadowWidget, self).mouseReleaseEvent(event)        <span class="hljs-keyword">if</span> event.button() == Qt.LeftButton:            self.setCursor(Qt.ArrowCursor)            self.current_edit_rect = <span class="hljs-literal">None</span>            self.on_left_btn = <span class="hljs-literal">False</span>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">judgeReigon</span>(<span class="hljs-params">self, pos</span>):</span>        rect = self.frameGeometry()        self.top_rect = QRect(rect.x()+self.Margins, rect.y(), rect.width()-self.Margins*<span class="hljs-number">2</span>, self.Margins)        self.top_left_rect = QRect(rect.x(), rect.y(), self.Margins, self.Margins)        self.left_rect = QRect(rect.x(), rect.y()+self.Margins, self.Margins, rect.height()-self.Margins*<span class="hljs-number">2</span>)        self.bottom_left_rect = QRect(rect.x(), rect.y()+rect.height()-self.Margins, self.Margins, self.Margins)        self.bottom_rect = QRect(rect.x()+self.Margins, rect.y()+rect.height()-self.Margins, rect.width()-self.Margins*<span class="hljs-number">2</span>, self.Margins)        self.botton_right_rect = QRect(rect.x()+self.width()-self.Margins, rect.y()+rect.height()-self.Margins, self.Margins, self.Margins)        self.right_rect = QRect(rect.x()+self.width()-self.Margins, rect.y()+self.Margins, self.Margins, rect.height()-self.Margins*<span class="hljs-number">2</span>)        self.top_right_rect = QRect(rect.x()+self.width()-self.Margins, rect.y(), self.Margins, self.Margins)        <span class="hljs-keyword">if</span> self.top_rect.contains(pos):            self.setCursor(Qt.SizeVerCursor)            self.current_edit_rect = <span class="hljs-string">&#x27;top_rect&#x27;</span>        <span class="hljs-keyword">elif</span> self.top_left_rect.contains(pos):            self.setCursor(Qt.SizeFDiagCursor)            self.current_edit_rect = <span class="hljs-string">&#x27;top_left_rect&#x27;</span>        <span class="hljs-keyword">elif</span> self.left_rect.contains(pos):            self.setCursor(Qt.SizeHorCursor)            self.current_edit_rect = <span class="hljs-string">&#x27;left_rect&#x27;</span>        <span class="hljs-keyword">elif</span> self.bottom_left_rect.contains(pos):            self.setCursor(Qt.SizeBDiagCursor)            self.current_edit_rect = <span class="hljs-string">&#x27;bottom_left_rect&#x27;</span>        <span class="hljs-keyword">elif</span> self.bottom_rect.contains(pos):            self.setCursor(Qt.SizeVerCursor)            self.current_edit_rect = <span class="hljs-string">&#x27;bottom_rect&#x27;</span>        <span class="hljs-keyword">elif</span> self.botton_right_rect.contains(pos):            self.setCursor(Qt.SizeFDiagCursor)            self.current_edit_rect = <span class="hljs-string">&#x27;botton_right_rect&#x27;</span>        <span class="hljs-keyword">elif</span> self.right_rect.contains(pos):            self.setCursor(Qt.SizeHorCursor)            self.current_edit_rect = <span class="hljs-string">&#x27;right_rect&#x27;</span>        <span class="hljs-keyword">elif</span> self.top_right_rect.contains(pos):            self.setCursor(Qt.SizeBDiagCursor)            self.current_edit_rect = <span class="hljs-string">&#x27;top_right_rect&#x27;</span>        <span class="hljs-keyword">else</span>:            self.setCursor(Qt.ArrowCursor)            self.current_edit_rect = <span class="hljs-literal">None</span>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">resizeWin</span>(<span class="hljs-params">self, mgPos</span>):</span>        <span class="hljs-keyword">if</span> self.current_edit_rect == <span class="hljs-literal">None</span>:            <span class="hljs-keyword">return</span>        winX = self.geometry().x()        winY = self.geometry().y()        winW = self.geometry().width()        winH = self.geometry().height()        downside = self.pos().y() + winH        rightside = self.pos().x() + winW        <span class="hljs-keyword">if</span> self.current_edit_rect == <span class="hljs-string">&#x27;top_rect&#x27;</span>:            winY = mgPos.y()            winH = downside - winY        <span class="hljs-keyword">elif</span> self.current_edit_rect == <span class="hljs-string">&#x27;top_left_rect&#x27;</span>:            winY = mgPos.y()            winH = downside - winY            winX = mgPos.x()            winW = rightside - winX        <span class="hljs-keyword">elif</span> self.current_edit_rect == <span class="hljs-string">&#x27;left_rect&#x27;</span>:            winX = mgPos.x()            winW = rightside - winX        <span class="hljs-keyword">elif</span> self.current_edit_rect == <span class="hljs-string">&#x27;bottom_left_rect&#x27;</span>:            winX = mgPos.x()            winW = rightside - winX            winH = mgPos.y() - self.pos().y()        <span class="hljs-keyword">elif</span> self.current_edit_rect == <span class="hljs-string">&#x27;botton_right_rect&#x27;</span>:            winW = mgPos.x() - self.pos().x()            winH = mgPos.y() - self.pos().y()        <span class="hljs-keyword">elif</span> self.current_edit_rect == <span class="hljs-string">&#x27;right_rect&#x27;</span>:            winW = mgPos.x() - self.pos().x()        <span class="hljs-keyword">elif</span> self.current_edit_rect == <span class="hljs-string">&#x27;bottom_rect&#x27;</span>:            winH = mgPos.y() - self.pos().y()        <span class="hljs-keyword">elif</span> self.current_edit_rect == <span class="hljs-string">&#x27;top_right_rect&#x27;</span>:            winY = mgPos.y()            winH = downside - winY            winW = mgPos.x() - self.pos().x()        <span class="hljs-keyword">if</span> winW &lt; self.win_min_width:            <span class="hljs-keyword">return</span>        <span class="hljs-keyword">if</span> winH &lt; self.win_min_height:            <span class="hljs-keyword">return</span>        self.setGeometry(winX, winY, winW, winH)</code></pre><hr><h2 id="çª—å£åº”ç”¨ç”¨æˆ·é…ç½®"><a href="#çª—å£åº”ç”¨ç”¨æˆ·é…ç½®" class="headerlink" title="çª—å£åº”ç”¨ç”¨æˆ·é…ç½®"></a>çª—å£åº”ç”¨ç”¨æˆ·é…ç½®</h2><h3 id="å…³é—­æ—¶ä¿å­˜é…ç½®ä¿¡æ¯"><a href="#å…³é—­æ—¶ä¿å­˜é…ç½®ä¿¡æ¯" class="headerlink" title="å…³é—­æ—¶ä¿å­˜é…ç½®ä¿¡æ¯"></a>å…³é—­æ—¶ä¿å­˜é…ç½®ä¿¡æ¯</h3><p>&emsp;&emsp;å½“å·¥å…·å…³é—­æˆ–è€…é€€å‡ºæ—¶ï¼Œä¼šåœ¨ç”µè„‘æœ¬åœ°æ–‡æ¡£è·¯å¾„ä¸‹ç”Ÿæˆä¸€ä¸ªâ€œpopic_tool_config.jsonâ€æ–‡ä»¶ã€‚è¯¥æ–‡ä»¶è®°å½•å·¥å…·çª—å£çš„ä½ç½®ã€å¤§å°ã€ç”¨æˆ·/ç®¡ç†å‘˜æ¨¡å¼ã€å½“å‰åˆ—è¡¨è§†å›¾æ˜¾ç¤ºæ¨¡å¼ã€å·¥å…·ç¼©æ”¾æ»‘å—æ¡æ•°å€¼å’Œå½“å‰æ˜¾ç¤ºç»„çš„ä¿¡æ¯ã€‚</p><pre><code class="hljs Python">USER_CONFIG_PATH = os.path.expanduser(<span class="hljs-string">&#x27;~/popic_tool_config.json&#x27;</span>)<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ShadowWidget</span>(<span class="hljs-params">QWidget</span>):</span>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">closeEvent</span>(<span class="hljs-params">self, event</span>):</span>        super(ShadowWidget, self).closeEvent(event)        user_config = &#123;            <span class="hljs-string">&#x27;win_left&#x27;</span> : self.pos().x(),            <span class="hljs-string">&#x27;win_top&#x27;</span> : self.pos().y(),            <span class="hljs-string">&#x27;user_width&#x27;</span> : self.main_widget.UserViewWidth,            <span class="hljs-string">&#x27;user_height&#x27;</span> : self.main_widget.UserViewHeight,            <span class="hljs-string">&#x27;admin_width&#x27;</span> : self.main_widget.AdminViewWidth,            <span class="hljs-string">&#x27;admin_height&#x27;</span> : self.main_widget.AdminViewHeight,            <span class="hljs-string">&#x27;admin_mode&#x27;</span> : self.main_widget.AdminMode,            <span class="hljs-string">&#x27;current_view&#x27;</span> : str(self.main_widget.UserView.viewMode()).split(<span class="hljs-string">&#x27;.&#x27;</span>)[<span class="hljs-number">-1</span>],            <span class="hljs-string">&#x27;icon_slider_value&#x27;</span> : self.main_widget.size_slider.icon_mode_value,            <span class="hljs-string">&#x27;list_slider_value&#x27;</span> : self.main_widget.size_slider.list_mode_value,            <span class="hljs-string">&#x27;group_index&#x27;</span> : self.main_widget.group_combobox.currentIndex()        &#125;        <span class="hljs-keyword">with</span> open(USER_CONFIG_PATH, <span class="hljs-string">&#x27;w+&#x27;</span>) <span class="hljs-keyword">as</span> f:            json_str = json.dumps(user_config, indent=<span class="hljs-number">4</span>)            f.write(json_str)</code></pre><h3 id="æ‰“å¼€æ—¶è¯»å–é…ç½®ä¿¡æ¯"><a href="#æ‰“å¼€æ—¶è¯»å–é…ç½®ä¿¡æ¯" class="headerlink" title="æ‰“å¼€æ—¶è¯»å–é…ç½®ä¿¡æ¯"></a>æ‰“å¼€æ—¶è¯»å–é…ç½®ä¿¡æ¯</h3><p>&emsp;&emsp;å½“å·¥å…·å¯åŠ¨æ—¶ï¼Œå‡å¦‚ç”µè„‘æœ¬åœ°æ–‡æ¡£è·¯å¾„ä¸‹å­˜åœ¨â€œpopic_tool_config.jsonâ€æ–‡ä»¶ï¼Œåˆ™è¯»å–è¯¥æ–‡ä»¶ä¿¡æ¯å¹¶æ›´æ–°å·¥å…·æ˜¾ç¤ºï¼Œä»¥æ¢å¤ä¸å…³é—­å·¥å…·å‰ç›¸åŒçš„çŠ¶æ€ã€‚</p><p>&emsp;&emsp;å¦‚æœç”µè„‘æœ¬åœ°æ–‡æ¡£è·¯å¾„ä¸‹ä¸å­˜åœ¨â€œpopic_tool_config.jsonâ€æ–‡ä»¶ï¼Œåˆ™ä¼šä»¥é»˜è®¤é…ç½®å¯åŠ¨å·¥å…·ã€‚</p><pre><code class="hljs Python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ShadowWidget</span>(<span class="hljs-params">QWidget</span>):</span>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">showEvent</span>(<span class="hljs-params">self, event</span>):</span>        super(ShadowWidget, self).showEvent(event)        <span class="hljs-keyword">if</span> os.path.exists(USER_CONFIG_PATH):            <span class="hljs-keyword">with</span> open(USER_CONFIG_PATH, <span class="hljs-string">&#x27;r+&#x27;</span>) <span class="hljs-keyword">as</span> f:                user_config = json.load(f)            self.move(user_config[<span class="hljs-string">&#x27;win_left&#x27;</span>], user_config[<span class="hljs-string">&#x27;win_top&#x27;</span>])            self.main_widget.UserViewWidth = user_config[<span class="hljs-string">&#x27;user_width&#x27;</span>]            self.main_widget.UserViewHeight = user_config[<span class="hljs-string">&#x27;user_height&#x27;</span>]            self.main_widget.AdminViewWidth = user_config[<span class="hljs-string">&#x27;admin_width&#x27;</span>]            self.main_widget.AdminViewHeight = user_config[<span class="hljs-string">&#x27;admin_height&#x27;</span>]            self.main_widget.group_combobox.setCurrentIndex(user_config[<span class="hljs-string">&#x27;group_index&#x27;</span>])            self.main_widget.size_slider.icon_mode_value = user_config[<span class="hljs-string">&#x27;icon_slider_value&#x27;</span>]            self.main_widget.size_slider.list_mode_value = user_config[<span class="hljs-string">&#x27;list_slider_value&#x27;</span>]            admin_mode = user_config[<span class="hljs-string">&#x27;admin_mode&#x27;</span>]            <span class="hljs-keyword">if</span> admin_mode <span class="hljs-keyword">and</span> self.main_widget.AdminView:                <span class="hljs-keyword">pass</span>            <span class="hljs-keyword">else</span>:                <span class="hljs-keyword">if</span> user_config[<span class="hljs-string">&#x27;current_view&#x27;</span>] == <span class="hljs-string">&#x27;IconMode&#x27;</span>:                    self.main_widget.change_to_icon_mode()                <span class="hljs-keyword">elif</span> user_config[<span class="hljs-string">&#x27;current_view&#x27;</span>] == <span class="hljs-string">&#x27;ListMode&#x27;</span>:                    self.main_widget.change_to_list_mode()        self.main_widget.resize_view()    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">resize</span>(<span class="hljs-params">self</span>):</span>        super(ShadowWidget, self).resize(self.main_widget.width()+self.Margins + <span class="hljs-number">20</span>, self.main_widget.height()+self.Margins + <span class="hljs-number">20</span>)<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ToolWin</span>(<span class="hljs-params">QMainWindow</span>):</span>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">resize_view</span>(<span class="hljs-params">self</span>):</span>        <span class="hljs-keyword">if</span> self.tool_view == self.AdminView:            self.resize(self.AdminViewWidth, self.AdminViewHeight)        <span class="hljs-keyword">else</span>:            self.resize(self.UserViewWidth, self.UserViewHeight)        self.parent().resize()</code></pre><hr><h2 id="è°ƒç”¨å·¥å…·"><a href="#è°ƒç”¨å·¥å…·" class="headerlink" title="è°ƒç”¨å·¥å…·"></a>è°ƒç”¨å·¥å…·</h2><h3 id="åœ¨-Windows-ä¸‹è°ƒç”¨å·¥å…·"><a href="#åœ¨-Windows-ä¸‹è°ƒç”¨å·¥å…·" class="headerlink" title="åœ¨ Windows ä¸‹è°ƒç”¨å·¥å…·"></a>åœ¨ Windows ä¸‹è°ƒç”¨å·¥å…·</h3><pre><code class="hljs Python"><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:    app = QApplication(sys.argv)    main_win = ToolWin()    win = ShadowWidget(main_win)    win.show()    sys.exit(app.exec_())</code></pre><h3 id="åœ¨-Maya-ä¸‹è°ƒç”¨å·¥å…·"><a href="#åœ¨-Maya-ä¸‹è°ƒç”¨å·¥å…·" class="headerlink" title="åœ¨ Maya ä¸‹è°ƒç”¨å·¥å…·"></a>åœ¨ Maya ä¸‹è°ƒç”¨å·¥å…·</h3><pre><code class="hljs Python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">maya_main</span>():</span>    ptr = OpenMayaUI.MQtUtil.mainWindow()    mayaWindow = wrapInstance(long(ptr), QWidget)    win_obj = mayaWindow.findChild(QWidget, <span class="hljs-string">&#x27;popic_tool_window&#x27;</span>)    <span class="hljs-keyword">if</span> win_obj:        win_obj.close()    <span class="hljs-keyword">else</span>:        main_win = ToolWin()        win_obj = ShadowWidget(main_win, mayaWindow)        win_obj.setObjectName(<span class="hljs-string">&#x27;popic_tool_window&#x27;</span>)    win_obj.show()maya_main()</code></pre><hr><h2 id="è·å–-Maya-çš„-Icon-è·¯å¾„"><a href="#è·å–-Maya-çš„-Icon-è·¯å¾„" class="headerlink" title="è·å– Maya çš„ Icon è·¯å¾„"></a>è·å– Maya çš„ Icon è·¯å¾„</h2><p>&emsp;&emsp;å¾ˆå¤š Maya çš„å·¥å…·æ˜¾ç¤ºä½¿ç”¨çš„æ˜¯ Maya è‡ªå¸¦çš„å›¾æ ‡ï¼Œè¿™äº›å›¾æ ‡è·¯å¾„å¯ä»¥é€šè¿‡å‡ ä¸ªåœ°æ–¹æ‰¾åˆ°ã€‚</p><h3 id="XBMLANGPATH"><a href="#XBMLANGPATH" class="headerlink" title="XBMLANGPATH"></a>XBMLANGPATH</h3><p>&emsp;&emsp;Icon è·¯å¾„ï¼Œåœ¨è¯¥å˜é‡ä¸‹çš„è·¯å¾„ä¸­çš„å›¾ç‰‡æ–‡ä»¶å¯ä»¥ç›´æ¥ç”¨æ¥å½“ä½œç•Œé¢æ§ä»¶çš„å›¾æ ‡ã€‚  </p><ol><li>è¿è¡Œ mel å‘½ä»¤ <code>xbmLangPathList;</code> å¯ä»¥æŸ¥çœ‹ icon è·¯å¾„ã€‚  </li><li>ä¹Ÿå¯ä»¥é€šè¿‡æŸ¥è¯¢ç¯å¢ƒå˜é‡ <code>os.environ[&#39;XBMLANGPATH&#39;]</code>  æŸ¥çœ‹è·¯å¾„ã€‚</li></ol>]]></content>
    
    
    <categories>
      
      <category>Qt</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Qt</tag>
      
      <tag>Maya</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Gité…ç½®å¤šä¸ªSSH-key</title>
    <link href="/2020/10/09/script/Git%E9%85%8D%E7%BD%AE%E5%A4%9A%E4%B8%AASSH-key/"/>
    <url>/2020/10/09/script/Git%E9%85%8D%E7%BD%AE%E5%A4%9A%E4%B8%AASSH-key/</url>
    
    <content type="html"><![CDATA[<p>&emsp;&emsp;è¯¥å†…å®¹ä¸»è¦æºäº <a href="https://blog.csdn.net/hao495430759/article/details/80673568">Gité…ç½®å¤šä¸ªSSH key</a>ã€‚</p><h3 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h3><p>&emsp;&emsp;æœ‰æ—¶å€™æˆ‘ä»¬çš„ä»£ç æ‰˜ç®¡åœ¨å¤šä¸ªå¹³å°ä¸Šï¼Œè¿™å°±éœ€è¦ä¸ºæ¯ä¸ªæ‰˜ç®¡å¹³å°è®¾ç½®SSH-keyã€‚æ¯”å¦‚æˆ‘ç°åœ¨çš„æƒ…å†µæ˜¯éœ€è¦ä¸ºGitHubå’Œå…¬å¸çš„GitLabé…ç½®SSH-keyã€‚</p><p>&emsp;&emsp;ä»¥ä¸‹ä¸ºåˆ›å»ºåŠé…ç½®æ­¥éª¤ã€‚</p><h3 id="1ï¼Œç”ŸæˆSSH-key"><a href="#1ï¼Œç”ŸæˆSSH-key" class="headerlink" title="1ï¼Œç”ŸæˆSSH-key"></a>1ï¼Œç”ŸæˆSSH-key</h3><p>&emsp;&emsp;ç”Ÿæˆå…¬å¸ç”¨çš„SSH-keyï¼š</p><pre><code class="hljs vim">ssh-keygen -t rsa -C <span class="hljs-comment">&quot;your emailâ€ -f ~/.ssh/popic_rsa</span></code></pre><p>&emsp;&emsp;ç”ŸæˆGitHubç”¨çš„SSH-keyï¼š</p><pre><code class="hljs vim">ssh-keygen -t rsa -C <span class="hljs-comment">&quot;your emailâ€ -f ~/.ssh/github_rsa</span></code></pre><p>&emsp;&emsp;æ­¤æ—¶ï¼ŒC:/Users/â€œç”¨æˆ·åâ€/.sshæ–‡ä»¶å¤¹ä¸‹åº”è¯¥æœ‰å››ä¸ªæ–°åˆ›å»ºçš„æ–‡ä»¶ï¼Œå…¶ä¸­â€œ.pubâ€æ ¼å¼ç»“å°¾çš„æ–‡ä»¶ä¸ºå…¬é’¥æ–‡ä»¶ã€‚</p><h3 id="2-æ·»åŠ å…¬é’¥åˆ°ä»£ç å¹³å°"><a href="#2-æ·»åŠ å…¬é’¥åˆ°ä»£ç å¹³å°" class="headerlink" title="2. æ·»åŠ å…¬é’¥åˆ°ä»£ç å¹³å°"></a>2. æ·»åŠ å…¬é’¥åˆ°ä»£ç å¹³å°</h3><p>&emsp;&emsp;åˆ†åˆ«ç™»å½•githubå’Œå…¬å¸ä»£ç æ‰˜ç®¡å¹³å°ï¼Œåœ¨â€œSetting - SSH-keysâ€ä¸­æ·»åŠ å…¬é’¥ã€‚</p><p><img src="/2020/10/09/script/Git%E9%85%8D%E7%BD%AE%E5%A4%9A%E4%B8%AASSH-key/%E5%85%AC%E9%92%A5.png"></p><p>&emsp;&emsp;å¡«å†™å¥½åç§°å’Œå†…å®¹åï¼Œç‚¹å‡»â€œAdd SSH keyâ€ã€‚</p><h3 id="3-æ·»åŠ ç§é’¥"><a href="#3-æ·»åŠ ç§é’¥" class="headerlink" title="3. æ·»åŠ ç§é’¥"></a>3. æ·»åŠ ç§é’¥</h3><pre><code class="hljs arcade">ssh-add ~<span class="hljs-regexp">/.ssh/</span>popic_rsassh-add ~<span class="hljs-regexp">/.ssh/gi</span>thub_rsa</code></pre><p>&emsp;&emsp;å¦‚æœè¿è¡Œåå‡ºç°â€œCould not open a connection to your authentication agent.â€ï¼Œæ‰§è¡Œâ€œssh-agent bashâ€åå†é‡æ–°æ‰§è¡Œæ·»åŠ å‘½ä»¤ã€‚</p><p><img src="/2020/10/09/script/Git%E9%85%8D%E7%BD%AE%E5%A4%9A%E4%B8%AASSH-key/not_connect.png"></p><pre><code class="hljs arcade">ssh-agent bashssh-add ~<span class="hljs-regexp">/.ssh/</span>popic_rsassh-add ~<span class="hljs-regexp">/.ssh/gi</span>thub_rsa</code></pre><p>&emsp;&emsp;é€šè¿‡â€œssh-add -lâ€åˆ—å‡ºç§é’¥åˆ—è¡¨ï¼Œé€šè¿‡â€œssh-add -Dâ€æ¥æ¸…ç©ºç§é’¥åˆ—è¡¨</p><pre><code class="hljs dockerfile">ssh-<span class="hljs-keyword">add</span><span class="bash"> -l</span>ssh-<span class="hljs-keyword">add</span><span class="bash"> -D</span></code></pre><h3 id="4-ä¿®æ”¹configé…ç½®æ–‡ä»¶"><a href="#4-ä¿®æ”¹configé…ç½®æ–‡ä»¶" class="headerlink" title="4. ä¿®æ”¹configé…ç½®æ–‡ä»¶"></a>4. ä¿®æ”¹configé…ç½®æ–‡ä»¶</h3><p>&emsp;&emsp;åœ¨â€œ.sshâ€æ–‡ä»¶å¤¹ä¸‹ï¼Œå¦‚æœæ²¡æœ‰â€œconfigâ€æ–‡ä»¶ï¼ˆæ— åç¼€åï¼‰ï¼Œå¯ä»¥é€šè¿‡â€œtouch configâ€å‘½ä»¤åˆ›å»ºä¸€ä¸ªã€‚</p><pre><code class="hljs arduino">touch <span class="hljs-built_in">config</span></code></pre><p>&emsp;&emsp;æ‰“å¼€â€œconfigâ€æ–‡ä»¶è¿›è¡Œç¼–è¾‘ã€‚</p><pre><code class="hljs routeros"><span class="hljs-comment"># github</span>Host github.comPort 22HostName github.comPreferredAuthentications publickeyIdentityFile C:/Users/â€œç”¨æˆ·åâ€/.ssh/github_rsaUser vannyyuan <span class="hljs-comment"># gitpopic</span>Host git.popic.comHostName git.popic.comPreferredAuthentications publickeyIdentityFile C:/Users/â€œç”¨æˆ·åâ€/.ssh/popic_rsaUser vanny</code></pre><h3 id="5-æµ‹è¯•"><a href="#5-æµ‹è¯•" class="headerlink" title="5. æµ‹è¯•"></a>5. æµ‹è¯•</h3><pre><code class="hljs nginx"><span class="hljs-attribute">ssh</span> -T git<span class="hljs-variable">@github</span>.comssh -T git<span class="hljs-variable">@git</span>.popic.com</code></pre><p>&emsp;&emsp;å¦‚æœæç¤º <font color="orange">Are you sure you want to continue connecting (yes/no/[fingerprint])? </font>ï¼Œåˆ™è¾“å…¥â€œyesâ€å¹¶å›è½¦å³å¯ã€‚ä¼šåœ¨â€œ.sshâ€ç›®å½•ä¸‹ç”Ÿæˆç¼ºå°‘çš„known_hostsæ–‡ä»¶ã€‚</p><p>&emsp;&emsp;æˆåŠŸï¼ğŸ‰</p><p><img src="/2020/10/09/script/Git%E9%85%8D%E7%BD%AE%E5%A4%9A%E4%B8%AASSH-key/succeed.png"></p><h3 id="ğŸš-å‡ºç°-Permission-denied-é—®é¢˜"><a href="#ğŸš-å‡ºç°-Permission-denied-é—®é¢˜" class="headerlink" title="ğŸš å‡ºç° Permission denied é—®é¢˜"></a>ğŸš å‡ºç° Permission denied é—®é¢˜</h3><p>&emsp;&emsp;åœ¨ä½¿ç”¨å‘½ä»¤ <code>ssh -T git@git.popic.com</code> æ—¶ï¼Œå‡ºç°äº† <font color="red">Permission denied (publickey,password,keyboard-interactive). </font> çš„é”™è¯¯ã€‚</p><p>&emsp;&emsp;è¯•è¿‡åˆ é™¤å¯†é’¥é‡æ–°ç”Ÿæˆå’Œæ·»åŠ ï¼Œä¹Ÿä¸èƒ½è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæœ€ç»ˆåœ¨ç½‘ä¸Šæ‰¾åˆ°äº†å¯ç”¨æ–¹æ³•ï¼šæå‡ â€œ~/.sshâ€ æ–‡ä»¶å¤¹çš„æƒé™ã€‚</p><pre><code class="hljs angelscript">chmod <span class="hljs-number">700</span> ~/.ssh</code></pre><p>&emsp;&emsp;æ‰§è¡Œååˆ é™¤ â€œ~/.sshâ€ æ–‡ä»¶å¤¹ä¸­çš„ â€œknown_hostsâ€ æ–‡ä»¶ã€‚</p><p>&emsp;&emsp;æ­¤æ—¶é‡æ–°ä½¿ç”¨å‘½ä»¤å°±å¯ä»¥æˆåŠŸç™»é™†äº†ï¼</p>]]></content>
    
    
    <categories>
      
      <category>SCRIPT</category>
      
      <category>Common</category>
      
    </categories>
    
    
    <tags>
      
      <tag>SCRIPT</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æŒ‰ä¸‹â€œESCâ€ä¸­æ–­è¿è¡Œä¸­çš„forå¾ªç¯</title>
    <link href="/2020/10/09/script/python/%E6%8C%89%E4%B8%8BESC%E4%B8%AD%E6%96%AD%E8%BF%90%E8%A1%8C%E4%B8%AD%E7%9A%84for%E5%BE%AA%E7%8E%AF/"/>
    <url>/2020/10/09/script/python/%E6%8C%89%E4%B8%8BESC%E4%B8%AD%E6%96%AD%E8%BF%90%E8%A1%8C%E4%B8%AD%E7%9A%84for%E5%BE%AA%E7%8E%AF/</url>
    
    <content type="html"><![CDATA[<p>&emsp;&emsp;å‡è®¾æœ‰ä¸€ä¸ªç¨‹åºï¼Œè¿è¡Œè¿‡ç¨‹ä¸­æ¯éš”ä¸€ç§’æ‰“å°ä¸€æ¬¡æ•°å­—ï¼Œå½“é”®ç›˜æŒ‰ä¸‹â€œESCâ€æ—¶ï¼Œä½¿è¯¥å¾ªç¯ç»ˆæ­¢ã€‚</p><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">a_func</span>():</span>    <span class="hljs-comment"># ! å¾ªç¯ç¨‹åº</span>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">10</span>):        time.sleep(<span class="hljs-number">1</span>)        <span class="hljs-keyword">print</span> i</code></pre><h3 id="ğŸ¾-pynput"><a href="#ğŸ¾-pynput" class="headerlink" title="ğŸ¾ pynput"></a>ğŸ¾ pynput</h3><p>&emsp;&emsp;pynput.keyboardï¼šåŒ…å«æ§åˆ¶å’Œç›‘æ§é”®ç›˜çš„ç±»ã€‚</p><p>&emsp;&emsp;è°ƒç”¨pynput.mouse.Listener.stopï¼Œå‘èµ·StopExceptionå¼‚å¸¸ï¼Œæˆ–è€…å›è°ƒå‡½æ•°ä¸­è¿”å›Falseéƒ½ä¼šåœæ­¢äº‹ä»¶çš„ç›‘å¬ã€‚</p><pre><code class="hljs python"><span class="hljs-comment"># -*- coding:utf-8 -*-</span><span class="hljs-keyword">import</span> time<span class="hljs-keyword">from</span> pynput <span class="hljs-keyword">import</span> keyboard<span class="hljs-keyword">from</span> threading <span class="hljs-keyword">import</span> Thread<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">thread</span>(<span class="hljs-params">Thread</span>):</span>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self</span>):</span>        Thread.__init__( self )        self.shut_down_signal = <span class="hljs-literal">True</span>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">run</span>(<span class="hljs-params">self</span>):</span>        <span class="hljs-comment"># ! å¾ªç¯ç¨‹åº</span>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">5</span>):            <span class="hljs-keyword">if</span> self.shut_down_signal:                time.sleep(<span class="hljs-number">1</span>)                <span class="hljs-keyword">print</span> i            <span class="hljs-keyword">else</span>:                <span class="hljs-keyword">return</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">on_press</span>(<span class="hljs-params">key</span>):</span>    <span class="hljs-comment"># ! é‡å†™on_press</span>    <span class="hljs-keyword">pass</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">on_release</span>(<span class="hljs-params">key</span>):</span>    <span class="hljs-comment"># ! é‡å†™on_release</span>    <span class="hljs-keyword">if</span> key ==  keyboard.Key.esc:        <span class="hljs-keyword">print</span> <span class="hljs-string">&quot;Esc&quot;</span>        <span class="hljs-comment"># ! ä¿®æ”¹çº¿ç¨‹ä¸­çš„shut_down_signal</span>        run_thread.shut_down_signal = <span class="hljs-literal">False</span>        <span class="hljs-comment"># ! é€€å‡ºç›‘å¬å™¨</span>        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><span class="hljs-comment"># ! å¯åŠ¨çº¿ç¨‹</span>run_thread = thread()run_thread.start()<span class="hljs-comment"># ! å¯åŠ¨ç›‘å¬å™¨</span><span class="hljs-keyword">with</span> keyboard.Listener(on_press=on_press,on_release=on_release) <span class="hljs-keyword">as</span> listener:    listener.join()</code></pre><h3 id="ğŸš€-QWidget-çš„-keyPressEvent-å’Œ-keyReleaseEvent"><a href="#ğŸš€-QWidget-çš„-keyPressEvent-å’Œ-keyReleaseEvent" class="headerlink" title="ğŸš€ QWidget çš„ keyPressEvent å’Œ keyReleaseEvent"></a>ğŸš€ QWidget çš„ keyPressEvent å’Œ keyReleaseEvent</h3><p>&emsp;&emsp;åœ¨Qtçª—å£ä¸­ï¼Œå¯ä»¥é€šè¿‡é‡å†™ keyPressEvent() å’Œ keyReleaseEvent() è¿™ä¸¤ä¸ªæ–¹æ³•å®ç°ã€‚keyPressEvent æ˜¯ QWidget é‡Œé¢çš„å‡½æ•°ï¼Œæ‰€ä»¥å‡¡æ˜¯ç»§æ‰¿è‡ª QWidget çš„ç±»éƒ½å¯ä»¥é€šè¿‡å®ç°è¿™ä¸ªå‡½æ•°æ¥å®Œæˆå¯¹æŒ‰é”®äº‹ä»¶çš„å“åº”ã€‚</p><p>&emsp;&emsp;ç‚¹å‡»â€œClick to runâ€æŒ‰é’®å¼€å§‹forå¾ªç¯ï¼ŒæŒ‰â€œEscâ€é€€å‡ºã€‚</p><pre><code class="hljs python"><span class="hljs-comment"># -*- coding:utf-8 -*-</span><span class="hljs-keyword">import</span> time<span class="hljs-keyword">from</span> threading <span class="hljs-keyword">import</span> Thread<span class="hljs-keyword">from</span> PySide2.QtCore <span class="hljs-keyword">import</span> *<span class="hljs-keyword">from</span> PySide2.QtGui <span class="hljs-keyword">import</span> *<span class="hljs-keyword">from</span> PySide2.QtWidgets <span class="hljs-keyword">import</span> *<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">thread</span>(<span class="hljs-params">Thread</span>):</span>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self</span>):</span>        Thread.__init__( self )        self.shut_down_signal = <span class="hljs-literal">True</span>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">run</span>(<span class="hljs-params">self</span>):</span>        <span class="hljs-comment"># ! å¾ªç¯ç¨‹åº</span>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">5</span>):            <span class="hljs-keyword">if</span> self.shut_down_signal:                time.sleep(<span class="hljs-number">1</span>)                <span class="hljs-keyword">print</span> i            <span class="hljs-keyword">else</span>:                <span class="hljs-keyword">return</span><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">m_window</span>(<span class="hljs-params">QMainWindow</span>):</span>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self</span>):</span>        super(m_window, self).__init__()        self.centralwidget = QWidget(self)        <span class="hljs-comment"># ! StrongFocusï¼šå¯ä»¥é€šè¿‡å•å‡»æ¥æ¥å—ç„¦ç‚¹ï¼Œåªè¦åœ¨çª—å£ä¸‹ï¼Œå°±èƒ½æ¥æ”¶é”®ç›˜äº‹ä»¶</span>        self.setFocusPolicy(Qt.StrongFocus)        self.lay = QHBoxLayout(self.centralwidget)        self.m_btn = QPushButton(<span class="hljs-string">&#x27;Click to run&#x27;</span>)        self.lay.addWidget(self.m_btn)        <span class="hljs-comment"># ! ç‚¹å‡»æŒ‰é’®å¯åŠ¨çº¿ç¨‹</span>        self.m_btn.clicked.connect(self.start_thread)        <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">start_thread</span>(<span class="hljs-params">self</span>):</span>        <span class="hljs-comment"># ! å¯åŠ¨çº¿ç¨‹</span>        self.thread = thread()        self.thread.start()    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">keyPressEvent</span>(<span class="hljs-params">self, event</span>):</span>        <span class="hljs-comment"># ! é‡å†™keyPressEvent</span>        <span class="hljs-keyword">pass</span>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">keyReleaseEvent</span>(<span class="hljs-params">self, event</span>):</span>        <span class="hljs-comment"># ! é‡å†™keyReleaseEvent</span>        <span class="hljs-comment"># ! å½“æŒ‰ä¸‹â€œescâ€æ—¶ï¼Œé€€å‡ºforå¾ªç¯</span>        <span class="hljs-keyword">if</span> event.key() == Qt.Key_Escape:            <span class="hljs-keyword">print</span> <span class="hljs-string">&quot;esc&quot;</span>            self.thread.shut_down_signal = <span class="hljs-literal">False</span><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:    mainWin = m_window()    mainWin.show()</code></pre><h3 id="ğŸ‰-QProgressDialog"><a href="#ğŸ‰-QProgressDialog" class="headerlink" title="ğŸ‰ QProgressDialog"></a>ğŸ‰ QProgressDialog</h3><p>&emsp;&emsp;è¿›åº¦å¯¹è¯æ¡†ç”¨äºå‘ç”¨æˆ·æŒ‡ç¤ºæ“ä½œå°†èŠ±è´¹å¤šé•¿æ—¶é—´ï¼Œå¹¶è¡¨æ˜åº”ç”¨ç¨‹åºæ­£åœ¨è¿è¡Œã€‚å®ƒè¿˜å¯ä»¥ä½¿ç”¨æˆ·æœ‰æœºä¼šä¸­æ­¢è¯¥æ“ä½œã€‚</p><pre><code class="hljs python"><span class="hljs-comment"># -*- coding:utf-8 -*-</span><span class="hljs-keyword">import</span> time<span class="hljs-keyword">from</span> PySide2.QtCore <span class="hljs-keyword">import</span> *<span class="hljs-keyword">from</span> PySide2.QtGui <span class="hljs-keyword">import</span> *<span class="hljs-keyword">from</span> PySide2.QtWidgets <span class="hljs-keyword">import</span> *<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">m_window</span>(<span class="hljs-params">QMainWindow</span>):</span>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self</span>):</span>        super(m_window, self).__init__()        self.centralwidget = QWidget(self)        self.lay = QHBoxLayout(self.centralwidget)        self.m_btn = QPushButton(<span class="hljs-string">&#x27;Click to run&#x27;</span>)        self.lay.addWidget(self.m_btn)        <span class="hljs-comment"># ! ç‚¹å‡»æŒ‰é’®å¯åŠ¨çº¿ç¨‹</span>        self.m_btn.clicked.connect(self.start_thread)        <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">start_thread</span>(<span class="hljs-params">self</span>):</span>        <span class="hljs-comment"># ! åˆ›å»ºè¿›åº¦æ¡</span>        progress = QProgressDialog(<span class="hljs-string">&quot;Running...&quot;</span>, <span class="hljs-string">&quot;Abort&quot;</span>, <span class="hljs-number">0</span>, <span class="hljs-number">10</span>, self);        <span class="hljs-comment"># ! è®¾ç½®è¿›åº¦æ¡æ¨¡å¼</span>        progress.setWindowModality(Qt.WindowModal);        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">10</span>):            progress.setValue(i);            <span class="hljs-keyword">if</span> progress.wasCanceled():                <span class="hljs-keyword">break</span>            time.sleep(<span class="hljs-number">1</span>)            <span class="hljs-keyword">print</span> i        <span class="hljs-keyword">return</span><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:    mainWin = m_window()    mainWin.show()</code></pre><p>&emsp;&emsp;æˆ‘ä»¬å¯ä»¥é€šè¿‡QProgressDialogè¿›åº¦æ¡éšæ—¶æ‰“æ–­æ­£åœ¨è¿è¡Œçš„ç¨‹åºï¼Œè€Œä¸ç”¨è‡ªå·±åˆ›å»ºçº¿ç¨‹ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>SCRIPT</category>
      
      <category>Common</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MAYA</tag>
      
      <tag>SCRIPT</tag>
      
      <tag>PYTHON</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢</title>
    <link href="/2020/08/27/own/%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/"/>
    <url>/2020/08/27/own/%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/</url>
    
    <content type="html"><![CDATA[<p>&emsp;&emsp;å…¶å®æ—©åœ¨ä¸€å¹´å¤šå°±æœ‰æ­å»ºè‡ªå·±åšå®¢çš„æƒ³æ³•ï¼Œä¸»è¦æ˜¯å—åˆ°èº«è¾¹çš„ä¸€ä½ä¼˜ç§€åŒå­¦çš„å½±å“ï¼Œè¿™ä½åŒå­¦åœ¨ä¸‹æ–‡ä¸­å°±ä»¥<font color="Darkorange"><b>æ·»æ·»</b></font>ç›¸ç§°å§ã€‚</p><h3 id="âœ¨ä¸€ä½ä¼˜ç§€çš„åŒå­¦"><a href="#âœ¨ä¸€ä½ä¼˜ç§€çš„åŒå­¦" class="headerlink" title="âœ¨ä¸€ä½ä¼˜ç§€çš„åŒå­¦"></a>âœ¨<font color="FireBrick">ä¸€ä½ä¼˜ç§€çš„åŒå­¦</font></h3><p>&emsp;&emsp;æ·»æ·»æ˜¯ä¸€ä½è‡ªå¾‹æ€§å¼ºã€å­¦ä¹ èƒ½åŠ›çªå‡ºã€ä¹äºåˆ†äº«çš„äººï¼Œæˆ‘æœ‰å¹¸åœ¨å¤§å­¦æˆä¸ºä»–çš„åŒå­¦å¹¶åœ¨å»å¹´ä¸ä»–åœ¨æ·±åœ³åŒä¸€å®¶å…¬å¸è¿›è¡Œå®ä¹ ï¼Œåœ¨å®ä¹ æœŸé—´ï¼Œæˆ‘å‘ç°äº†ä»–èº«ä¸Šè®¸å¤šäº®ç‚¹ï¼Œä¸ä»…ä»…æ˜¯ä»–çš„å­¦ä¹ ç²¾ç¥ï¼Œä»–çš„æ­£ä¹‰ã€å‹¤äºå¾‹å·±å’Œä¹äºå¥‰çŒ®æ›´åŠ ä»¤äººæ•¬ä½©ã€‚å¤©é“é…¬å‹¤ï¼Œä»–ç°åœ¨æ‰¾åˆ°äº†è‡ªå·±æ»¡æ„çš„å·¥ä½œï¼Œå¹¶ä¸”å­œå­œä¸å€¦åœ°ä¸ºè‡ªå·±çš„ç›®æ ‡æ–¹å‘åŠªåŠ›ã€‚</p><p>&emsp;&emsp;æ·»æ·»å¯ä»¥è¯´æ˜¯æˆ‘å½“å‰èŒä¸šé“è·¯ä¸Šçš„æ˜ç¯ï¼ŒåŸåœ¨å¤§ä¸‰æ‰¾å®ä¹ è¿·èŒ«çš„æœŸé—´ï¼Œä»–ç»™äº†æˆ‘ä¸€ä¸ªæœºä¼šï¼Œå¹¶ä¸”æŒ‡æ˜äº†å­¦ä¹ çš„é“è·¯ï¼Œæˆ‘ä¹‹æ‰€ä»¥èƒ½å¤Ÿé¡ºåˆ©åˆ°æ·±åœ³å®ä¹ æ·»æ·»åŠŸä¸å¯æ²¡ã€‚å¤§ä¸‰ä¸‹å­¦æœŸå¼€å­¦çš„æ—¶å€™ï¼Œæˆ‘æ˜æ˜¾æ„Ÿè§‰å®¿èˆçš„æ°›å›´ä¸ä¸€æ ·äº†ï¼Œè€ƒç ”çš„å¼€å§‹æ¯å¤©è·‘å›¾ä¹¦é¦†ï¼Œæ‰¾å®ä¹ çš„å¼€å§‹å‡†å¤‡è‡ªå·±çš„ç®€å†å’Œä½œå“é›†ï¼Œè¿™ä¸€åˆ‡éƒ½å› ä¸ºç§‹æ‹›é©¬ä¸Šè¦åˆ°äº†ã€‚å½“æ—¶æˆ‘å¯¹è‡ªå·±çš„æ–¹å‘å¹¶ä¸æ˜ç¡®ï¼Œä½†æ˜¯ç´§å¼ çš„æ°›å›´ä½¿æˆ‘æ²¡æœ‰é’ˆå¯¹æ€§åœ°å­¦ä¹ ç€ï¼Œç›´åˆ°æœ‰ä¸€ä½å¸ˆå…„é—®æˆ‘æœ‰æ²¡æœ‰å…´è¶£åšä¸€åæµç¨‹TDã€‚è¿™ä½å¸ˆå…„å’Œå½“æ—¶çš„æ·»æ·»åœ¨åŒä¸€å®¶å…¬å¸ï¼Œä»–ä»¬å¸®æˆ‘å†…æ¨ï¼Œç»™æˆ‘æ¨èå­¦ä¹ çš„æ•™ç¨‹ï¼Œæœ€ç»ˆåœ¨ä¸€ä¸ªæœˆåï¼Œæˆ‘æˆåŠŸè¿›å…¥äº†è¿™å®¶å…¬å¸å¹¶å½“äº†ä¸ºæœŸè¿‘ä¸€å¹´å®ä¹ ç”Ÿã€‚ç”±äºæˆ‘çš„ç»éªŒä¸è¶³ï¼Œåœ¨å·¥ä½œè¿‡ç¨‹ä¸­ï¼Œæ·»æ·»ç»™äº†æˆ‘å¾ˆå¤šå¸®åŠ©ï¼Œä½¿æˆ‘æ›´å¿«åœ°ç†Ÿæ‚‰è¿™ä¸€ä»½å·¥ä½œã€‚åœ¨ç›¸å¤„è¿‡ç¨‹ä¸­ï¼Œæˆ‘è¶Šå‘èƒ½æ„Ÿè§‰åˆ°è‡ªå·±ä¸ä¼˜ç§€äººæ‰çš„å·®è·ï¼Œåªæœ‰æ›´åŠ åŠªåŠ›æ‰èƒ½è®©å·®è·ä¸è¦è¶Šæ‹‰è¶Šå¤§ã€‚å¥½å§ï¼Œæˆ‘æ‰¿è®¤è¿˜æ˜¯æ²¡æœ‰è·Ÿä¸Šæ·»æ·»å¿«å¦‚é—ªç”µã€è¿…è‹¥æƒŠé›·çš„æ­¥ä¼ã€‚ã€‚ã€‚ğŸ˜‚</p><p>&emsp;&emsp;ä»–æœ‰ä¸ªäººæŠ€æœ¯åšå®¢ï¼Œå½“ç„¶ä»–ä¹Ÿä¼šåœ¨ä¸Šé¢åˆ†äº«ä¸€äº›ä»–ç”Ÿæ´»ä¸Šçš„ç»å†ï¼Œè¿™æ˜¯ä»–åšå®¢çš„åœ°å€ï¼š<a href="https://blog.l0v0.com/">æ™ºä¼¤å¸çš„ä¸ªäººåšå®¢</a></p><p>&emsp;&emsp;å½“æˆ‘ç¬¬ä¸€æ¬¡çœ‹ä»–çš„åšå®¢æ—¶ï¼Œæˆ‘ä¸ç¦æ„Ÿæ…¨ï¼Œè¿™å¤ªå¼ºäº†ï¼ç„¶åæˆ‘ä¹Ÿæˆä¸ºäº†ä»–åšå®¢çš„ç²‰ä¸ï¼Œå®šæœŸä¸Šå»çœ‹æœ‰æ²¡æœ‰æ›´æ–°æ–°å†…å®¹ã€‚å½“æ—¶æˆ‘èŒç”Ÿäº†æ­å»ºè‡ªå·±åšå®¢çš„æƒ³æ³•ï¼Œä»–å¾ˆçƒ­å¿ƒåœ°å¸®åŠ©æˆ‘å¹¶å¸®æˆ‘è§£å†³è¿‡ç¨‹ä¸­çš„é—®é¢˜ï¼Œä½†ä¹‹æ‰€ä»¥æˆ‘çš„åšå®¢æ²¡æœ‰åœ¨ä¸€å¹´å‰å‡ºä¸–ï¼Œå½’æ ¹åˆ°åº•è¿˜æ˜¯å› ä¸ºè‡ªå·±ä¸å¤Ÿå‹¤å¿«ã€‚(Í’Ë¶Â´âš‡`Ëµ)Í’</p><p>&emsp;&emsp;ç°åœ¨ï¼Œç»ˆäºæŠŠä¸€ä»¶æ²¡åšå®Œçš„äº‹å®ç°äº†ã€‚ğŸ˜€</p><p>&emsp;&emsp;åšå®¢æ­å»ºå‚è€ƒï¼š<a href="https://blog.csdn.net/sinat_37781304/article/details/82729029">hexoå²ä¸Šæœ€å…¨æ­å»ºæ•™ç¨‹</a></p><h3 id="âœ‹One-Noteçš„ç¼ºç‚¹"><a href="#âœ‹One-Noteçš„ç¼ºç‚¹" class="headerlink" title="âœ‹One Noteçš„ç¼ºç‚¹"></a>âœ‹<font color="FireBrick">One Noteçš„ç¼ºç‚¹</font></h3><p>&emsp;&emsp;ç”±äºä¹‹å‰æ²¡æœ‰ä½¿ç”¨åšå®¢ï¼Œä¸€èˆ¬é‡åˆ°é—®é¢˜éƒ½æ˜¯ç›´æ¥è®°å½•åœ¨One Noteä¸Šã€‚ä½†æ˜¯OneNoteå¯ä»¥åœ¨ç©ºç™½ç‰ˆä¸Šéšæ„ç©ºé—´æ’å…¥æ–‡æœ¬å†…å®¹ï¼Œè®°å½•é—®é¢˜æ—¶å¾ˆå¤šæ—¶å€™ä»…ä»…ä¸ºäº†æ–¹ä¾¿è€Œæ²¡æœ‰è¿›è¡Œæ’ç‰ˆï¼Œå¯¼è‡´ä¹‹åé˜…è¯»ä¸Šçš„ä½“éªŒæ¯”è¾ƒç³Ÿç³•ï¼Œä¹Ÿä¸ä¾¿äºåˆ†äº«ã€‚One Noteè¿˜æœ‰ä¸€ä¸ªè‡´å‘½çš„ç¼ºç‚¹æ˜¯ï¼šå¦‚æœç›´æ¥æŠŠä»£ç ç²˜è´´åˆ°é¡µé¢ä¸Šï¼Œå½“ä½ ä¹‹åéœ€è¦é‡æ–°å¤åˆ¶è¿™æ®µä»£ç æ—¶ï¼Œä»£ç ä¸­çš„ç©ºæ ¼ä¼šå˜æˆä¹±ç ï¼Œä¸å¯ä»¥ç›´æ¥è¿è¡Œä½¿ç”¨ã€‚ğŸ˜ è™½ç„¶è¿™ä¸ªé—®é¢˜å¯ä»¥é€šè¿‡æ’ä»¶â€œNoteHighlightâ€è§£å†³ï¼Œä½†æ˜¯æ¯æ¬¡éƒ½è¦é€šè¿‡è¿™ä¸ªæ’ä»¶è¿›è¡Œè½¬åŒ–åå†ç²˜è´´ï¼Œç€å®ä¸å¤Ÿæ–¹ä¾¿ã€‚</p><p>&emsp;&emsp;å› æ­¤ï¼Œè¶ç€æœ‰ç©ºæ•´ç†ä¸€ä¸‹ç¬”è®°é¡ºä¾¿è®°å½•åˆ°åšå®¢ä¸Šæ¥å§ï¼</p>]]></content>
    
    
    <categories>
      
      <category>ä¸ªäºº</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PERSONAL</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
